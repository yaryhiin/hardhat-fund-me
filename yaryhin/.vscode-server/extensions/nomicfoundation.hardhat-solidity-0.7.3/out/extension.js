var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __markAsModule=target=>__defProp(target,"__esModule",{value:!0});var __commonJS=(cb,mod)=>function(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__reExport=(target,module2,copyDefault,desc)=>{if(module2&&typeof module2=="object"||typeof module2=="function")for(let key of __getOwnPropNames(module2))!__hasOwnProp.call(target,key)&&(copyDefault||key!=="default")&&__defProp(target,key,{get:()=>module2[key],enumerable:!(desc=__getOwnPropDesc(module2,key))||desc.enumerable});return target},__toESM=(module2,isNodeMode)=>__reExport(__markAsModule(__defProp(module2!=null?__create(__getProtoOf(module2)):{},"default",!isNodeMode&&module2&&module2.__esModule?{get:()=>module2.default,enumerable:!0}:{value:module2,enumerable:!0})),module2),__toCommonJS=(cache=>(module2,temp)=>cache&&cache.get(module2)||(temp=__reExport(__markAsModule({}),module2,1),cache&&cache.set(module2,temp),temp))(typeof WeakMap!="undefined"?new WeakMap:0);var require_tslib=__commonJS({"../node_modules/tslib/tslib.js"(exports,module2){var __extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__exportStar,__values,__read,__spread,__spreadArrays,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding;(function(factory){var root=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(exports2){factory(createExporter(root,createExporter(exports2)))}):typeof module2=="object"&&typeof module2.exports=="object"?factory(createExporter(root,createExporter(module2.exports))):factory(createExporter(root));function createExporter(exports2,previous){return exports2!==root&&(typeof Object.create=="function"?Object.defineProperty(exports2,"__esModule",{value:!0}):exports2.__esModule=!0),function(id,v){return exports2[id]=previous?previous(id,v):v}}})(function(exporter){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};__extends=function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)},__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__metadata=function(metadataKey,metadataValue){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(metadataKey,metadataValue)},__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},__createBinding=function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]},__exportStar=function(m,exports2){for(var p in m)p!=="default"&&!exports2.hasOwnProperty(p)&&(exports2[p]=m[p])},__values=function(o){var s=typeof Symbol=="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(o,n){var m=typeof Symbol=="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},__await=function(v){return this instanceof __await?(this.v=v,this):new __await(v)},__asyncGenerator=function(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})})}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}},__asyncDelegator=function(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:n==="return"}:f?f(v):v}:f}},__asyncValues=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v2){resolve({value:v2,done:d})},reject)}},__makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__importStar=function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result},__importDefault=function(mod){return mod&&mod.__esModule?mod:{default:mod}},__classPrivateFieldGet=function(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)},__classPrivateFieldSet=function(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value},exporter("__extends",__extends),exporter("__assign",__assign),exporter("__rest",__rest),exporter("__decorate",__decorate),exporter("__param",__param),exporter("__metadata",__metadata),exporter("__awaiter",__awaiter),exporter("__generator",__generator),exporter("__exportStar",__exportStar),exporter("__createBinding",__createBinding),exporter("__values",__values),exporter("__read",__read),exporter("__spread",__spread),exporter("__spreadArrays",__spreadArrays),exporter("__await",__await),exporter("__asyncGenerator",__asyncGenerator),exporter("__asyncDelegator",__asyncDelegator),exporter("__asyncValues",__asyncValues),exporter("__makeTemplateObject",__makeTemplateObject),exporter("__importStar",__importStar),exporter("__importDefault",__importDefault),exporter("__classPrivateFieldGet",__classPrivateFieldGet),exporter("__classPrivateFieldSet",__classPrivateFieldSet)})}});var require_severity=__commonJS({"../node_modules/@sentry/types/dist/severity.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var Severity;(function(Severity2){Severity2.Fatal="fatal",Severity2.Error="error",Severity2.Warning="warning",Severity2.Log="log",Severity2.Info="info",Severity2.Debug="debug",Severity2.Critical="critical"})(Severity=exports.Severity||(exports.Severity={}));exports.SeverityLevels=["fatal","error","warning","log","info","debug","critical"]}});var require_dist=__commonJS({"../node_modules/@sentry/types/dist/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var severity_1=require_severity();exports.Severity=severity_1.Severity;var severity_2=require_severity();exports.SeverityLevels=severity_2.SeverityLevels}});var require_async=__commonJS({"../node_modules/@sentry/utils/dist/async.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});function forget(promise){promise.then(null,function(e){console.error(e)})}exports.forget=forget}});var require_env=__commonJS({"../node_modules/@sentry/utils/dist/env.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var __SENTRY_DEBUG__=!0;function isDebugBuild(){return __SENTRY_DEBUG__}exports.isDebugBuild=isDebugBuild;function isBrowserBundle(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}exports.isBrowserBundle=isBrowserBundle}});var require_node=__commonJS({"../node_modules/@sentry/utils/dist/node.js"(exports,module2){Object.defineProperty(exports,"__esModule",{value:!0});var env_1=require_env();function isNodeEnv(){return!env_1.isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}exports.isNodeEnv=isNodeEnv;function dynamicRequire(mod,request){return mod.require(request)}exports.dynamicRequire=dynamicRequire;function loadModule(moduleName){var mod;try{mod=dynamicRequire(module2,moduleName)}catch{}try{var cwd=dynamicRequire(module2,"process").cwd;mod=dynamicRequire(module2,cwd()+"/node_modules/"+moduleName)}catch{}return mod}exports.loadModule=loadModule}});var require_global=__commonJS({"../node_modules/@sentry/utils/dist/global.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var node_1=require_node(),fallbackGlobalObject={};function getGlobalObject(){return node_1.isNodeEnv()?global:typeof window<"u"?window:typeof self<"u"?self:fallbackGlobalObject}exports.getGlobalObject=getGlobalObject}});var require_is=__commonJS({"../node_modules/@sentry/utils/dist/is.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var objectToString=Object.prototype.toString;function isError(wat){switch(objectToString.call(wat)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(wat,Error)}}exports.isError=isError;function isBuiltin(wat,ty){return objectToString.call(wat)==="[object "+ty+"]"}function isErrorEvent(wat){return isBuiltin(wat,"ErrorEvent")}exports.isErrorEvent=isErrorEvent;function isDOMError(wat){return isBuiltin(wat,"DOMError")}exports.isDOMError=isDOMError;function isDOMException(wat){return isBuiltin(wat,"DOMException")}exports.isDOMException=isDOMException;function isString(wat){return isBuiltin(wat,"String")}exports.isString=isString;function isPrimitive(wat){return wat===null||typeof wat!="object"&&typeof wat!="function"}exports.isPrimitive=isPrimitive;function isPlainObject(wat){return isBuiltin(wat,"Object")}exports.isPlainObject=isPlainObject;function isEvent(wat){return typeof Event<"u"&&isInstanceOf(wat,Event)}exports.isEvent=isEvent;function isElement(wat){return typeof Element<"u"&&isInstanceOf(wat,Element)}exports.isElement=isElement;function isRegExp(wat){return isBuiltin(wat,"RegExp")}exports.isRegExp=isRegExp;function isThenable(wat){return Boolean(wat&&wat.then&&typeof wat.then=="function")}exports.isThenable=isThenable;function isSyntheticEvent(wat){return isPlainObject(wat)&&"nativeEvent"in wat&&"preventDefault"in wat&&"stopPropagation"in wat}exports.isSyntheticEvent=isSyntheticEvent;function isInstanceOf(wat,base){try{return wat instanceof base}catch{return!1}}exports.isInstanceOf=isInstanceOf}});var require_browser=__commonJS({"../node_modules/@sentry/utils/dist/browser.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var global_1=require_global(),is_1=require_is();function htmlTreeAsString(elem,keyAttrs){try{for(var currentElem=elem,MAX_TRAVERSE_HEIGHT=5,MAX_OUTPUT_LEN=80,out=[],height=0,len=0,separator=" > ",sepLength=separator.length,nextStr=void 0;currentElem&&height++<MAX_TRAVERSE_HEIGHT&&(nextStr=_htmlElementAsString(currentElem,keyAttrs),!(nextStr==="html"||height>1&&len+out.length*sepLength+nextStr.length>=MAX_OUTPUT_LEN));)out.push(nextStr),len+=nextStr.length,currentElem=currentElem.parentNode;return out.reverse().join(separator)}catch{return"<unknown>"}}exports.htmlTreeAsString=htmlTreeAsString;function _htmlElementAsString(el,keyAttrs){var elem=el,out=[],className,classes,key,attr,i;if(!elem||!elem.tagName)return"";out.push(elem.tagName.toLowerCase());var keyAttrPairs=keyAttrs&&keyAttrs.length?keyAttrs.filter(function(keyAttr){return elem.getAttribute(keyAttr)}).map(function(keyAttr){return[keyAttr,elem.getAttribute(keyAttr)]}):null;if(keyAttrPairs&&keyAttrPairs.length)keyAttrPairs.forEach(function(keyAttrPair){out.push("["+keyAttrPair[0]+'="'+keyAttrPair[1]+'"]')});else if(elem.id&&out.push("#"+elem.id),className=elem.className,className&&is_1.isString(className))for(classes=className.split(/\s+/),i=0;i<classes.length;i++)out.push("."+classes[i]);var allowedAttrs=["type","name","title","alt"];for(i=0;i<allowedAttrs.length;i++)key=allowedAttrs[i],attr=elem.getAttribute(key),attr&&out.push("["+key+'="'+attr+'"]');return out.join("")}function getLocationHref(){var global2=global_1.getGlobalObject();try{return global2.document.location.href}catch{return""}}exports.getLocationHref=getLocationHref}});var require_polyfill=__commonJS({"../node_modules/@sentry/utils/dist/polyfill.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);function setProtoOf(obj,proto){return obj.__proto__=proto,obj}function mixinProperties(obj,proto){for(var prop in proto)Object.prototype.hasOwnProperty.call(obj,prop)||(obj[prop]=proto[prop]);return obj}}});var require_error=__commonJS({"../node_modules/@sentry/utils/dist/error.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),polyfill_1=require_polyfill(),SentryError=function(_super){tslib_1.__extends(SentryError2,_super);function SentryError2(message){var _newTarget=this.constructor,_this=_super.call(this,message)||this;return _this.message=message,_this.name=_newTarget.prototype.constructor.name,polyfill_1.setPrototypeOf(_this,_newTarget.prototype),_this}return SentryError2}(Error);exports.SentryError=SentryError}});var require_dsn=__commonJS({"../node_modules/@sentry/utils/dist/dsn.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),env_1=require_env(),error_1=require_error(),DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(protocol){return protocol==="http"||protocol==="https"}function dsnToString(dsn,withPassword){withPassword===void 0&&(withPassword=!1);var host=dsn.host,path4=dsn.path,pass=dsn.pass,port=dsn.port,projectId=dsn.projectId,protocol=dsn.protocol,publicKey=dsn.publicKey;return protocol+"://"+publicKey+(withPassword&&pass?":"+pass:"")+("@"+host+(port?":"+port:"")+"/"+(path4&&path4+"/")+projectId)}exports.dsnToString=dsnToString;function dsnFromString(str){var match=DSN_REGEX.exec(str);if(!match)throw new error_1.SentryError("Invalid Sentry Dsn: "+str);var _a=tslib_1.__read(match.slice(1),6),protocol=_a[0],publicKey=_a[1],_b=_a[2],pass=_b===void 0?"":_b,host=_a[3],_c=_a[4],port=_c===void 0?"":_c,lastPath=_a[5],path4="",projectId=lastPath,split=projectId.split("/");if(split.length>1&&(path4=split.slice(0,-1).join("/"),projectId=split.pop()),projectId){var projectMatch=projectId.match(/^\d+/);projectMatch&&(projectId=projectMatch[0])}return dsnFromComponents({host,pass,path:path4,projectId,port,protocol,publicKey})}function dsnFromComponents(components){return"user"in components&&!("publicKey"in components)&&(components.publicKey=components.user),{user:components.publicKey||"",protocol:components.protocol,publicKey:components.publicKey||"",pass:components.pass||"",host:components.host,port:components.port||"",path:components.path||"",projectId:components.projectId}}function validateDsn(dsn){if(!!env_1.isDebugBuild()){var port=dsn.port,projectId=dsn.projectId,protocol=dsn.protocol,requiredComponents=["protocol","publicKey","host","projectId"];if(requiredComponents.forEach(function(component){if(!dsn[component])throw new error_1.SentryError("Invalid Sentry Dsn: "+component+" missing")}),!projectId.match(/^\d+$/))throw new error_1.SentryError("Invalid Sentry Dsn: Invalid projectId "+projectId);if(!isValidProtocol(protocol))throw new error_1.SentryError("Invalid Sentry Dsn: Invalid protocol "+protocol);if(port&&isNaN(parseInt(port,10)))throw new error_1.SentryError("Invalid Sentry Dsn: Invalid port "+port);return!0}}function makeDsn(from){var components=typeof from=="string"?dsnFromString(from):dsnFromComponents(from);return validateDsn(components),components}exports.makeDsn=makeDsn}});var require_enums=__commonJS({"../node_modules/@sentry/utils/dist/enums.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.SeverityLevels=["fatal","error","warning","log","info","debug","critical"]}});var require_logger=__commonJS({"../node_modules/@sentry/utils/dist/logger.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),env_1=require_env(),global_1=require_global(),global2=global_1.getGlobalObject(),PREFIX="Sentry Logger ";exports.CONSOLE_LEVELS=["debug","info","warn","error","log","assert"];function consoleSandbox(callback){var global3=global_1.getGlobalObject();if(!("console"in global3))return callback();var originalConsole=global3.console,wrappedLevels={};exports.CONSOLE_LEVELS.forEach(function(level){level in global3.console&&originalConsole[level].__sentry_original__&&(wrappedLevels[level]=originalConsole[level],originalConsole[level]=originalConsole[level].__sentry_original__)});var result=callback();return Object.keys(wrappedLevels).forEach(function(level){originalConsole[level]=wrappedLevels[level]}),result}exports.consoleSandbox=consoleSandbox;var Logger2=function(){function Logger3(){this._enabled=!1}return Logger3.prototype.disable=function(){this._enabled=!1},Logger3.prototype.enable=function(){this._enabled=!0},Logger3.prototype.log=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];!this._enabled||consoleSandbox(function(){var _a;(_a=global2.console).log.apply(_a,tslib_1.__spread([PREFIX+"[Log]:"],args))})},Logger3.prototype.warn=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];!this._enabled||consoleSandbox(function(){var _a;(_a=global2.console).warn.apply(_a,tslib_1.__spread([PREFIX+"[Warn]:"],args))})},Logger3.prototype.error=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];!this._enabled||consoleSandbox(function(){var _a;(_a=global2.console).error.apply(_a,tslib_1.__spread([PREFIX+"[Error]:"],args))})},Logger3}(),sentryGlobal=global2.__SENTRY__||{},logger=sentryGlobal.logger||new Logger2;exports.logger=logger;env_1.isDebugBuild()&&(sentryGlobal.logger=logger,global2.__SENTRY__=sentryGlobal)}});var require_memo=__commonJS({"../node_modules/@sentry/utils/dist/memo.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});function memoBuilder(){var hasWeakSet=typeof WeakSet=="function",inner=hasWeakSet?new WeakSet:[];function memoize(obj){if(hasWeakSet)return inner.has(obj)?!0:(inner.add(obj),!1);for(var i=0;i<inner.length;i++){var value=inner[i];if(value===obj)return!0}return inner.push(obj),!1}function unmemoize(obj){if(hasWeakSet)inner.delete(obj);else for(var i=0;i<inner.length;i++)if(inner[i]===obj){inner.splice(i,1);break}}return[memoize,unmemoize]}exports.memoBuilder=memoBuilder}});var require_stacktrace=__commonJS({"../node_modules/@sentry/utils/dist/stacktrace.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),STACKTRACE_LIMIT=50;function createStackParser(){for(var parsers=[],_i=0;_i<arguments.length;_i++)parsers[_i]=arguments[_i];var sortedParsers=parsers.sort(function(a,b){return a[0]-b[0]}).map(function(p){return p[1]});return function(stack,skipFirst){var e_1,_a,e_2,_b;skipFirst===void 0&&(skipFirst=0);var frames=[];try{for(var _c=tslib_1.__values(stack.split(`
`).slice(skipFirst)),_d=_c.next();!_d.done;_d=_c.next()){var line=_d.value;try{for(var sortedParsers_1=(e_2=void 0,tslib_1.__values(sortedParsers)),sortedParsers_1_1=sortedParsers_1.next();!sortedParsers_1_1.done;sortedParsers_1_1=sortedParsers_1.next()){var parser=sortedParsers_1_1.value,frame=parser(line);if(frame){frames.push(frame);break}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{sortedParsers_1_1&&!sortedParsers_1_1.done&&(_b=sortedParsers_1.return)&&_b.call(sortedParsers_1)}finally{if(e_2)throw e_2.error}}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}return stripSentryFramesAndReverse(frames)}}exports.createStackParser=createStackParser;function stripSentryFramesAndReverse(stack){if(!stack.length)return[];var localStack=stack,firstFrameFunction=localStack[0].function||"",lastFrameFunction=localStack[localStack.length-1].function||"";return(firstFrameFunction.indexOf("captureMessage")!==-1||firstFrameFunction.indexOf("captureException")!==-1)&&(localStack=localStack.slice(1)),lastFrameFunction.indexOf("sentryWrapped")!==-1&&(localStack=localStack.slice(0,-1)),localStack.slice(0,STACKTRACE_LIMIT).map(function(frame){return tslib_1.__assign(tslib_1.__assign({},frame),{filename:frame.filename||localStack[0].filename,function:frame.function||"?"})}).reverse()}exports.stripSentryFramesAndReverse=stripSentryFramesAndReverse;var defaultFunctionName="<anonymous>";function getFunctionName(fn){try{return!fn||typeof fn!="function"?defaultFunctionName:fn.name||defaultFunctionName}catch{return defaultFunctionName}}exports.getFunctionName=getFunctionName}});var require_string=__commonJS({"../node_modules/@sentry/utils/dist/string.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var is_1=require_is();function truncate(str,max){return max===void 0&&(max=0),typeof str!="string"||max===0||str.length<=max?str:str.substr(0,max)+"..."}exports.truncate=truncate;function snipLine(line,colno){var newLine=line,lineLength=newLine.length;if(lineLength<=150)return newLine;colno>lineLength&&(colno=lineLength);var start=Math.max(colno-60,0);start<5&&(start=0);var end=Math.min(start+140,lineLength);return end>lineLength-5&&(end=lineLength),end===lineLength&&(start=Math.max(end-140,0)),newLine=newLine.slice(start,end),start>0&&(newLine="'{snip} "+newLine),end<lineLength&&(newLine+=" {snip}"),newLine}exports.snipLine=snipLine;function safeJoin(input,delimiter){if(!Array.isArray(input))return"";for(var output=[],i=0;i<input.length;i++){var value=input[i];try{output.push(String(value))}catch{output.push("[value cannot be serialized]")}}return output.join(delimiter)}exports.safeJoin=safeJoin;function isMatchingPattern(value,pattern){return is_1.isString(value)?is_1.isRegExp(pattern)?pattern.test(value):typeof pattern=="string"?value.indexOf(pattern)!==-1:!1:!1}exports.isMatchingPattern=isMatchingPattern;function escapeStringForRegex(regexString){return regexString.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}exports.escapeStringForRegex=escapeStringForRegex}});var require_object=__commonJS({"../node_modules/@sentry/utils/dist/object.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),browser_1=require_browser(),is_1=require_is(),memo_1=require_memo(),stacktrace_1=require_stacktrace(),string_1=require_string();function fill(source,name,replacementFactory){if(name in source){var original=source[name],wrapped=replacementFactory(original);if(typeof wrapped=="function")try{markFunctionWrapped(wrapped,original)}catch{}source[name]=wrapped}}exports.fill=fill;function addNonEnumerableProperty(obj,name,value){Object.defineProperty(obj,name,{value,writable:!0,configurable:!0})}exports.addNonEnumerableProperty=addNonEnumerableProperty;function markFunctionWrapped(wrapped,original){var proto=original.prototype||{};wrapped.prototype=original.prototype=proto,addNonEnumerableProperty(wrapped,"__sentry_original__",original)}exports.markFunctionWrapped=markFunctionWrapped;function getOriginalFunction(func){return func.__sentry_original__}exports.getOriginalFunction=getOriginalFunction;function urlEncode(object){return Object.keys(object).map(function(key){return encodeURIComponent(key)+"="+encodeURIComponent(object[key])}).join("&")}exports.urlEncode=urlEncode;function getWalkSource(value){if(is_1.isError(value)){var error=value,err={message:error.message,name:error.name,stack:error.stack};for(var i in error)Object.prototype.hasOwnProperty.call(error,i)&&(err[i]=error[i]);return err}if(is_1.isEvent(value)){var event_1=value,source={};source.type=event_1.type;try{source.target=is_1.isElement(event_1.target)?browser_1.htmlTreeAsString(event_1.target):Object.prototype.toString.call(event_1.target)}catch{source.target="<unknown>"}try{source.currentTarget=is_1.isElement(event_1.currentTarget)?browser_1.htmlTreeAsString(event_1.currentTarget):Object.prototype.toString.call(event_1.currentTarget)}catch{source.currentTarget="<unknown>"}typeof CustomEvent<"u"&&is_1.isInstanceOf(value,CustomEvent)&&(source.detail=event_1.detail);for(var attr in event_1)Object.prototype.hasOwnProperty.call(event_1,attr)&&(source[attr]=event_1[attr]);return source}return value}function utf8Length(value){return~-encodeURI(value).split(/%..|./).length}function jsonSize(value){return utf8Length(JSON.stringify(value))}function normalizeToSize(object,depth,maxSize){depth===void 0&&(depth=3),maxSize===void 0&&(maxSize=100*1024);var serialized=normalize(object,depth);return jsonSize(serialized)>maxSize?normalizeToSize(object,depth-1,maxSize):serialized}exports.normalizeToSize=normalizeToSize;function serializeValue(value){if(typeof value=="string")return value;var type=Object.prototype.toString.call(value);if(type==="[object Object]")return"[Object]";if(type==="[object Array]")return"[Array]";var serializable=makeSerializable(value);return is_1.isPrimitive(serializable)?serializable:type}function makeSerializable(value,key){return key==="domain"&&value&&typeof value=="object"&&value._events?"[Domain]":key==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&value===global?"[Global]":typeof window<"u"&&value===window?"[Window]":typeof document<"u"&&value===document?"[Document]":is_1.isSyntheticEvent(value)?"[SyntheticEvent]":typeof value=="number"&&value!==value?"[NaN]":value===void 0?"[undefined]":typeof value=="function"?"[Function: "+stacktrace_1.getFunctionName(value)+"]":typeof value=="symbol"?"["+String(value)+"]":typeof value=="bigint"?"[BigInt: "+String(value)+"]":value}function walk(key,value,depth,maxProperties,memo){depth===void 0&&(depth=1/0),maxProperties===void 0&&(maxProperties=1/0),memo===void 0&&(memo=memo_1.memoBuilder());var _a=tslib_1.__read(memo,2),memoize=_a[0],unmemoize=_a[1];if(depth===0)return serializeValue(value);if(value!=null&&typeof value.toJSON=="function")return value.toJSON();var serializable=makeSerializable(value,key);if(is_1.isPrimitive(serializable))return serializable;var source=getWalkSource(value),acc=Array.isArray(value)?[]:{};if(memoize(value))return"[Circular ~]";var propertyCount=0;for(var innerKey in source)if(!!Object.prototype.hasOwnProperty.call(source,innerKey)){if(propertyCount>=maxProperties){acc[innerKey]="[MaxProperties ~]";break}propertyCount+=1;var innerValue=source[innerKey];acc[innerKey]=walk(innerKey,innerValue,depth-1,maxProperties,memo)}return unmemoize(value),acc}exports.walk=walk;function normalize(input,depth,maxProperties){depth===void 0&&(depth=1/0),maxProperties===void 0&&(maxProperties=1/0);try{return walk("",input,depth,maxProperties)}catch{return"**non-serializable**"}}exports.normalize=normalize;function extractExceptionKeysForMessage(exception,maxLength){maxLength===void 0&&(maxLength=40);var keys=Object.keys(getWalkSource(exception));if(keys.sort(),!keys.length)return"[object has no keys]";if(keys[0].length>=maxLength)return string_1.truncate(keys[0],maxLength);for(var includedKeys=keys.length;includedKeys>0;includedKeys--){var serialized=keys.slice(0,includedKeys).join(", ");if(!(serialized.length>maxLength))return includedKeys===keys.length?serialized:string_1.truncate(serialized,maxLength)}return""}exports.extractExceptionKeysForMessage=extractExceptionKeysForMessage;function dropUndefinedKeys(val){var e_1,_a;if(is_1.isPlainObject(val)){var obj=val,rv={};try{for(var _b=tslib_1.__values(Object.keys(obj)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value;typeof obj[key]<"u"&&(rv[key]=dropUndefinedKeys(obj[key]))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return rv}return Array.isArray(val)?val.map(dropUndefinedKeys):val}exports.dropUndefinedKeys=dropUndefinedKeys;function objectify(wat){var objectified;switch(!0){case wat==null:objectified=new String(wat);break;case(typeof wat=="symbol"||typeof wat=="bigint"):objectified=Object(wat);break;case is_1.isPrimitive(wat):objectified=new wat.constructor(wat);break;default:objectified=wat;break}return objectified}exports.objectify=objectify}});var require_supports=__commonJS({"../node_modules/@sentry/utils/dist/supports.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var env_1=require_env(),global_1=require_global(),logger_1=require_logger();function supportsErrorEvent(){try{return new ErrorEvent(""),!0}catch{return!1}}exports.supportsErrorEvent=supportsErrorEvent;function supportsDOMError(){try{return new DOMError(""),!0}catch{return!1}}exports.supportsDOMError=supportsDOMError;function supportsDOMException(){try{return new DOMException(""),!0}catch{return!1}}exports.supportsDOMException=supportsDOMException;function supportsFetch(){if(!("fetch"in global_1.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}exports.supportsFetch=supportsFetch;function isNativeFetch(func){return func&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(func.toString())}exports.isNativeFetch=isNativeFetch;function supportsNativeFetch(){if(!supportsFetch())return!1;var global2=global_1.getGlobalObject();if(isNativeFetch(global2.fetch))return!0;var result=!1,doc=global2.document;if(doc&&typeof doc.createElement=="function")try{var sandbox=doc.createElement("iframe");sandbox.hidden=!0,doc.head.appendChild(sandbox),sandbox.contentWindow&&sandbox.contentWindow.fetch&&(result=isNativeFetch(sandbox.contentWindow.fetch)),doc.head.removeChild(sandbox)}catch(err){env_1.isDebugBuild()&&logger_1.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",err)}return result}exports.supportsNativeFetch=supportsNativeFetch;function supportsReportingObserver(){return"ReportingObserver"in global_1.getGlobalObject()}exports.supportsReportingObserver=supportsReportingObserver;function supportsReferrerPolicy(){if(!supportsFetch())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}exports.supportsReferrerPolicy=supportsReferrerPolicy;function supportsHistory(){var global2=global_1.getGlobalObject(),chrome=global2.chrome,isChromePackagedApp=chrome&&chrome.app&&chrome.app.runtime,hasHistoryApi="history"in global2&&!!global2.history.pushState&&!!global2.history.replaceState;return!isChromePackagedApp&&hasHistoryApi}exports.supportsHistory=supportsHistory}});var require_instrument=__commonJS({"../node_modules/@sentry/utils/dist/instrument.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),env_1=require_env(),global_1=require_global(),is_1=require_is(),logger_1=require_logger(),object_1=require_object(),stacktrace_1=require_stacktrace(),supports_1=require_supports(),global2=global_1.getGlobalObject(),handlers={},instrumented={};function instrument(type){if(!instrumented[type])switch(instrumented[type]=!0,type){case"console":instrumentConsole();break;case"dom":instrumentDOM();break;case"xhr":instrumentXHR();break;case"fetch":instrumentFetch();break;case"history":instrumentHistory();break;case"error":instrumentError();break;case"unhandledrejection":instrumentUnhandledRejection();break;default:env_1.isDebugBuild()&&logger_1.logger.warn("unknown instrumentation type:",type);return}}function addInstrumentationHandler(type,callback){handlers[type]=handlers[type]||[],handlers[type].push(callback),instrument(type)}exports.addInstrumentationHandler=addInstrumentationHandler;function triggerHandlers(type,data){var e_1,_a;if(!(!type||!handlers[type]))try{for(var _b=tslib_1.__values(handlers[type]||[]),_c=_b.next();!_c.done;_c=_b.next()){var handler=_c.value;try{handler(data)}catch(e){env_1.isDebugBuild()&&logger_1.logger.error(`Error while triggering instrumentation handler.
Type: `+type+`
Name: `+stacktrace_1.getFunctionName(handler)+`
Error:`,e)}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}function instrumentConsole(){"console"in global2&&logger_1.CONSOLE_LEVELS.forEach(function(level){level in global2.console&&object_1.fill(global2.console,level,function(originalConsoleMethod){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];triggerHandlers("console",{args,level}),originalConsoleMethod&&originalConsoleMethod.apply(global2.console,args)}})})}function instrumentFetch(){!supports_1.supportsNativeFetch()||object_1.fill(global2,"fetch",function(originalFetch){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var handlerData={args,fetchData:{method:getFetchMethod(args),url:getFetchUrl(args)},startTimestamp:Date.now()};return triggerHandlers("fetch",tslib_1.__assign({},handlerData)),originalFetch.apply(global2,args).then(function(response){return triggerHandlers("fetch",tslib_1.__assign(tslib_1.__assign({},handlerData),{endTimestamp:Date.now(),response})),response},function(error){throw triggerHandlers("fetch",tslib_1.__assign(tslib_1.__assign({},handlerData),{endTimestamp:Date.now(),error})),error})}})}function getFetchMethod(fetchArgs){return fetchArgs===void 0&&(fetchArgs=[]),"Request"in global2&&is_1.isInstanceOf(fetchArgs[0],Request)&&fetchArgs[0].method?String(fetchArgs[0].method).toUpperCase():fetchArgs[1]&&fetchArgs[1].method?String(fetchArgs[1].method).toUpperCase():"GET"}function getFetchUrl(fetchArgs){return fetchArgs===void 0&&(fetchArgs=[]),typeof fetchArgs[0]=="string"?fetchArgs[0]:"Request"in global2&&is_1.isInstanceOf(fetchArgs[0],Request)?fetchArgs[0].url:String(fetchArgs[0])}function instrumentXHR(){if("XMLHttpRequest"in global2){var xhrproto=XMLHttpRequest.prototype;object_1.fill(xhrproto,"open",function(originalOpen){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var xhr=this,url=args[1],xhrInfo=xhr.__sentry_xhr__={method:is_1.isString(args[0])?args[0].toUpperCase():args[0],url:args[1]};is_1.isString(url)&&xhrInfo.method==="POST"&&url.match(/sentry_key/)&&(xhr.__sentry_own_request__=!0);var onreadystatechangeHandler=function(){if(xhr.readyState===4){try{xhrInfo.status_code=xhr.status}catch{}triggerHandlers("xhr",{args,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr})}};return"onreadystatechange"in xhr&&typeof xhr.onreadystatechange=="function"?object_1.fill(xhr,"onreadystatechange",function(original){return function(){for(var readyStateArgs=[],_i2=0;_i2<arguments.length;_i2++)readyStateArgs[_i2]=arguments[_i2];return onreadystatechangeHandler(),original.apply(xhr,readyStateArgs)}}):xhr.addEventListener("readystatechange",onreadystatechangeHandler),originalOpen.apply(xhr,args)}}),object_1.fill(xhrproto,"send",function(originalSend){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return this.__sentry_xhr__&&args[0]!==void 0&&(this.__sentry_xhr__.body=args[0]),triggerHandlers("xhr",{args,startTimestamp:Date.now(),xhr:this}),originalSend.apply(this,args)}})}}var lastHref;function instrumentHistory(){if(!supports_1.supportsHistory())return;var oldOnPopState=global2.onpopstate;global2.onpopstate=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var to=global2.location.href,from=lastHref;if(lastHref=to,triggerHandlers("history",{from,to}),oldOnPopState)try{return oldOnPopState.apply(this,args)}catch{}};function historyReplacementFunction(originalHistoryFunction){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var url=args.length>2?args[2]:void 0;if(url){var from=lastHref,to=String(url);lastHref=to,triggerHandlers("history",{from,to})}return originalHistoryFunction.apply(this,args)}}object_1.fill(global2.history,"pushState",historyReplacementFunction),object_1.fill(global2.history,"replaceState",historyReplacementFunction)}var debounceDuration=1e3,debounceTimerID,lastCapturedEvent;function shouldShortcircuitPreviousDebounce(previous,current){if(!previous||previous.type!==current.type)return!0;try{if(previous.target!==current.target)return!0}catch{}return!1}function shouldSkipDOMEvent(event){if(event.type!=="keypress")return!1;try{var target=event.target;if(!target||!target.tagName)return!0;if(target.tagName==="INPUT"||target.tagName==="TEXTAREA"||target.isContentEditable)return!1}catch{}return!0}function makeDOMEventHandler(handler,globalListener){return globalListener===void 0&&(globalListener=!1),function(event){if(!(!event||lastCapturedEvent===event)&&!shouldSkipDOMEvent(event)){var name=event.type==="keypress"?"input":event.type;debounceTimerID===void 0?(handler({event,name,global:globalListener}),lastCapturedEvent=event):shouldShortcircuitPreviousDebounce(lastCapturedEvent,event)&&(handler({event,name,global:globalListener}),lastCapturedEvent=event),clearTimeout(debounceTimerID),debounceTimerID=global2.setTimeout(function(){debounceTimerID=void 0},debounceDuration)}}}function instrumentDOM(){if("document"in global2){var triggerDOMHandler=triggerHandlers.bind(null,"dom"),globalDOMEventHandler=makeDOMEventHandler(triggerDOMHandler,!0);global2.document.addEventListener("click",globalDOMEventHandler,!1),global2.document.addEventListener("keypress",globalDOMEventHandler,!1),["EventTarget","Node"].forEach(function(target){var proto=global2[target]&&global2[target].prototype;!proto||!proto.hasOwnProperty||!proto.hasOwnProperty("addEventListener")||(object_1.fill(proto,"addEventListener",function(originalAddEventListener){return function(type,listener,options){if(type==="click"||type=="keypress")try{var el=this,handlers_1=el.__sentry_instrumentation_handlers__=el.__sentry_instrumentation_handlers__||{},handlerForType=handlers_1[type]=handlers_1[type]||{refCount:0};if(!handlerForType.handler){var handler=makeDOMEventHandler(triggerDOMHandler);handlerForType.handler=handler,originalAddEventListener.call(this,type,handler,options)}handlerForType.refCount+=1}catch{}return originalAddEventListener.call(this,type,listener,options)}}),object_1.fill(proto,"removeEventListener",function(originalRemoveEventListener){return function(type,listener,options){if(type==="click"||type=="keypress")try{var el=this,handlers_2=el.__sentry_instrumentation_handlers__||{},handlerForType=handlers_2[type];handlerForType&&(handlerForType.refCount-=1,handlerForType.refCount<=0&&(originalRemoveEventListener.call(this,type,handlerForType.handler,options),handlerForType.handler=void 0,delete handlers_2[type]),Object.keys(handlers_2).length===0&&delete el.__sentry_instrumentation_handlers__)}catch{}return originalRemoveEventListener.call(this,type,listener,options)}}))})}}var _oldOnErrorHandler=null;function instrumentError(){_oldOnErrorHandler=global2.onerror,global2.onerror=function(msg,url,line,column,error){return triggerHandlers("error",{column,error,line,msg,url}),_oldOnErrorHandler?_oldOnErrorHandler.apply(this,arguments):!1}}var _oldOnUnhandledRejectionHandler=null;function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=global2.onunhandledrejection,global2.onunhandledrejection=function(e){return triggerHandlers("unhandledrejection",e),_oldOnUnhandledRejectionHandler?_oldOnUnhandledRejectionHandler.apply(this,arguments):!0}}}});var require_misc=__commonJS({"../node_modules/@sentry/utils/dist/misc.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),global_1=require_global(),object_1=require_object(),string_1=require_string();function uuid4(){var global2=global_1.getGlobalObject(),crypto=global2.crypto||global2.msCrypto;if(crypto!==void 0&&crypto.getRandomValues){var arr=new Uint16Array(8);crypto.getRandomValues(arr),arr[3]=arr[3]&4095|16384,arr[4]=arr[4]&16383|32768;var pad=function(num){for(var v=num.toString(16);v.length<4;)v="0"+v;return v};return pad(arr[0])+pad(arr[1])+pad(arr[2])+pad(arr[3])+pad(arr[4])+pad(arr[5])+pad(arr[6])+pad(arr[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c==="x"?r:r&3|8;return v.toString(16)})}exports.uuid4=uuid4;function parseUrl(url){if(!url)return{};var match=url.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!match)return{};var query=match[6]||"",fragment=match[8]||"";return{host:match[4],path:match[5],protocol:match[2],relative:match[5]+query+fragment}}exports.parseUrl=parseUrl;function getFirstException(event){return event.exception&&event.exception.values?event.exception.values[0]:void 0}function getEventDescription(event){var message=event.message,eventId=event.event_id;if(message)return message;var firstException=getFirstException(event);return firstException?firstException.type&&firstException.value?firstException.type+": "+firstException.value:firstException.type||firstException.value||eventId||"<unknown>":eventId||"<unknown>"}exports.getEventDescription=getEventDescription;function addExceptionTypeValue(event,value,type){var exception=event.exception=event.exception||{},values=exception.values=exception.values||[],firstException=values[0]=values[0]||{};firstException.value||(firstException.value=value||""),firstException.type||(firstException.type=type||"Error")}exports.addExceptionTypeValue=addExceptionTypeValue;function addExceptionMechanism(event,newMechanism){var firstException=getFirstException(event);if(!!firstException){var defaultMechanism={type:"generic",handled:!0},currentMechanism=firstException.mechanism;if(firstException.mechanism=tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},defaultMechanism),currentMechanism),newMechanism),newMechanism&&"data"in newMechanism){var mergedData=tslib_1.__assign(tslib_1.__assign({},currentMechanism&&currentMechanism.data),newMechanism.data);firstException.mechanism.data=mergedData}}}exports.addExceptionMechanism=addExceptionMechanism;var SEMVER_REGEXP=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function parseSemver(input){var match=input.match(SEMVER_REGEXP)||[],major=parseInt(match[1],10),minor=parseInt(match[2],10),patch=parseInt(match[3],10);return{buildmetadata:match[5],major:isNaN(major)?void 0:major,minor:isNaN(minor)?void 0:minor,patch:isNaN(patch)?void 0:patch,prerelease:match[4]}}exports.parseSemver=parseSemver;function addContextToFrame(lines,frame,linesOfContext){linesOfContext===void 0&&(linesOfContext=5);var lineno=frame.lineno||0,maxLines=lines.length,sourceLine=Math.max(Math.min(maxLines,lineno-1),0);frame.pre_context=lines.slice(Math.max(0,sourceLine-linesOfContext),sourceLine).map(function(line){return string_1.snipLine(line,0)}),frame.context_line=string_1.snipLine(lines[Math.min(maxLines-1,sourceLine)],frame.colno||0),frame.post_context=lines.slice(Math.min(sourceLine+1,maxLines),sourceLine+1+linesOfContext).map(function(line){return string_1.snipLine(line,0)})}exports.addContextToFrame=addContextToFrame;function stripUrlQueryAndFragment(urlPath){return urlPath.split(/[\?#]/,1)[0]}exports.stripUrlQueryAndFragment=stripUrlQueryAndFragment;function checkOrSetAlreadyCaught(exception){if(exception&&exception.__sentry_captured__)return!0;try{object_1.addNonEnumerableProperty(exception,"__sentry_captured__",!0)}catch{}return!1}exports.checkOrSetAlreadyCaught=checkOrSetAlreadyCaught}});var require_path=__commonJS({"../node_modules/@sentry/utils/dist/path.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];last==="."?parts.splice(i,1):last===".."?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function splitPath(filename){var parts=splitPathRe.exec(filename);return parts?parts.slice(1):[]}function resolve(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];for(var resolvedPath="",resolvedAbsolute=!1,i=args.length-1;i>=-1&&!resolvedAbsolute;i--){var path4=i>=0?args[i]:"/";!path4||(resolvedPath=path4+"/"+resolvedPath,resolvedAbsolute=path4.charAt(0)==="/")}return resolvedPath=normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."}exports.resolve=resolve;function trim(arr){for(var start=0;start<arr.length&&arr[start]==="";start++);for(var end=arr.length-1;end>=0&&arr[end]==="";end--);return start>end?[]:arr.slice(start,end-start+1)}function relative(from,to){from=resolve(from).substr(1),to=resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")}exports.relative=relative;function normalizePath(path4){var isPathAbsolute=isAbsolute(path4),trailingSlash=path4.substr(-1)==="/",normalizedPath=normalizeArray(path4.split("/").filter(function(p){return!!p}),!isPathAbsolute).join("/");return!normalizedPath&&!isPathAbsolute&&(normalizedPath="."),normalizedPath&&trailingSlash&&(normalizedPath+="/"),(isPathAbsolute?"/":"")+normalizedPath}exports.normalizePath=normalizePath;function isAbsolute(path4){return path4.charAt(0)==="/"}exports.isAbsolute=isAbsolute;function join2(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return normalizePath(args.join("/"))}exports.join=join2;function dirname(path4){var result=splitPath(path4),root=result[0],dir=result[1];return!root&&!dir?".":(dir&&(dir=dir.substr(0,dir.length-1)),root+dir)}exports.dirname=dirname;function basename(path4,ext){var f=splitPath(path4)[2];return ext&&f.substr(ext.length*-1)===ext&&(f=f.substr(0,f.length-ext.length)),f}exports.basename=basename}});var require_syncpromise=__commonJS({"../node_modules/@sentry/utils/dist/syncpromise.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var is_1=require_is();function resolvedSyncPromise(value){return new SyncPromise(function(resolve){resolve(value)})}exports.resolvedSyncPromise=resolvedSyncPromise;function rejectedSyncPromise(reason){return new SyncPromise(function(_,reject){reject(reason)})}exports.rejectedSyncPromise=rejectedSyncPromise;var SyncPromise=function(){function SyncPromise2(executor){var _this=this;this._state=0,this._handlers=[],this._resolve=function(value){_this._setResult(1,value)},this._reject=function(reason){_this._setResult(2,reason)},this._setResult=function(state,value){if(_this._state===0){if(is_1.isThenable(value)){value.then(_this._resolve,_this._reject);return}_this._state=state,_this._value=value,_this._executeHandlers()}},this._executeHandlers=function(){if(_this._state!==0){var cachedHandlers=_this._handlers.slice();_this._handlers=[],cachedHandlers.forEach(function(handler){handler[0]||(_this._state===1&&handler[1](_this._value),_this._state===2&&handler[2](_this._value),handler[0]=!0)})}};try{executor(this._resolve,this._reject)}catch(e){this._reject(e)}}return SyncPromise2.prototype.then=function(onfulfilled,onrejected){var _this=this;return new SyncPromise2(function(resolve,reject){_this._handlers.push([!1,function(result){if(!onfulfilled)resolve(result);else try{resolve(onfulfilled(result))}catch(e){reject(e)}},function(reason){if(!onrejected)reject(reason);else try{resolve(onrejected(reason))}catch(e){reject(e)}}]),_this._executeHandlers()})},SyncPromise2.prototype.catch=function(onrejected){return this.then(function(val){return val},onrejected)},SyncPromise2.prototype.finally=function(onfinally){var _this=this;return new SyncPromise2(function(resolve,reject){var val,isRejected;return _this.then(function(value){isRejected=!1,val=value,onfinally&&onfinally()},function(reason){isRejected=!0,val=reason,onfinally&&onfinally()}).then(function(){if(isRejected){reject(val);return}resolve(val)})})},SyncPromise2}();exports.SyncPromise=SyncPromise}});var require_promisebuffer=__commonJS({"../node_modules/@sentry/utils/dist/promisebuffer.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var error_1=require_error(),syncpromise_1=require_syncpromise();function makePromiseBuffer(limit){var buffer=[];function isReady(){return limit===void 0||buffer.length<limit}function remove(task){return buffer.splice(buffer.indexOf(task),1)[0]}function add(taskProducer){if(!isReady())return syncpromise_1.rejectedSyncPromise(new error_1.SentryError("Not adding Promise due to buffer limit reached."));var task=taskProducer();return buffer.indexOf(task)===-1&&buffer.push(task),task.then(function(){return remove(task)}).then(null,function(){return remove(task).then(null,function(){})}),task}function drain(timeout){return new syncpromise_1.SyncPromise(function(resolve,reject){var counter=buffer.length;if(!counter)return resolve(!0);var capturedSetTimeout=setTimeout(function(){timeout&&timeout>0&&resolve(!1)},timeout);buffer.forEach(function(item){syncpromise_1.resolvedSyncPromise(item).then(function(){--counter||(clearTimeout(capturedSetTimeout),resolve(!0))},reject)})})}return{$:buffer,add,drain}}exports.makePromiseBuffer=makePromiseBuffer}});var require_severity2=__commonJS({"../node_modules/@sentry/utils/dist/severity.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var types_1=require_dist(),enums_1=require_enums();function isSupportedSeverity(level){return enums_1.SeverityLevels.indexOf(level)!==-1}function severityFromString(level){return level==="warn"?types_1.Severity.Warning:isSupportedSeverity(level)?level:types_1.Severity.Log}exports.severityFromString=severityFromString}});var require_status=__commonJS({"../node_modules/@sentry/utils/dist/status.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});function eventStatusFromHttpCode(code){return code>=200&&code<300?"success":code===429?"rate_limit":code>=400&&code<500?"invalid":code>=500?"failed":"unknown"}exports.eventStatusFromHttpCode=eventStatusFromHttpCode}});var require_time=__commonJS({"../node_modules/@sentry/utils/dist/time.js"(exports,module2){Object.defineProperty(exports,"__esModule",{value:!0});var global_1=require_global(),node_1=require_node(),dateTimestampSource={nowSeconds:function(){return Date.now()/1e3}};function getBrowserPerformance(){var performance=global_1.getGlobalObject().performance;if(!(!performance||!performance.now)){var timeOrigin=Date.now()-performance.now();return{now:function(){return performance.now()},timeOrigin}}}function getNodePerformance(){try{var perfHooks=node_1.dynamicRequire(module2,"perf_hooks");return perfHooks.performance}catch{return}}var platformPerformance=node_1.isNodeEnv()?getNodePerformance():getBrowserPerformance(),timestampSource=platformPerformance===void 0?dateTimestampSource:{nowSeconds:function(){return(platformPerformance.timeOrigin+platformPerformance.now())/1e3}};exports.dateTimestampInSeconds=dateTimestampSource.nowSeconds.bind(dateTimestampSource);exports.timestampInSeconds=timestampSource.nowSeconds.bind(timestampSource);exports.timestampWithMs=exports.timestampInSeconds;exports.usingPerformanceAPI=platformPerformance!==void 0;exports.browserPerformanceTimeOrigin=function(){var performance=global_1.getGlobalObject().performance;if(!performance||!performance.now){exports._browserPerformanceTimeOriginMode="none";return}var threshold=3600*1e3,performanceNow=performance.now(),dateNow=Date.now(),timeOriginDelta=performance.timeOrigin?Math.abs(performance.timeOrigin+performanceNow-dateNow):threshold,timeOriginIsReliable=timeOriginDelta<threshold,navigationStart=performance.timing&&performance.timing.navigationStart,hasNavigationStart=typeof navigationStart=="number",navigationStartDelta=hasNavigationStart?Math.abs(navigationStart+performanceNow-dateNow):threshold,navigationStartIsReliable=navigationStartDelta<threshold;return timeOriginIsReliable||navigationStartIsReliable?timeOriginDelta<=navigationStartDelta?(exports._browserPerformanceTimeOriginMode="timeOrigin",performance.timeOrigin):(exports._browserPerformanceTimeOriginMode="navigationStart",navigationStart):(exports._browserPerformanceTimeOriginMode="dateNow",dateNow)}()}});var require_tracing=__commonJS({"../node_modules/@sentry/utils/dist/tracing.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function extractTraceparentData(traceparent){var matches=traceparent.match(exports.TRACEPARENT_REGEXP);if(matches){var parentSampled=void 0;return matches[3]==="1"?parentSampled=!0:matches[3]==="0"&&(parentSampled=!1),{traceId:matches[1],parentSampled,parentSpanId:matches[2]}}}exports.extractTraceparentData=extractTraceparentData}});var require_envelope=__commonJS({"../node_modules/@sentry/utils/dist/envelope.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),is_1=require_is();function createEnvelope(headers,items){return items===void 0&&(items=[]),[headers,items]}exports.createEnvelope=createEnvelope;function addItemToEnvelope(envelope,newItem){var _a=tslib_1.__read(envelope,2),headers=_a[0],items=_a[1];return[headers,tslib_1.__spread(items,[newItem])]}exports.addItemToEnvelope=addItemToEnvelope;function serializeEnvelope(envelope){var _a=tslib_1.__read(envelope,2),headers=_a[0],items=_a[1],serializedHeaders=JSON.stringify(headers);return items.reduce(function(acc,item){var _a2=tslib_1.__read(item,2),itemHeaders=_a2[0],payload=_a2[1],serializedPayload=is_1.isPrimitive(payload)?String(payload):JSON.stringify(payload);return acc+`
`+JSON.stringify(itemHeaders)+`
`+serializedPayload},serializedHeaders)}exports.serializeEnvelope=serializeEnvelope}});var require_clientreport=__commonJS({"../node_modules/@sentry/utils/dist/clientreport.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var envelope_1=require_envelope(),time_1=require_time();function createClientReportEnvelope(discarded_events,dsn,timestamp){var clientReportItem=[{type:"client_report"},{timestamp:timestamp||time_1.dateTimestampInSeconds(),discarded_events}];return envelope_1.createEnvelope(dsn?{dsn}:{},[clientReportItem])}exports.createClientReportEnvelope=createClientReportEnvelope}});var require_ratelimit=__commonJS({"../node_modules/@sentry/utils/dist/ratelimit.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib();exports.DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader(header,now){now===void 0&&(now=Date.now());var headerDelay=parseInt(""+header,10);if(!isNaN(headerDelay))return headerDelay*1e3;var headerDate=Date.parse(""+header);return isNaN(headerDate)?exports.DEFAULT_RETRY_AFTER:headerDate-now}exports.parseRetryAfterHeader=parseRetryAfterHeader;function disabledUntil(limits,category){return limits[category]||limits.all||0}exports.disabledUntil=disabledUntil;function isRateLimited(limits,category,now){return now===void 0&&(now=Date.now()),disabledUntil(limits,category)>now}exports.isRateLimited=isRateLimited;function updateRateLimits(limits,headers,now){var e_1,_a,e_2,_b;now===void 0&&(now=Date.now());var updatedRateLimits=tslib_1.__assign({},limits),rateLimitHeader=headers["x-sentry-rate-limits"],retryAfterHeader=headers["retry-after"];if(rateLimitHeader)try{for(var _c=tslib_1.__values(rateLimitHeader.trim().split(",")),_d=_c.next();!_d.done;_d=_c.next()){var limit=_d.value,parameters=limit.split(":",2),headerDelay=parseInt(parameters[0],10),delay=(isNaN(headerDelay)?60:headerDelay)*1e3;if(!parameters[1])updatedRateLimits.all=now+delay;else try{for(var _e=(e_2=void 0,tslib_1.__values(parameters[1].split(";"))),_f=_e.next();!_f.done;_f=_e.next()){var category=_f.value;updatedRateLimits[category]=now+delay}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_2)throw e_2.error}}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}else retryAfterHeader&&(updatedRateLimits.all=now+parseRetryAfterHeader(retryAfterHeader,now));return updatedRateLimits}exports.updateRateLimits=updateRateLimits}});var require_dist2=__commonJS({"../node_modules/@sentry/utils/dist/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib();tslib_1.__exportStar(require_async(),exports);tslib_1.__exportStar(require_browser(),exports);tslib_1.__exportStar(require_dsn(),exports);tslib_1.__exportStar(require_enums(),exports);tslib_1.__exportStar(require_error(),exports);tslib_1.__exportStar(require_global(),exports);tslib_1.__exportStar(require_instrument(),exports);tslib_1.__exportStar(require_is(),exports);tslib_1.__exportStar(require_logger(),exports);tslib_1.__exportStar(require_memo(),exports);tslib_1.__exportStar(require_misc(),exports);tslib_1.__exportStar(require_node(),exports);tslib_1.__exportStar(require_object(),exports);tslib_1.__exportStar(require_path(),exports);tslib_1.__exportStar(require_promisebuffer(),exports);tslib_1.__exportStar(require_severity2(),exports);tslib_1.__exportStar(require_stacktrace(),exports);tslib_1.__exportStar(require_status(),exports);tslib_1.__exportStar(require_string(),exports);tslib_1.__exportStar(require_supports(),exports);tslib_1.__exportStar(require_syncpromise(),exports);tslib_1.__exportStar(require_time(),exports);tslib_1.__exportStar(require_tracing(),exports);tslib_1.__exportStar(require_env(),exports);tslib_1.__exportStar(require_envelope(),exports);tslib_1.__exportStar(require_clientreport(),exports);tslib_1.__exportStar(require_ratelimit(),exports)}});var require_scope=__commonJS({"../node_modules/@sentry/hub/dist/scope.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),utils_1=require_dist2(),MAX_BREADCRUMBS=100,Scope=function(){function Scope2(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return Scope2.clone=function(scope){var newScope=new Scope2;return scope&&(newScope._breadcrumbs=tslib_1.__spread(scope._breadcrumbs),newScope._tags=tslib_1.__assign({},scope._tags),newScope._extra=tslib_1.__assign({},scope._extra),newScope._contexts=tslib_1.__assign({},scope._contexts),newScope._user=scope._user,newScope._level=scope._level,newScope._span=scope._span,newScope._session=scope._session,newScope._transactionName=scope._transactionName,newScope._fingerprint=scope._fingerprint,newScope._eventProcessors=tslib_1.__spread(scope._eventProcessors),newScope._requestSession=scope._requestSession),newScope},Scope2.prototype.addScopeListener=function(callback){this._scopeListeners.push(callback)},Scope2.prototype.addEventProcessor=function(callback){return this._eventProcessors.push(callback),this},Scope2.prototype.setUser=function(user){return this._user=user||{},this._session&&this._session.update({user}),this._notifyScopeListeners(),this},Scope2.prototype.getUser=function(){return this._user},Scope2.prototype.getRequestSession=function(){return this._requestSession},Scope2.prototype.setRequestSession=function(requestSession){return this._requestSession=requestSession,this},Scope2.prototype.setTags=function(tags){return this._tags=tslib_1.__assign(tslib_1.__assign({},this._tags),tags),this._notifyScopeListeners(),this},Scope2.prototype.setTag=function(key,value){var _a;return this._tags=tslib_1.__assign(tslib_1.__assign({},this._tags),(_a={},_a[key]=value,_a)),this._notifyScopeListeners(),this},Scope2.prototype.setExtras=function(extras){return this._extra=tslib_1.__assign(tslib_1.__assign({},this._extra),extras),this._notifyScopeListeners(),this},Scope2.prototype.setExtra=function(key,extra){var _a;return this._extra=tslib_1.__assign(tslib_1.__assign({},this._extra),(_a={},_a[key]=extra,_a)),this._notifyScopeListeners(),this},Scope2.prototype.setFingerprint=function(fingerprint){return this._fingerprint=fingerprint,this._notifyScopeListeners(),this},Scope2.prototype.setLevel=function(level){return this._level=level,this._notifyScopeListeners(),this},Scope2.prototype.setTransactionName=function(name){return this._transactionName=name,this._notifyScopeListeners(),this},Scope2.prototype.setTransaction=function(name){return this.setTransactionName(name)},Scope2.prototype.setContext=function(key,context){var _a;return context===null?delete this._contexts[key]:this._contexts=tslib_1.__assign(tslib_1.__assign({},this._contexts),(_a={},_a[key]=context,_a)),this._notifyScopeListeners(),this},Scope2.prototype.setSpan=function(span){return this._span=span,this._notifyScopeListeners(),this},Scope2.prototype.getSpan=function(){return this._span},Scope2.prototype.getTransaction=function(){var span=this.getSpan();return span&&span.transaction},Scope2.prototype.setSession=function(session){return session?this._session=session:delete this._session,this._notifyScopeListeners(),this},Scope2.prototype.getSession=function(){return this._session},Scope2.prototype.update=function(captureContext){if(!captureContext)return this;if(typeof captureContext=="function"){var updatedScope=captureContext(this);return updatedScope instanceof Scope2?updatedScope:this}return captureContext instanceof Scope2?(this._tags=tslib_1.__assign(tslib_1.__assign({},this._tags),captureContext._tags),this._extra=tslib_1.__assign(tslib_1.__assign({},this._extra),captureContext._extra),this._contexts=tslib_1.__assign(tslib_1.__assign({},this._contexts),captureContext._contexts),captureContext._user&&Object.keys(captureContext._user).length&&(this._user=captureContext._user),captureContext._level&&(this._level=captureContext._level),captureContext._fingerprint&&(this._fingerprint=captureContext._fingerprint),captureContext._requestSession&&(this._requestSession=captureContext._requestSession)):utils_1.isPlainObject(captureContext)&&(captureContext=captureContext,this._tags=tslib_1.__assign(tslib_1.__assign({},this._tags),captureContext.tags),this._extra=tslib_1.__assign(tslib_1.__assign({},this._extra),captureContext.extra),this._contexts=tslib_1.__assign(tslib_1.__assign({},this._contexts),captureContext.contexts),captureContext.user&&(this._user=captureContext.user),captureContext.level&&(this._level=captureContext.level),captureContext.fingerprint&&(this._fingerprint=captureContext.fingerprint),captureContext.requestSession&&(this._requestSession=captureContext.requestSession)),this},Scope2.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},Scope2.prototype.addBreadcrumb=function(breadcrumb,maxBreadcrumbs){var maxCrumbs=typeof maxBreadcrumbs=="number"?Math.min(maxBreadcrumbs,MAX_BREADCRUMBS):MAX_BREADCRUMBS;if(maxCrumbs<=0)return this;var mergedBreadcrumb=tslib_1.__assign({timestamp:utils_1.dateTimestampInSeconds()},breadcrumb);return this._breadcrumbs=tslib_1.__spread(this._breadcrumbs,[mergedBreadcrumb]).slice(-maxCrumbs),this._notifyScopeListeners(),this},Scope2.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Scope2.prototype.applyToEvent=function(event,hint){if(this._extra&&Object.keys(this._extra).length&&(event.extra=tslib_1.__assign(tslib_1.__assign({},this._extra),event.extra)),this._tags&&Object.keys(this._tags).length&&(event.tags=tslib_1.__assign(tslib_1.__assign({},this._tags),event.tags)),this._user&&Object.keys(this._user).length&&(event.user=tslib_1.__assign(tslib_1.__assign({},this._user),event.user)),this._contexts&&Object.keys(this._contexts).length&&(event.contexts=tslib_1.__assign(tslib_1.__assign({},this._contexts),event.contexts)),this._level&&(event.level=this._level),this._transactionName&&(event.transaction=this._transactionName),this._span){event.contexts=tslib_1.__assign({trace:this._span.getTraceContext()},event.contexts);var transactionName=this._span.transaction&&this._span.transaction.name;transactionName&&(event.tags=tslib_1.__assign({transaction:transactionName},event.tags))}return this._applyFingerprint(event),event.breadcrumbs=tslib_1.__spread(event.breadcrumbs||[],this._breadcrumbs),event.breadcrumbs=event.breadcrumbs.length>0?event.breadcrumbs:void 0,event.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(tslib_1.__spread(getGlobalEventProcessors(),this._eventProcessors),event,hint)},Scope2.prototype.setSDKProcessingMetadata=function(newData){return this._sdkProcessingMetadata=tslib_1.__assign(tslib_1.__assign({},this._sdkProcessingMetadata),newData),this},Scope2.prototype._notifyEventProcessors=function(processors,event,hint,index){var _this=this;return index===void 0&&(index=0),new utils_1.SyncPromise(function(resolve,reject){var processor=processors[index];if(event===null||typeof processor!="function")resolve(event);else{var result=processor(tslib_1.__assign({},event),hint);utils_1.isThenable(result)?result.then(function(final){return _this._notifyEventProcessors(processors,final,hint,index+1).then(resolve)}).then(null,reject):_this._notifyEventProcessors(processors,result,hint,index+1).then(resolve).then(null,reject)}})},Scope2.prototype._notifyScopeListeners=function(){var _this=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(callback){callback(_this)}),this._notifyingListeners=!1)},Scope2.prototype._applyFingerprint=function(event){event.fingerprint=event.fingerprint?Array.isArray(event.fingerprint)?event.fingerprint:[event.fingerprint]:[],this._fingerprint&&(event.fingerprint=event.fingerprint.concat(this._fingerprint)),event.fingerprint&&!event.fingerprint.length&&delete event.fingerprint},Scope2}();exports.Scope=Scope;function getGlobalEventProcessors(){var global2=utils_1.getGlobalObject();return global2.__SENTRY__=global2.__SENTRY__||{},global2.__SENTRY__.globalEventProcessors=global2.__SENTRY__.globalEventProcessors||[],global2.__SENTRY__.globalEventProcessors}function addGlobalEventProcessor(callback){getGlobalEventProcessors().push(callback)}exports.addGlobalEventProcessor=addGlobalEventProcessor}});var require_session=__commonJS({"../node_modules/@sentry/hub/dist/session.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require_dist2(),Session=function(){function Session2(context){this.errors=0,this.sid=utils_1.uuid4(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var startingTime=utils_1.timestampInSeconds();this.timestamp=startingTime,this.started=startingTime,context&&this.update(context)}return Session2.prototype.update=function(context){if(context===void 0&&(context={}),context.user&&(!this.ipAddress&&context.user.ip_address&&(this.ipAddress=context.user.ip_address),!this.did&&!context.did&&(this.did=context.user.id||context.user.email||context.user.username)),this.timestamp=context.timestamp||utils_1.timestampInSeconds(),context.ignoreDuration&&(this.ignoreDuration=context.ignoreDuration),context.sid&&(this.sid=context.sid.length===32?context.sid:utils_1.uuid4()),context.init!==void 0&&(this.init=context.init),!this.did&&context.did&&(this.did=""+context.did),typeof context.started=="number"&&(this.started=context.started),this.ignoreDuration)this.duration=void 0;else if(typeof context.duration=="number")this.duration=context.duration;else{var duration=this.timestamp-this.started;this.duration=duration>=0?duration:0}context.release&&(this.release=context.release),context.environment&&(this.environment=context.environment),!this.ipAddress&&context.ipAddress&&(this.ipAddress=context.ipAddress),!this.userAgent&&context.userAgent&&(this.userAgent=context.userAgent),typeof context.errors=="number"&&(this.errors=context.errors),context.status&&(this.status=context.status)},Session2.prototype.close=function(status){status?this.update({status}):this.status==="ok"?this.update({status:"exited"}):this.update()},Session2.prototype.toJSON=function(){return utils_1.dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},Session2}();exports.Session=Session}});var require_hub=__commonJS({"../node_modules/@sentry/hub/dist/hub.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),utils_1=require_dist2(),scope_1=require_scope(),session_1=require_session();exports.API_VERSION=4;var DEFAULT_BREADCRUMBS=100,Hub=function(){function Hub2(client,scope,_version){scope===void 0&&(scope=new scope_1.Scope),_version===void 0&&(_version=exports.API_VERSION),this._version=_version,this._stack=[{}],this.getStackTop().scope=scope,client&&this.bindClient(client)}return Hub2.prototype.isOlderThan=function(version){return this._version<version},Hub2.prototype.bindClient=function(client){var top=this.getStackTop();top.client=client,client&&client.setupIntegrations&&client.setupIntegrations()},Hub2.prototype.pushScope=function(){var scope=scope_1.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope}),scope},Hub2.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},Hub2.prototype.withScope=function(callback){var scope=this.pushScope();try{callback(scope)}finally{this.popScope()}},Hub2.prototype.getClient=function(){return this.getStackTop().client},Hub2.prototype.getScope=function(){return this.getStackTop().scope},Hub2.prototype.getStack=function(){return this._stack},Hub2.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},Hub2.prototype.captureException=function(exception,hint){var eventId=this._lastEventId=hint&&hint.event_id?hint.event_id:utils_1.uuid4(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error("Sentry syntheticException")}catch(exception2){syntheticException=exception2}finalHint={originalException:exception,syntheticException}}return this._invokeClient("captureException",exception,tslib_1.__assign(tslib_1.__assign({},finalHint),{event_id:eventId})),eventId},Hub2.prototype.captureMessage=function(message,level,hint){var eventId=this._lastEventId=hint&&hint.event_id?hint.event_id:utils_1.uuid4(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error(message)}catch(exception){syntheticException=exception}finalHint={originalException:message,syntheticException}}return this._invokeClient("captureMessage",message,level,tslib_1.__assign(tslib_1.__assign({},finalHint),{event_id:eventId})),eventId},Hub2.prototype.captureEvent=function(event,hint){var eventId=hint&&hint.event_id?hint.event_id:utils_1.uuid4();return event.type!=="transaction"&&(this._lastEventId=eventId),this._invokeClient("captureEvent",event,tslib_1.__assign(tslib_1.__assign({},hint),{event_id:eventId})),eventId},Hub2.prototype.lastEventId=function(){return this._lastEventId},Hub2.prototype.addBreadcrumb=function(breadcrumb,hint){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;if(!(!scope||!client)){var _b=client.getOptions&&client.getOptions()||{},_c=_b.beforeBreadcrumb,beforeBreadcrumb=_c===void 0?null:_c,_d=_b.maxBreadcrumbs,maxBreadcrumbs=_d===void 0?DEFAULT_BREADCRUMBS:_d;if(!(maxBreadcrumbs<=0)){var timestamp=utils_1.dateTimestampInSeconds(),mergedBreadcrumb=tslib_1.__assign({timestamp},breadcrumb),finalBreadcrumb=beforeBreadcrumb?utils_1.consoleSandbox(function(){return beforeBreadcrumb(mergedBreadcrumb,hint)}):mergedBreadcrumb;finalBreadcrumb!==null&&scope.addBreadcrumb(finalBreadcrumb,maxBreadcrumbs)}}},Hub2.prototype.setUser=function(user){var scope=this.getScope();scope&&scope.setUser(user)},Hub2.prototype.setTags=function(tags){var scope=this.getScope();scope&&scope.setTags(tags)},Hub2.prototype.setExtras=function(extras){var scope=this.getScope();scope&&scope.setExtras(extras)},Hub2.prototype.setTag=function(key,value){var scope=this.getScope();scope&&scope.setTag(key,value)},Hub2.prototype.setExtra=function(key,extra){var scope=this.getScope();scope&&scope.setExtra(key,extra)},Hub2.prototype.setContext=function(name,context){var scope=this.getScope();scope&&scope.setContext(name,context)},Hub2.prototype.configureScope=function(callback){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;scope&&client&&callback(scope)},Hub2.prototype.run=function(callback){var oldHub=makeMain(this);try{callback(this)}finally{makeMain(oldHub)}},Hub2.prototype.getIntegration=function(integration){var client=this.getClient();if(!client)return null;try{return client.getIntegration(integration)}catch{return utils_1.isDebugBuild()&&utils_1.logger.warn("Cannot retrieve integration "+integration.id+" from the current Hub"),null}},Hub2.prototype.startSpan=function(context){return this._callExtensionMethod("startSpan",context)},Hub2.prototype.startTransaction=function(context,customSamplingContext){return this._callExtensionMethod("startTransaction",context,customSamplingContext)},Hub2.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},Hub2.prototype.captureSession=function(endSession){if(endSession===void 0&&(endSession=!1),endSession)return this.endSession();this._sendSessionUpdate()},Hub2.prototype.endSession=function(){var layer=this.getStackTop(),scope=layer&&layer.scope,session=scope&&scope.getSession();session&&session.close(),this._sendSessionUpdate(),scope&&scope.setSession()},Hub2.prototype.startSession=function(context){var _a=this.getStackTop(),scope=_a.scope,client=_a.client,_b=client&&client.getOptions()||{},release=_b.release,environment=_b.environment,global2=utils_1.getGlobalObject(),userAgent=(global2.navigator||{}).userAgent,session=new session_1.Session(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({release,environment},scope&&{user:scope.getUser()}),userAgent&&{userAgent}),context));if(scope){var currentSession=scope.getSession&&scope.getSession();currentSession&&currentSession.status==="ok"&&currentSession.update({status:"exited"}),this.endSession(),scope.setSession(session)}return session},Hub2.prototype._sendSessionUpdate=function(){var _a=this.getStackTop(),scope=_a.scope,client=_a.client;if(!!scope){var session=scope.getSession&&scope.getSession();session&&client&&client.captureSession&&client.captureSession(session)}},Hub2.prototype._invokeClient=function(method){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var _b=this.getStackTop(),scope=_b.scope,client=_b.client;client&&client[method]&&(_a=client)[method].apply(_a,tslib_1.__spread(args,[scope]))},Hub2.prototype._callExtensionMethod=function(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var carrier=getMainCarrier(),sentry=carrier.__SENTRY__;if(sentry&&sentry.extensions&&typeof sentry.extensions[method]=="function")return sentry.extensions[method].apply(this,args);utils_1.isDebugBuild()&&utils_1.logger.warn("Extension method "+method+" couldn't be found, doing nothing.")},Hub2}();exports.Hub=Hub;function getMainCarrier(){var carrier=utils_1.getGlobalObject();return carrier.__SENTRY__=carrier.__SENTRY__||{extensions:{},hub:void 0},carrier}exports.getMainCarrier=getMainCarrier;function makeMain(hub){var registry=getMainCarrier(),oldHub=getHubFromCarrier(registry);return setHubOnCarrier(registry,hub),oldHub}exports.makeMain=makeMain;function getCurrentHub(){var registry=getMainCarrier();return(!hasHubOnCarrier(registry)||getHubFromCarrier(registry).isOlderThan(exports.API_VERSION))&&setHubOnCarrier(registry,new Hub),utils_1.isNodeEnv()?getHubFromActiveDomain(registry):getHubFromCarrier(registry)}exports.getCurrentHub=getCurrentHub;function getActiveDomain(){utils_1.isDebugBuild()&&utils_1.logger.warn("Function `getActiveDomain` is deprecated and will be removed in a future version.");var sentry=getMainCarrier().__SENTRY__;return sentry&&sentry.extensions&&sentry.extensions.domain&&sentry.extensions.domain.active}exports.getActiveDomain=getActiveDomain;function getHubFromActiveDomain(registry){try{var sentry=getMainCarrier().__SENTRY__,activeDomain=sentry&&sentry.extensions&&sentry.extensions.domain&&sentry.extensions.domain.active;if(!activeDomain)return getHubFromCarrier(registry);if(!hasHubOnCarrier(activeDomain)||getHubFromCarrier(activeDomain).isOlderThan(exports.API_VERSION)){var registryHubTopStack=getHubFromCarrier(registry).getStackTop();setHubOnCarrier(activeDomain,new Hub(registryHubTopStack.client,scope_1.Scope.clone(registryHubTopStack.scope)))}return getHubFromCarrier(activeDomain)}catch{return getHubFromCarrier(registry)}}function hasHubOnCarrier(carrier){return!!(carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub)}function getHubFromCarrier(carrier){return carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub||(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=new Hub),carrier.__SENTRY__.hub}exports.getHubFromCarrier=getHubFromCarrier;function setHubOnCarrier(carrier,hub){return carrier?(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=hub,!0):!1}exports.setHubOnCarrier=setHubOnCarrier}});var require_sessionflusher=__commonJS({"../node_modules/@sentry/hub/dist/sessionflusher.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require_dist2(),hub_1=require_hub(),SessionFlusher=function(){function SessionFlusher2(transport,attrs){var _this=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=transport,this._intervalId=setInterval(function(){return _this.flush()},this.flushTimeout*1e3),this._sessionAttrs=attrs}return SessionFlusher2.prototype.sendSessionAggregates=function(sessionAggregates){if(!this._transport.sendSession){utils_1.isDebugBuild()&&utils_1.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(sessionAggregates).then(null,function(reason){utils_1.isDebugBuild()&&utils_1.logger.error("Error while sending session:",reason)})},SessionFlusher2.prototype.flush=function(){var sessionAggregates=this.getSessionAggregates();sessionAggregates.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(sessionAggregates))},SessionFlusher2.prototype.getSessionAggregates=function(){var _this=this,aggregates=Object.keys(this._pendingAggregates).map(function(key){return _this._pendingAggregates[parseInt(key)]}),sessionAggregates={attrs:this._sessionAttrs,aggregates};return utils_1.dropUndefinedKeys(sessionAggregates)},SessionFlusher2.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},SessionFlusher2.prototype.incrementSessionStatusCount=function(){if(!!this._isEnabled){var scope=hub_1.getCurrentHub().getScope(),requestSession=scope&&scope.getRequestSession();requestSession&&requestSession.status&&(this._incrementSessionStatusCount(requestSession.status,new Date),scope&&scope.setRequestSession(void 0))}},SessionFlusher2.prototype._incrementSessionStatusCount=function(status,date){var sessionStartedTrunc=new Date(date).setSeconds(0,0);this._pendingAggregates[sessionStartedTrunc]=this._pendingAggregates[sessionStartedTrunc]||{};var aggregationCounts=this._pendingAggregates[sessionStartedTrunc];switch(aggregationCounts.started||(aggregationCounts.started=new Date(sessionStartedTrunc).toISOString()),status){case"errored":return aggregationCounts.errored=(aggregationCounts.errored||0)+1,aggregationCounts.errored;case"ok":return aggregationCounts.exited=(aggregationCounts.exited||0)+1,aggregationCounts.exited;default:return aggregationCounts.crashed=(aggregationCounts.crashed||0)+1,aggregationCounts.crashed}},SessionFlusher2}();exports.SessionFlusher=SessionFlusher}});var require_dist3=__commonJS({"../node_modules/@sentry/hub/dist/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var scope_1=require_scope();exports.addGlobalEventProcessor=scope_1.addGlobalEventProcessor;exports.Scope=scope_1.Scope;var session_1=require_session();exports.Session=session_1.Session;var sessionflusher_1=require_sessionflusher();exports.SessionFlusher=sessionflusher_1.SessionFlusher;var hub_1=require_hub();exports.getActiveDomain=hub_1.getActiveDomain;exports.getCurrentHub=hub_1.getCurrentHub;exports.getHubFromCarrier=hub_1.getHubFromCarrier;exports.getMainCarrier=hub_1.getMainCarrier;exports.Hub=hub_1.Hub;exports.makeMain=hub_1.makeMain;exports.setHubOnCarrier=hub_1.setHubOnCarrier}});var require_dist4=__commonJS({"../node_modules/@sentry/minimal/dist/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),hub_1=require_dist3();function callOnHub(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var hub=hub_1.getCurrentHub();if(hub&&hub[method])return hub[method].apply(hub,tslib_1.__spread(args));throw new Error("No hub defined or "+method+" was not found on the hub, please open a bug report.")}function captureException2(exception,captureContext){var syntheticException=new Error("Sentry syntheticException");return callOnHub("captureException",exception,{captureContext,originalException:exception,syntheticException})}exports.captureException=captureException2;function captureMessage(message,captureContext){var syntheticException=new Error(message),level=typeof captureContext=="string"?captureContext:void 0,context=typeof captureContext!="string"?{captureContext}:void 0;return callOnHub("captureMessage",message,level,tslib_1.__assign({originalException:message,syntheticException},context))}exports.captureMessage=captureMessage;function captureEvent(event){return callOnHub("captureEvent",event)}exports.captureEvent=captureEvent;function configureScope(callback){callOnHub("configureScope",callback)}exports.configureScope=configureScope;function addBreadcrumb(breadcrumb){callOnHub("addBreadcrumb",breadcrumb)}exports.addBreadcrumb=addBreadcrumb;function setContext(name,context){callOnHub("setContext",name,context)}exports.setContext=setContext;function setExtras(extras){callOnHub("setExtras",extras)}exports.setExtras=setExtras;function setTags(tags){callOnHub("setTags",tags)}exports.setTags=setTags;function setExtra(key,extra){callOnHub("setExtra",key,extra)}exports.setExtra=setExtra;function setTag(key,value){callOnHub("setTag",key,value)}exports.setTag=setTag;function setUser(user){callOnHub("setUser",user)}exports.setUser=setUser;function withScope(callback){callOnHub("withScope",callback)}exports.withScope=withScope;function _callOnClient(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];callOnHub.apply(void 0,tslib_1.__spread(["_invokeClient",method],args))}exports._callOnClient=_callOnClient;function startTransaction(context,customSamplingContext){return callOnHub("startTransaction",tslib_1.__assign({},context),customSamplingContext)}exports.startTransaction=startTransaction}});var require_api=__commonJS({"../node_modules/@sentry/core/dist/api.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require_dist2(),SENTRY_API_VERSION="7",API=function(){function API2(dsn,metadata,tunnel){metadata===void 0&&(metadata={}),this.dsn=dsn,this._dsnObject=utils_1.makeDsn(dsn),this.metadata=metadata,this._tunnel=tunnel}return API2.prototype.getDsn=function(){return this._dsnObject},API2.prototype.forceEnvelope=function(){return!!this._tunnel},API2.prototype.getBaseApiEndpoint=function(){return getBaseApiEndpoint(this._dsnObject)},API2.prototype.getStoreEndpoint=function(){return getStoreEndpoint(this._dsnObject)},API2.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return getStoreEndpointWithUrlEncodedAuth(this._dsnObject)},API2.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return getEnvelopeEndpointWithUrlEncodedAuth(this._dsnObject,this._tunnel)},API2}();exports.API=API;function initAPIDetails(dsn,metadata,tunnel){return{initDsn:dsn,metadata:metadata||{},dsn:utils_1.makeDsn(dsn),tunnel}}exports.initAPIDetails=initAPIDetails;function getBaseApiEndpoint(dsn){var protocol=dsn.protocol?dsn.protocol+":":"",port=dsn.port?":"+dsn.port:"";return protocol+"//"+dsn.host+port+(dsn.path?"/"+dsn.path:"")+"/api/"}function _getIngestEndpoint(dsn,target){return""+getBaseApiEndpoint(dsn)+dsn.projectId+"/"+target+"/"}function _encodedAuth(dsn){return utils_1.urlEncode({sentry_key:dsn.publicKey,sentry_version:SENTRY_API_VERSION})}function getStoreEndpoint(dsn){return _getIngestEndpoint(dsn,"store")}function getStoreEndpointWithUrlEncodedAuth(dsn){return getStoreEndpoint(dsn)+"?"+_encodedAuth(dsn)}exports.getStoreEndpointWithUrlEncodedAuth=getStoreEndpointWithUrlEncodedAuth;function _getEnvelopeEndpoint(dsn){return _getIngestEndpoint(dsn,"envelope")}function getEnvelopeEndpointWithUrlEncodedAuth(dsn,tunnel){return tunnel||_getEnvelopeEndpoint(dsn)+"?"+_encodedAuth(dsn)}exports.getEnvelopeEndpointWithUrlEncodedAuth=getEnvelopeEndpointWithUrlEncodedAuth;function getRequestHeaders(dsn,clientName,clientVersion){var header=["Sentry sentry_version="+SENTRY_API_VERSION];return header.push("sentry_client="+clientName+"/"+clientVersion),header.push("sentry_key="+dsn.publicKey),dsn.pass&&header.push("sentry_secret="+dsn.pass),{"Content-Type":"application/json","X-Sentry-Auth":header.join(", ")}}exports.getRequestHeaders=getRequestHeaders;function getReportDialogEndpoint(dsnLike,dialogOptions){var dsn=utils_1.makeDsn(dsnLike),endpoint=getBaseApiEndpoint(dsn)+"embed/error-page/",encodedOptions="dsn="+utils_1.dsnToString(dsn);for(var key in dialogOptions)if(key!=="dsn")if(key==="user"){if(!dialogOptions.user)continue;dialogOptions.user.name&&(encodedOptions+="&name="+encodeURIComponent(dialogOptions.user.name)),dialogOptions.user.email&&(encodedOptions+="&email="+encodeURIComponent(dialogOptions.user.email))}else encodedOptions+="&"+encodeURIComponent(key)+"="+encodeURIComponent(dialogOptions[key]);return endpoint+"?"+encodedOptions}exports.getReportDialogEndpoint=getReportDialogEndpoint}});var require_integration=__commonJS({"../node_modules/@sentry/core/dist/integration.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),hub_1=require_dist3(),utils_1=require_dist2();exports.installedIntegrations=[];function filterDuplicates(integrations){return integrations.reduce(function(acc,integrations2){return acc.every(function(accIntegration){return integrations2.name!==accIntegration.name})&&acc.push(integrations2),acc},[])}function getIntegrationsToSetup(options){var defaultIntegrations=options.defaultIntegrations&&tslib_1.__spread(options.defaultIntegrations)||[],userIntegrations=options.integrations,integrations=tslib_1.__spread(filterDuplicates(defaultIntegrations));Array.isArray(userIntegrations)?integrations=tslib_1.__spread(integrations.filter(function(integrations2){return userIntegrations.every(function(userIntegration){return userIntegration.name!==integrations2.name})}),filterDuplicates(userIntegrations)):typeof userIntegrations=="function"&&(integrations=userIntegrations(integrations),integrations=Array.isArray(integrations)?integrations:[integrations]);var integrationsNames=integrations.map(function(i){return i.name}),alwaysLastToRun="Debug";return integrationsNames.indexOf(alwaysLastToRun)!==-1&&integrations.push.apply(integrations,tslib_1.__spread(integrations.splice(integrationsNames.indexOf(alwaysLastToRun),1))),integrations}exports.getIntegrationsToSetup=getIntegrationsToSetup;function setupIntegration(integration){exports.installedIntegrations.indexOf(integration.name)===-1&&(integration.setupOnce(hub_1.addGlobalEventProcessor,hub_1.getCurrentHub),exports.installedIntegrations.push(integration.name),utils_1.isDebugBuild()&&utils_1.logger.log("Integration installed: "+integration.name))}exports.setupIntegration=setupIntegration;function setupIntegrations(options){var integrations={};return getIntegrationsToSetup(options).forEach(function(integration){integrations[integration.name]=integration,setupIntegration(integration)}),utils_1.addNonEnumerableProperty(integrations,"initialized",!0),integrations}exports.setupIntegrations=setupIntegrations}});var require_baseclient=__commonJS({"../node_modules/@sentry/core/dist/baseclient.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),hub_1=require_dist3(),utils_1=require_dist2(),integration_1=require_integration(),ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.",BaseClient=function(){function BaseClient2(backendClass,options){this._integrations={},this._numProcessing=0,this._backend=new backendClass(options),this._options=options,options.dsn&&(this._dsn=utils_1.makeDsn(options.dsn))}return BaseClient2.prototype.captureException=function(exception,hint,scope){var _this=this;if(utils_1.checkOrSetAlreadyCaught(exception)){utils_1.isDebugBuild()&&utils_1.logger.log(ALREADY_SEEN_ERROR);return}var eventId=hint&&hint.event_id;return this._process(this._getBackend().eventFromException(exception,hint).then(function(event){return _this._captureEvent(event,hint,scope)}).then(function(result){eventId=result})),eventId},BaseClient2.prototype.captureMessage=function(message,level,hint,scope){var _this=this,eventId=hint&&hint.event_id,promisedEvent=utils_1.isPrimitive(message)?this._getBackend().eventFromMessage(String(message),level,hint):this._getBackend().eventFromException(message,hint);return this._process(promisedEvent.then(function(event){return _this._captureEvent(event,hint,scope)}).then(function(result){eventId=result})),eventId},BaseClient2.prototype.captureEvent=function(event,hint,scope){if(hint&&hint.originalException&&utils_1.checkOrSetAlreadyCaught(hint.originalException)){utils_1.isDebugBuild()&&utils_1.logger.log(ALREADY_SEEN_ERROR);return}var eventId=hint&&hint.event_id;return this._process(this._captureEvent(event,hint,scope).then(function(result){eventId=result})),eventId},BaseClient2.prototype.captureSession=function(session){if(!this._isEnabled()){utils_1.isDebugBuild()&&utils_1.logger.warn("SDK not enabled, will not capture session.");return}typeof session.release!="string"?utils_1.isDebugBuild()&&utils_1.logger.warn("Discarded session because of missing or non-string release"):(this._sendSession(session),session.update({init:!1}))},BaseClient2.prototype.getDsn=function(){return this._dsn},BaseClient2.prototype.getOptions=function(){return this._options},BaseClient2.prototype.getTransport=function(){return this._getBackend().getTransport()},BaseClient2.prototype.flush=function(timeout){var _this=this;return this._isClientDoneProcessing(timeout).then(function(clientFinished){return _this.getTransport().close(timeout).then(function(transportFlushed){return clientFinished&&transportFlushed})})},BaseClient2.prototype.close=function(timeout){var _this=this;return this.flush(timeout).then(function(result){return _this.getOptions().enabled=!1,result})},BaseClient2.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=integration_1.setupIntegrations(this._options))},BaseClient2.prototype.getIntegration=function(integration){try{return this._integrations[integration.id]||null}catch{return utils_1.isDebugBuild()&&utils_1.logger.warn("Cannot retrieve integration "+integration.id+" from the current Client"),null}},BaseClient2.prototype._updateSessionFromEvent=function(session,event){var e_1,_a,crashed=!1,errored=!1,exceptions=event.exception&&event.exception.values;if(exceptions){errored=!0;try{for(var exceptions_1=tslib_1.__values(exceptions),exceptions_1_1=exceptions_1.next();!exceptions_1_1.done;exceptions_1_1=exceptions_1.next()){var ex=exceptions_1_1.value,mechanism=ex.mechanism;if(mechanism&&mechanism.handled===!1){crashed=!0;break}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{exceptions_1_1&&!exceptions_1_1.done&&(_a=exceptions_1.return)&&_a.call(exceptions_1)}finally{if(e_1)throw e_1.error}}}var sessionNonTerminal=session.status==="ok",shouldUpdateAndSend=sessionNonTerminal&&session.errors===0||sessionNonTerminal&&crashed;shouldUpdateAndSend&&(session.update(tslib_1.__assign(tslib_1.__assign({},crashed&&{status:"crashed"}),{errors:session.errors||Number(errored||crashed)})),this.captureSession(session))},BaseClient2.prototype._sendSession=function(session){this._getBackend().sendSession(session)},BaseClient2.prototype._isClientDoneProcessing=function(timeout){var _this=this;return new utils_1.SyncPromise(function(resolve){var ticked=0,tick=1,interval=setInterval(function(){_this._numProcessing==0?(clearInterval(interval),resolve(!0)):(ticked+=tick,timeout&&ticked>=timeout&&(clearInterval(interval),resolve(!1)))},tick)})},BaseClient2.prototype._getBackend=function(){return this._backend},BaseClient2.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},BaseClient2.prototype._prepareEvent=function(event,scope,hint){var _this=this,_a=this.getOptions(),_b=_a.normalizeDepth,normalizeDepth=_b===void 0?3:_b,_c=_a.normalizeMaxBreadth,normalizeMaxBreadth=_c===void 0?1e3:_c,prepared=tslib_1.__assign(tslib_1.__assign({},event),{event_id:event.event_id||(hint&&hint.event_id?hint.event_id:utils_1.uuid4()),timestamp:event.timestamp||utils_1.dateTimestampInSeconds()});this._applyClientOptions(prepared),this._applyIntegrationsMetadata(prepared);var finalScope=scope;hint&&hint.captureContext&&(finalScope=hub_1.Scope.clone(finalScope).update(hint.captureContext));var result=utils_1.resolvedSyncPromise(prepared);return finalScope&&(result=finalScope.applyToEvent(prepared,hint)),result.then(function(evt){return evt&&(evt.sdkProcessingMetadata=tslib_1.__assign(tslib_1.__assign({},evt.sdkProcessingMetadata),{normalizeDepth:utils_1.normalize(normalizeDepth)})),typeof normalizeDepth=="number"&&normalizeDepth>0?_this._normalizeEvent(evt,normalizeDepth,normalizeMaxBreadth):evt})},BaseClient2.prototype._normalizeEvent=function(event,depth,maxBreadth){if(!event)return null;var normalized=tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},event),event.breadcrumbs&&{breadcrumbs:event.breadcrumbs.map(function(b){return tslib_1.__assign(tslib_1.__assign({},b),b.data&&{data:utils_1.normalize(b.data,depth,maxBreadth)})})}),event.user&&{user:utils_1.normalize(event.user,depth,maxBreadth)}),event.contexts&&{contexts:utils_1.normalize(event.contexts,depth,maxBreadth)}),event.extra&&{extra:utils_1.normalize(event.extra,depth,maxBreadth)});return event.contexts&&event.contexts.trace&&(normalized.contexts.trace=event.contexts.trace),event.sdkProcessingMetadata=tslib_1.__assign(tslib_1.__assign({},event.sdkProcessingMetadata),{baseClientNormalized:!0}),normalized},BaseClient2.prototype._applyClientOptions=function(event){var options=this.getOptions(),environment=options.environment,release=options.release,dist=options.dist,_a=options.maxValueLength,maxValueLength=_a===void 0?250:_a;"environment"in event||(event.environment="environment"in options?environment:"production"),event.release===void 0&&release!==void 0&&(event.release=release),event.dist===void 0&&dist!==void 0&&(event.dist=dist),event.message&&(event.message=utils_1.truncate(event.message,maxValueLength));var exception=event.exception&&event.exception.values&&event.exception.values[0];exception&&exception.value&&(exception.value=utils_1.truncate(exception.value,maxValueLength));var request=event.request;request&&request.url&&(request.url=utils_1.truncate(request.url,maxValueLength))},BaseClient2.prototype._applyIntegrationsMetadata=function(event){var integrationsArray=Object.keys(this._integrations);integrationsArray.length>0&&(event.sdk=event.sdk||{},event.sdk.integrations=tslib_1.__spread(event.sdk.integrations||[],integrationsArray))},BaseClient2.prototype._sendEvent=function(event){this._getBackend().sendEvent(event)},BaseClient2.prototype._captureEvent=function(event,hint,scope){return this._processEvent(event,hint,scope).then(function(finalEvent){return finalEvent.event_id},function(reason){utils_1.isDebugBuild()&&utils_1.logger.error(reason)})},BaseClient2.prototype._processEvent=function(event,hint,scope){var _this=this,_a=this.getOptions(),beforeSend=_a.beforeSend,sampleRate=_a.sampleRate,transport=this.getTransport();function recordLostEvent(outcome,category){transport.recordLostEvent&&transport.recordLostEvent(outcome,category)}if(!this._isEnabled())return utils_1.rejectedSyncPromise(new utils_1.SentryError("SDK not enabled, will not capture event."));var isTransaction=event.type==="transaction";return!isTransaction&&typeof sampleRate=="number"&&Math.random()>sampleRate?(recordLostEvent("sample_rate","event"),utils_1.rejectedSyncPromise(new utils_1.SentryError("Discarding event because it's not included in the random sample (sampling rate = "+sampleRate+")"))):this._prepareEvent(event,scope,hint).then(function(prepared){if(prepared===null)throw recordLostEvent("event_processor",event.type||"event"),new utils_1.SentryError("An event processor returned null, will not send event.");var isInternalException=hint&&hint.data&&hint.data.__sentry__===!0;if(isInternalException||isTransaction||!beforeSend)return prepared;var beforeSendResult=beforeSend(prepared,hint);return _ensureBeforeSendRv(beforeSendResult)}).then(function(processedEvent){if(processedEvent===null)throw recordLostEvent("before_send",event.type||"event"),new utils_1.SentryError("`beforeSend` returned `null`, will not send event.");var session=scope&&scope.getSession&&scope.getSession();return!isTransaction&&session&&_this._updateSessionFromEvent(session,processedEvent),_this._sendEvent(processedEvent),processedEvent}).then(null,function(reason){throw reason instanceof utils_1.SentryError?reason:(_this.captureException(reason,{data:{__sentry__:!0},originalException:reason}),new utils_1.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+reason))})},BaseClient2.prototype._process=function(promise){var _this=this;this._numProcessing+=1,promise.then(function(value){return _this._numProcessing-=1,value},function(reason){return _this._numProcessing-=1,reason})},BaseClient2}();exports.BaseClient=BaseClient;function _ensureBeforeSendRv(rv){var nullErr="`beforeSend` method has to return `null` or a valid event.";if(utils_1.isThenable(rv))return rv.then(function(event){if(!(utils_1.isPlainObject(event)||event===null))throw new utils_1.SentryError(nullErr);return event},function(e){throw new utils_1.SentryError("beforeSend rejected with "+e)});if(!(utils_1.isPlainObject(rv)||rv===null))throw new utils_1.SentryError(nullErr);return rv}}});var require_noop=__commonJS({"../node_modules/@sentry/core/dist/transports/noop.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require_dist2(),NoopTransport=function(){function NoopTransport2(){}return NoopTransport2.prototype.sendEvent=function(_){return utils_1.resolvedSyncPromise({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},NoopTransport2.prototype.close=function(_){return utils_1.resolvedSyncPromise(!0)},NoopTransport2}();exports.NoopTransport=NoopTransport}});var require_basebackend=__commonJS({"../node_modules/@sentry/core/dist/basebackend.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require_dist2(),noop_1=require_noop(),BaseBackend=function(){function BaseBackend2(options){this._options=options,this._options.dsn||utils_1.isDebugBuild()&&utils_1.logger.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return BaseBackend2.prototype.eventFromException=function(_exception,_hint){throw new utils_1.SentryError("Backend has to implement `eventFromException` method")},BaseBackend2.prototype.eventFromMessage=function(_message,_level,_hint){throw new utils_1.SentryError("Backend has to implement `eventFromMessage` method")},BaseBackend2.prototype.sendEvent=function(event){this._transport.sendEvent(event).then(null,function(reason){utils_1.isDebugBuild()&&utils_1.logger.error("Error while sending event:",reason)})},BaseBackend2.prototype.sendSession=function(session){if(!this._transport.sendSession){utils_1.isDebugBuild()&&utils_1.logger.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(session).then(null,function(reason){utils_1.isDebugBuild()&&utils_1.logger.error("Error while sending session:",reason)})},BaseBackend2.prototype.getTransport=function(){return this._transport},BaseBackend2.prototype._setupTransport=function(){return new noop_1.NoopTransport},BaseBackend2}();exports.BaseBackend=BaseBackend}});var require_request=__commonJS({"../node_modules/@sentry/core/dist/request.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),utils_1=require_dist2(),api_1=require_api();function getSdkMetadataForEnvelopeHeader(api){if(!(!api.metadata||!api.metadata.sdk)){var _a=api.metadata.sdk,name=_a.name,version=_a.version;return{name,version}}}function enhanceEventWithSdkInfo(event,sdkInfo){return sdkInfo&&(event.sdk=event.sdk||{},event.sdk.name=event.sdk.name||sdkInfo.name,event.sdk.version=event.sdk.version||sdkInfo.version,event.sdk.integrations=tslib_1.__spread(event.sdk.integrations||[],sdkInfo.integrations||[]),event.sdk.packages=tslib_1.__spread(event.sdk.packages||[],sdkInfo.packages||[])),event}function sessionToSentryRequest(session,api){var sdkInfo=getSdkMetadataForEnvelopeHeader(api),envelopeHeaders=tslib_1.__assign(tslib_1.__assign({sent_at:new Date().toISOString()},sdkInfo&&{sdk:sdkInfo}),!!api.tunnel&&{dsn:utils_1.dsnToString(api.dsn)}),type="aggregates"in session?"sessions":"session",envelopeItem=[{type},session],envelope=utils_1.createEnvelope(envelopeHeaders,[envelopeItem]);return{body:utils_1.serializeEnvelope(envelope),type,url:api_1.getEnvelopeEndpointWithUrlEncodedAuth(api.dsn,api.tunnel)}}exports.sessionToSentryRequest=sessionToSentryRequest;function eventToSentryRequest(event,api){var sdkInfo=getSdkMetadataForEnvelopeHeader(api),eventType=event.type||"event",useEnvelope=eventType==="transaction"||!!api.tunnel,transactionSampling=(event.sdkProcessingMetadata||{}).transactionSampling,_a=transactionSampling||{},samplingMethod=_a.method,sampleRate=_a.rate;enhanceEventWithSdkInfo(event,api.metadata.sdk),event.tags=event.tags||{},event.extra=event.extra||{},event.sdkProcessingMetadata&&event.sdkProcessingMetadata.baseClientNormalized||(event.tags.skippedNormalization=!0,event.extra.normalizeDepth=event.sdkProcessingMetadata?event.sdkProcessingMetadata.normalizeDepth:"unset"),delete event.sdkProcessingMetadata;var body;try{body=JSON.stringify(event)}catch(err){event.tags.JSONStringifyError=!0,event.extra.JSONStringifyError=err;try{body=JSON.stringify(utils_1.normalize(event))}catch(newErr){var innerErr=newErr;body=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:innerErr.message,stack:innerErr.stack}})}}var req={body,type:eventType,url:useEnvelope?api_1.getEnvelopeEndpointWithUrlEncodedAuth(api.dsn,api.tunnel):api_1.getStoreEndpointWithUrlEncodedAuth(api.dsn)};if(useEnvelope){var envelopeHeaders=tslib_1.__assign(tslib_1.__assign({event_id:event.event_id,sent_at:new Date().toISOString()},sdkInfo&&{sdk:sdkInfo}),!!api.tunnel&&{dsn:utils_1.dsnToString(api.dsn)}),eventItem=[{type:eventType,sample_rates:[{id:samplingMethod,rate:sampleRate}]},req.body],envelope=utils_1.createEnvelope(envelopeHeaders,[eventItem]);req.body=utils_1.serializeEnvelope(envelope)}return req}exports.eventToSentryRequest=eventToSentryRequest}});var require_sdk=__commonJS({"../node_modules/@sentry/core/dist/sdk.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var hub_1=require_dist3(),utils_1=require_dist2();function initAndBind(clientClass,options){options.debug===!0&&(utils_1.isDebugBuild()?utils_1.logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var hub=hub_1.getCurrentHub(),scope=hub.getScope();scope&&scope.update(options.initialScope);var client=new clientClass(options);hub.bindClient(client)}exports.initAndBind=initAndBind}});var require_version=__commonJS({"../node_modules/@sentry/core/dist/version.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.SDK_VERSION="6.19.1"}});var require_functiontostring=__commonJS({"../node_modules/@sentry/core/dist/integrations/functiontostring.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require_dist2(),originalFunctionToString,FunctionToString=function(){function FunctionToString2(){this.name=FunctionToString2.id}return FunctionToString2.prototype.setupOnce=function(){originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var context=utils_1.getOriginalFunction(this)||this;return originalFunctionToString.apply(context,args)}},FunctionToString2.id="FunctionToString",FunctionToString2}();exports.FunctionToString=FunctionToString}});var require_inboundfilters=__commonJS({"../node_modules/@sentry/core/dist/integrations/inboundfilters.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),hub_1=require_dist3(),utils_1=require_dist2(),DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],InboundFilters=function(){function InboundFilters2(_options){_options===void 0&&(_options={}),this._options=_options,this.name=InboundFilters2.id}return InboundFilters2.prototype.setupOnce=function(){hub_1.addGlobalEventProcessor(function(event){var hub=hub_1.getCurrentHub();if(!hub)return event;var self2=hub.getIntegration(InboundFilters2);if(self2){var client=hub.getClient(),clientOptions=client?client.getOptions():{},options=typeof self2._mergeOptions=="function"?self2._mergeOptions(clientOptions):{};return typeof self2._shouldDropEvent!="function"?event:self2._shouldDropEvent(event,options)?null:event}return event})},InboundFilters2.prototype._shouldDropEvent=function(event,options){return this._isSentryError(event,options)?(utils_1.isDebugBuild()&&utils_1.logger.warn(`Event dropped due to being internal Sentry Error.
Event: `+utils_1.getEventDescription(event)),!0):this._isIgnoredError(event,options)?(utils_1.isDebugBuild()&&utils_1.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+utils_1.getEventDescription(event)),!0):this._isDeniedUrl(event,options)?(utils_1.isDebugBuild()&&utils_1.logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+utils_1.getEventDescription(event)+`.
Url: `+this._getEventFilterUrl(event)),!0):this._isAllowedUrl(event,options)?!1:(utils_1.isDebugBuild()&&utils_1.logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+utils_1.getEventDescription(event)+`.
Url: `+this._getEventFilterUrl(event)),!0)},InboundFilters2.prototype._isSentryError=function(event,options){if(!options.ignoreInternal)return!1;try{return event.exception.values[0].type==="SentryError"}catch{}return!1},InboundFilters2.prototype._isIgnoredError=function(event,options){return!options.ignoreErrors||!options.ignoreErrors.length?!1:this._getPossibleEventMessages(event).some(function(message){return options.ignoreErrors.some(function(pattern){return utils_1.isMatchingPattern(message,pattern)})})},InboundFilters2.prototype._isDeniedUrl=function(event,options){if(!options.denyUrls||!options.denyUrls.length)return!1;var url=this._getEventFilterUrl(event);return url?options.denyUrls.some(function(pattern){return utils_1.isMatchingPattern(url,pattern)}):!1},InboundFilters2.prototype._isAllowedUrl=function(event,options){if(!options.allowUrls||!options.allowUrls.length)return!0;var url=this._getEventFilterUrl(event);return url?options.allowUrls.some(function(pattern){return utils_1.isMatchingPattern(url,pattern)}):!0},InboundFilters2.prototype._mergeOptions=function(clientOptions){return clientOptions===void 0&&(clientOptions={}),{allowUrls:tslib_1.__spread(this._options.whitelistUrls||[],this._options.allowUrls||[],clientOptions.whitelistUrls||[],clientOptions.allowUrls||[]),denyUrls:tslib_1.__spread(this._options.blacklistUrls||[],this._options.denyUrls||[],clientOptions.blacklistUrls||[],clientOptions.denyUrls||[]),ignoreErrors:tslib_1.__spread(this._options.ignoreErrors||[],clientOptions.ignoreErrors||[],DEFAULT_IGNORE_ERRORS),ignoreInternal:typeof this._options.ignoreInternal<"u"?this._options.ignoreInternal:!0}},InboundFilters2.prototype._getPossibleEventMessages=function(event){if(event.message)return[event.message];if(event.exception)try{var _a=event.exception.values&&event.exception.values[0]||{},_b=_a.type,type=_b===void 0?"":_b,_c=_a.value,value=_c===void 0?"":_c;return[""+value,type+": "+value]}catch{return utils_1.isDebugBuild()&&utils_1.logger.error("Cannot extract message for event "+utils_1.getEventDescription(event)),[]}return[]},InboundFilters2.prototype._getLastValidUrl=function(frames){frames===void 0&&(frames=[]);for(var i=frames.length-1;i>=0;i--){var frame=frames[i];if(frame&&frame.filename!=="<anonymous>"&&frame.filename!=="[native code]")return frame.filename||null}return null},InboundFilters2.prototype._getEventFilterUrl=function(event){try{if(event.stacktrace)return this._getLastValidUrl(event.stacktrace.frames);var frames_1;try{frames_1=event.exception.values[0].stacktrace.frames}catch{}return frames_1?this._getLastValidUrl(frames_1):null}catch{return utils_1.isDebugBuild()&&utils_1.logger.error("Cannot extract url for event "+utils_1.getEventDescription(event)),null}},InboundFilters2.id="InboundFilters",InboundFilters2}();exports.InboundFilters=InboundFilters}});var require_integrations=__commonJS({"../node_modules/@sentry/core/dist/integrations/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var functiontostring_1=require_functiontostring();exports.FunctionToString=functiontostring_1.FunctionToString;var inboundfilters_1=require_inboundfilters();exports.InboundFilters=inboundfilters_1.InboundFilters}});var require_dist5=__commonJS({"../node_modules/@sentry/core/dist/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var minimal_1=require_dist4();exports.addBreadcrumb=minimal_1.addBreadcrumb;exports.captureException=minimal_1.captureException;exports.captureEvent=minimal_1.captureEvent;exports.captureMessage=minimal_1.captureMessage;exports.configureScope=minimal_1.configureScope;exports.startTransaction=minimal_1.startTransaction;exports.setContext=minimal_1.setContext;exports.setExtra=minimal_1.setExtra;exports.setExtras=minimal_1.setExtras;exports.setTag=minimal_1.setTag;exports.setTags=minimal_1.setTags;exports.setUser=minimal_1.setUser;exports.withScope=minimal_1.withScope;var hub_1=require_dist3();exports.addGlobalEventProcessor=hub_1.addGlobalEventProcessor;exports.getCurrentHub=hub_1.getCurrentHub;exports.getHubFromCarrier=hub_1.getHubFromCarrier;exports.Hub=hub_1.Hub;exports.makeMain=hub_1.makeMain;exports.Scope=hub_1.Scope;exports.Session=hub_1.Session;var api_1=require_api();exports.API=api_1.API;exports.getEnvelopeEndpointWithUrlEncodedAuth=api_1.getEnvelopeEndpointWithUrlEncodedAuth;exports.getStoreEndpointWithUrlEncodedAuth=api_1.getStoreEndpointWithUrlEncodedAuth;exports.getRequestHeaders=api_1.getRequestHeaders;exports.initAPIDetails=api_1.initAPIDetails;exports.getReportDialogEndpoint=api_1.getReportDialogEndpoint;var baseclient_1=require_baseclient();exports.BaseClient=baseclient_1.BaseClient;var basebackend_1=require_basebackend();exports.BaseBackend=basebackend_1.BaseBackend;var request_1=require_request();exports.eventToSentryRequest=request_1.eventToSentryRequest;exports.sessionToSentryRequest=request_1.sessionToSentryRequest;var sdk_1=require_sdk();exports.initAndBind=sdk_1.initAndBind;var noop_1=require_noop();exports.NoopTransport=noop_1.NoopTransport;var version_1=require_version();exports.SDK_VERSION=version_1.SDK_VERSION;var Integrations=require_integrations();exports.Integrations=Integrations}});var require_stack_parser=__commonJS({"../node_modules/@sentry/node/dist/stack-parser.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require_dist2();function getModule(filename){if(!!filename){var base=(require&&require.main&&require.main.filename&&utils_1.dirname(require.main.filename)||global.process.cwd())+"/",file=utils_1.basename(filename,".js"),path4=utils_1.dirname(filename),n=path4.lastIndexOf("/node_modules/");if(n>-1)return path4.substr(n+14).replace(/\//g,".")+":"+file;if(n=(path4+"/").lastIndexOf(base,0),n===0){var moduleName=path4.substr(base.length).replace(/\//g,".");return moduleName&&(moduleName+=":"),moduleName+=file,moduleName}return file}}var FILENAME_MATCH=/^\s*[-]{4,}$/,FULL_MATCH=/at (?:async )?(?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/,node=function(line){var _a;if(line.match(FILENAME_MATCH))return{filename:line};var lineMatch=line.match(FULL_MATCH);if(!!lineMatch){var object,method,functionName,typeName,methodName;if(lineMatch[1]){functionName=lineMatch[1];var methodStart=functionName.lastIndexOf(".");if(functionName[methodStart-1]==="."&&methodStart--,methodStart>0){object=functionName.substr(0,methodStart),method=functionName.substr(methodStart+1);var objectEnd=object.indexOf(".Module");objectEnd>0&&(functionName=functionName.substr(objectEnd+1),object=object.substr(0,objectEnd))}typeName=void 0}method&&(typeName=object,methodName=method),method==="<anonymous>"&&(methodName=void 0,functionName=void 0),functionName===void 0&&(methodName=methodName||"<anonymous>",functionName=typeName?typeName+"."+methodName:methodName);var filename=((_a=lineMatch[2])===null||_a===void 0?void 0:_a.startsWith("file://"))?lineMatch[2].substr(7):lineMatch[2],isNative=lineMatch[5]==="native",isInternal=isNative||filename&&!filename.startsWith("/")&&!filename.startsWith(".")&&filename.indexOf(":\\")!==1,in_app=!isInternal&&filename!==void 0&&!filename.includes("node_modules/");return{filename,module:getModule(filename),function:functionName,lineno:parseInt(lineMatch[3],10)||void 0,colno:parseInt(lineMatch[4],10)||void 0,in_app}}};exports.nodeStackParser=[90,node]}});var require_eventbuilder=__commonJS({"../node_modules/@sentry/node/dist/eventbuilder.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),hub_1=require_dist3(),types_1=require_dist(),utils_1=require_dist2(),stack_parser_1=require_stack_parser();function parseStackFrames(error){return utils_1.createStackParser(stack_parser_1.nodeStackParser)(error.stack||"",1)}exports.parseStackFrames=parseStackFrames;function exceptionFromError(error){var exception={type:error.name||error.constructor.name,value:error.message},frames=parseStackFrames(error);return frames.length&&(exception.stacktrace={frames}),exception}exports.exceptionFromError=exceptionFromError;function eventFromUnknownInput(exception,hint){var ex=exception,providedMechanism=hint&&hint.data&&hint.data.mechanism,mechanism=providedMechanism||{handled:!0,type:"generic"};if(!utils_1.isError(exception)){if(utils_1.isPlainObject(exception)){var message="Non-Error exception captured with keys: "+utils_1.extractExceptionKeysForMessage(exception);hub_1.getCurrentHub().configureScope(function(scope){scope.setExtra("__serialized__",utils_1.normalizeToSize(exception))}),ex=hint&&hint.syntheticException||new Error(message),ex.message=message}else ex=hint&&hint.syntheticException||new Error(exception),ex.message=exception;mechanism.synthetic=!0}var event={exception:{values:[exceptionFromError(ex)]}};return utils_1.addExceptionTypeValue(event,void 0,void 0),utils_1.addExceptionMechanism(event,mechanism),tslib_1.__assign(tslib_1.__assign({},event),{event_id:hint&&hint.event_id})}exports.eventFromUnknownInput=eventFromUnknownInput;function eventFromMessage(message,level,hint,attachStacktrace){level===void 0&&(level=types_1.Severity.Info);var event={event_id:hint&&hint.event_id,level,message};if(attachStacktrace&&hint&&hint.syntheticException){var frames_1=parseStackFrames(hint.syntheticException);frames_1.length&&(event.stacktrace={frames:frames_1})}return event}exports.eventFromMessage=eventFromMessage}});var require_version2=__commonJS({"../node_modules/@sentry/node/dist/version.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.SDK_NAME="sentry.javascript.node"}});var require_base=__commonJS({"../node_modules/@sentry/node/dist/transports/base/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),utils_1=require_dist2(),fs=require("fs"),url_1=require("url"),version_1=require_version2(),CATEGORY_MAPPING={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},BaseTransport=function(){function BaseTransport2(options){this.options=options,this._buffer=utils_1.makePromiseBuffer(30),this._rateLimits={},this.urlParser=function(url){return new url_1.URL(url)},this._api=core_1.initAPIDetails(options.dsn,options._metadata,options.tunnel)}return BaseTransport2.prototype.sendEvent=function(_){throw new utils_1.SentryError("Transport Class has to implement `sendEvent` method.")},BaseTransport2.prototype.close=function(timeout){return this._buffer.drain(timeout)},BaseTransport2.prototype._getProxy=function(protocol){var e_1,_a,_b=process.env,no_proxy=_b.no_proxy,http_proxy=_b.http_proxy,https_proxy=_b.https_proxy,_c=this.options,httpProxy=_c.httpProxy,httpsProxy=_c.httpsProxy,proxy=protocol==="http"?httpProxy||http_proxy:httpsProxy||httpProxy||https_proxy||http_proxy;if(!no_proxy)return proxy;var _d=this._api.dsn,host=_d.host,port=_d.port;try{for(var _e=tslib_1.__values(no_proxy.split(",")),_f=_e.next();!_f.done;_f=_e.next()){var np=_f.value;if(host.endsWith(np)||(host+":"+port).endsWith(np))return}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_f&&!_f.done&&(_a=_e.return)&&_a.call(_e)}finally{if(e_1)throw e_1.error}}return proxy},BaseTransport2.prototype._getRequestOptions=function(urlParts){var headers=tslib_1.__assign(tslib_1.__assign({},core_1.getRequestHeaders(this._api.dsn,version_1.SDK_NAME,core_1.SDK_VERSION)),this.options.headers),hostname=urlParts.hostname,pathname=urlParts.pathname,port=urlParts.port,protocol=urlParts.protocol,path4=""+pathname;return tslib_1.__assign({agent:this.client,headers,hostname,method:"POST",path:path4,port,protocol},this.options.caCerts&&{ca:fs.readFileSync(this.options.caCerts)})},BaseTransport2.prototype._disabledUntil=function(requestType){var category=CATEGORY_MAPPING[requestType];return this._rateLimits[category]||this._rateLimits.all},BaseTransport2.prototype._isRateLimited=function(requestType){return this._disabledUntil(requestType)>new Date(Date.now())},BaseTransport2.prototype._handleRateLimit=function(headers){var e_2,_a,e_3,_b,now=Date.now(),rlHeader=headers["x-sentry-rate-limits"],raHeader=headers["retry-after"];if(rlHeader){try{for(var _c=tslib_1.__values(rlHeader.trim().split(",")),_d=_c.next();!_d.done;_d=_c.next()){var limit=_d.value,parameters=limit.split(":",2),headerDelay=parseInt(parameters[0],10),delay=(isNaN(headerDelay)?60:headerDelay)*1e3;try{for(var _e=(e_3=void 0,tslib_1.__values(parameters[1]&&parameters[1].split(";")||["all"])),_f=_e.next();!_f.done;_f=_e.next()){var category=_f.value,categoriesAllowed=tslib_1.__spread(Object.keys(CATEGORY_MAPPING).map(function(k){return CATEGORY_MAPPING[k]}),["all"]);categoriesAllowed.includes(category)&&(this._rateLimits[category]=new Date(now+delay))}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_3)throw e_3.error}}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_2)throw e_2.error}}return!0}else if(raHeader)return this._rateLimits.all=new Date(now+utils_1.parseRetryAfterHeader(raHeader,now)),!0;return!1},BaseTransport2.prototype._send=function(sentryRequest,originalPayload){return tslib_1.__awaiter(this,void 0,void 0,function(){var _this=this;return tslib_1.__generator(this,function(_a){if(!this.module)throw new utils_1.SentryError("No module available");return originalPayload&&this._isRateLimited(sentryRequest.type)?[2,Promise.reject({payload:originalPayload,type:sentryRequest.type,reason:"Transport for "+sentryRequest.type+" requests locked till "+this._disabledUntil(sentryRequest.type)+" due to too many requests.",status:429})]:[2,this._buffer.add(function(){return new Promise(function(resolve,reject){if(!_this.module)throw new utils_1.SentryError("No module available");var options=_this._getRequestOptions(_this.urlParser(sentryRequest.url)),req=_this.module.request(options,function(res){var statusCode=res.statusCode||500,status=utils_1.eventStatusFromHttpCode(statusCode);res.setEncoding("utf8");var retryAfterHeader=res.headers?res.headers["retry-after"]:"";retryAfterHeader=Array.isArray(retryAfterHeader)?retryAfterHeader[0]:retryAfterHeader;var rlHeader=res.headers?res.headers["x-sentry-rate-limits"]:"";rlHeader=Array.isArray(rlHeader)?rlHeader[0]:rlHeader;var headers={"x-sentry-rate-limits":rlHeader,"retry-after":retryAfterHeader},limited=_this._handleRateLimit(headers);if(limited&&utils_1.isDebugBuild()&&utils_1.logger.warn("Too many "+sentryRequest.type+" requests, backing off until: "+_this._disabledUntil(sentryRequest.type)),status==="success")resolve({status});else{var rejectionMessage="HTTP Error ("+statusCode+")";res.headers&&res.headers["x-sentry-error"]&&(rejectionMessage+=": "+res.headers["x-sentry-error"]),reject(new utils_1.SentryError(rejectionMessage))}res.on("data",function(){}),res.on("end",function(){})});req.on("error",reject),req.end(sentryRequest.body)})})]})})},BaseTransport2}();exports.BaseTransport=BaseTransport}});var require_ms=__commonJS({"../node_modules/ms/index.js"(exports,module2){var s=1e3,m=s*60,h=m*60,d=h*24,w=d*7,y=d*365.25;module2.exports=function(val,options){options=options||{};var type=typeof val;if(type==="string"&&val.length>0)return parse(val);if(type==="number"&&isFinite(val))return options.long?fmtLong(val):fmtShort(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))};function parse(str){if(str=String(str),!(str.length>100)){var match=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(!!match){var n=parseFloat(match[1]),type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"weeks":case"week":case"w":return n*w;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function fmtShort(ms){var msAbs=Math.abs(ms);return msAbs>=d?Math.round(ms/d)+"d":msAbs>=h?Math.round(ms/h)+"h":msAbs>=m?Math.round(ms/m)+"m":msAbs>=s?Math.round(ms/s)+"s":ms+"ms"}function fmtLong(ms){var msAbs=Math.abs(ms);return msAbs>=d?plural(ms,msAbs,d,"day"):msAbs>=h?plural(ms,msAbs,h,"hour"):msAbs>=m?plural(ms,msAbs,m,"minute"):msAbs>=s?plural(ms,msAbs,s,"second"):ms+" ms"}function plural(ms,msAbs,n,name){var isPlural=msAbs>=n*1.5;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}}});var require_common=__commonJS({"../node_modules/debug/src/common.js"(exports,module2){function setup(env4){createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=coerce,createDebug.disable=disable,createDebug.enable=enable,createDebug.enabled=enabled,createDebug.humanize=require_ms(),createDebug.destroy=destroy,Object.keys(env4).forEach(key=>{createDebug[key]=env4[key]}),createDebug.names=[],createDebug.skips=[],createDebug.formatters={};function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(namespace){let prevTime,enableOverride=null,namespacesCache,enabledCache;function debug(...args){if(!debug.enabled)return;let self2=debug,curr=Number(new Date),ms=curr-(prevTime||curr);self2.diff=ms,self2.prev=prevTime,self2.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),typeof args[0]!="string"&&args.unshift("%O");let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(match,format)=>{if(match==="%%")return"%";index++;let formatter=createDebug.formatters[format];if(typeof formatter=="function"){let val=args[index];match=formatter.call(self2,val),args.splice(index,1),index--}return match}),createDebug.formatArgs.call(self2,args),(self2.log||createDebug.log).apply(self2,args)}return debug.namespace=namespace,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(namespace),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>enableOverride!==null?enableOverride:(namespacesCache!==createDebug.namespaces&&(namespacesCache=createDebug.namespaces,enabledCache=createDebug.enabled(namespace)),enabledCache),set:v=>{enableOverride=v}}),typeof createDebug.init=="function"&&createDebug.init(debug),debug}function extend(namespace,delimiter){let newDebug=createDebug(this.namespace+(typeof delimiter>"u"?":":delimiter)+namespace);return newDebug.log=this.log,newDebug}function enable(namespaces){createDebug.save(namespaces),createDebug.namespaces=namespaces,createDebug.names=[],createDebug.skips=[];let i,split=(typeof namespaces=="string"?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)!split[i]||(namespaces=split[i].replace(/\*/g,".*?"),namespaces[0]==="-"?createDebug.skips.push(new RegExp("^"+namespaces.slice(1)+"$")):createDebug.names.push(new RegExp("^"+namespaces+"$")))}function disable(){let namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(namespace=>"-"+namespace)].join(",");return createDebug.enable(""),namespaces}function enabled(name){if(name[name.length-1]==="*")return!0;let i,len;for(i=0,len=createDebug.skips.length;i<len;i++)if(createDebug.skips[i].test(name))return!1;for(i=0,len=createDebug.names.length;i<len;i++)if(createDebug.names[i].test(name))return!0;return!1}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(val){return val instanceof Error?val.stack||val.message:val}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return createDebug.enable(createDebug.load()),createDebug}module2.exports=setup}});var require_browser2=__commonJS({"../node_modules/debug/src/browser.js"(exports,module2){exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage=localstorage();exports.destroy=(()=>{let warned=!1;return()=>{warned||(warned=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module2.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,match=>{match!=="%%"&&(index++,match==="%c"&&(lastC=index))}),args.splice(lastC,0,c)}exports.log=console.debug||console.log||(()=>{});function save(namespaces){try{namespaces?exports.storage.setItem("debug",namespaces):exports.storage.removeItem("debug")}catch{}}function load(){let r;try{r=exports.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function localstorage(){try{return localStorage}catch{}}module2.exports=require_common()(exports);var{formatters}=module2.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}}});var require_has_flag=__commonJS({"../node_modules/has-flag/index.js"(exports,module2){"use strict";module2.exports=(flag,argv=process.argv)=>{let prefix=flag.startsWith("-")?"":flag.length===1?"-":"--",position=argv.indexOf(prefix+flag),terminatorPosition=argv.indexOf("--");return position!==-1&&(terminatorPosition===-1||position<terminatorPosition)}}});var require_supports_color=__commonJS({"../node_modules/supports-color/index.js"(exports,module2){"use strict";var os=require("os"),tty=require("tty"),hasFlag=require_has_flag(),{env:env4}=process,forceColor;hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?forceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=1);"FORCE_COLOR"in env4&&(env4.FORCE_COLOR==="true"?forceColor=1:env4.FORCE_COLOR==="false"?forceColor=0:forceColor=env4.FORCE_COLOR.length===0?1:Math.min(parseInt(env4.FORCE_COLOR,10),3));function translateLevel(level){return level===0?!1:{level,hasBasic:!0,has256:level>=2,has16m:level>=3}}function supportsColor(haveStream,streamIsTTY){if(forceColor===0)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(haveStream&&!streamIsTTY&&forceColor===void 0)return 0;let min=forceColor||0;if(env4.TERM==="dumb")return min;if(process.platform==="win32"){let osRelease=os.release().split(".");return Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env4)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(sign=>sign in env4)||env4.CI_NAME==="codeship"?1:min;if("TEAMCITY_VERSION"in env4)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env4.TEAMCITY_VERSION)?1:0;if(env4.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in env4){let version=parseInt((env4.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env4.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env4.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env4.TERM)||"COLORTERM"in env4?1:min}function getSupportLevel(stream){let level=supportsColor(stream,stream&&stream.isTTY);return translateLevel(level)}module2.exports={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(!0,tty.isatty(1))),stderr:translateLevel(supportsColor(!0,tty.isatty(2)))}}});var require_node2=__commonJS({"../node_modules/debug/src/node.js"(exports,module2){var tty=require("tty"),util=require("util");exports.init=init2;exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.destroy=util.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");exports.colors=[6,2,3,4,5,1];try{let supportsColor=require_supports_color();supportsColor&&(supportsColor.stderr||supportsColor).level>=2&&(exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}exports.inspectOpts=Object.keys(process.env).filter(key=>/^debug_/i.test(key)).reduce((obj,key)=>{let prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(_,k)=>k.toUpperCase()),val=process.env[key];return/^(yes|on|true|enabled)$/i.test(val)?val=!0:/^(no|off|false|disabled)$/i.test(val)?val=!1:val==="null"?val=null:val=Number(val),obj[prop]=val,obj},{});function useColors(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)}function formatArgs(args){let{namespace:name,useColors:useColors2}=this;if(useColors2){let c=this.color,colorCode="\x1B[3"+(c<8?c:"8;5;"+c),prefix=`  ${colorCode};1m${name} \x1B[0m`;args[0]=prefix+args[0].split(`
`).join(`
`+prefix),args.push(colorCode+"m+"+module2.exports.humanize(this.diff)+"\x1B[0m")}else args[0]=getDate()+name+" "+args[0]}function getDate(){return exports.inspectOpts.hideDate?"":new Date().toISOString()+" "}function log(...args){return process.stderr.write(util.format(...args)+`
`)}function save(namespaces){namespaces?process.env.DEBUG=namespaces:delete process.env.DEBUG}function load(){return process.env.DEBUG}function init2(debug){debug.inspectOpts={};let keys=Object.keys(exports.inspectOpts);for(let i=0;i<keys.length;i++)debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]]}module2.exports=require_common()(exports);var{formatters}=module2.exports;formatters.o=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts).split(`
`).map(str=>str.trim()).join(" ")};formatters.O=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts)}}});var require_src=__commonJS({"../node_modules/debug/src/index.js"(exports,module2){typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?module2.exports=require_browser2():module2.exports=require_node2()}});var require_promisify=__commonJS({"../node_modules/agent-base/dist/src/promisify.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function promisify(fn){return function(req,opts){return new Promise((resolve,reject)=>{fn.call(this,req,opts,(err,rtn)=>{err?reject(err):resolve(rtn)})})}}exports.default=promisify}});var require_src2=__commonJS({"../node_modules/agent-base/dist/src/index.js"(exports,module2){"use strict";var __importDefault=exports&&exports.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}},events_1=require("events"),debug_1=__importDefault(require_src()),promisify_1=__importDefault(require_promisify()),debug=debug_1.default("agent-base");function isAgent(v){return Boolean(v)&&typeof v.addRequest=="function"}function isSecureEndpoint(){let{stack}=new Error;return typeof stack!="string"?!1:stack.split(`
`).some(l=>l.indexOf("(https.js:")!==-1||l.indexOf("node:https:")!==-1)}function createAgent(callback,opts){return new createAgent.Agent(callback,opts)}(function(createAgent2){class Agent extends events_1.EventEmitter{constructor(callback,_opts){super();let opts=_opts;typeof callback=="function"?this.callback=callback:callback&&(opts=callback),this.timeout=null,opts&&typeof opts.timeout=="number"&&(this.timeout=opts.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:isSecureEndpoint()?443:80}set defaultPort(v){this.explicitDefaultPort=v}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:isSecureEndpoint()?"https:":"http:"}set protocol(v){this.explicitProtocol=v}callback(req,opts,fn){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(req,_opts){let opts=Object.assign({},_opts);typeof opts.secureEndpoint!="boolean"&&(opts.secureEndpoint=isSecureEndpoint()),opts.host==null&&(opts.host="localhost"),opts.port==null&&(opts.port=opts.secureEndpoint?443:80),opts.protocol==null&&(opts.protocol=opts.secureEndpoint?"https:":"http:"),opts.host&&opts.path&&delete opts.path,delete opts.agent,delete opts.hostname,delete opts._defaultAgent,delete opts.defaultPort,delete opts.createConnection,req._last=!0,req.shouldKeepAlive=!1;let timedOut=!1,timeoutId=null,timeoutMs=opts.timeout||this.timeout,onerror=err=>{req._hadError||(req.emit("error",err),req._hadError=!0)},ontimeout=()=>{timeoutId=null,timedOut=!0;let err=new Error(`A "socket" was not created for HTTP request before ${timeoutMs}ms`);err.code="ETIMEOUT",onerror(err)},callbackError=err=>{timedOut||(timeoutId!==null&&(clearTimeout(timeoutId),timeoutId=null),onerror(err))},onsocket=socket=>{if(timedOut)return;if(timeoutId!=null&&(clearTimeout(timeoutId),timeoutId=null),isAgent(socket)){debug("Callback returned another Agent instance %o",socket.constructor.name),socket.addRequest(req,opts);return}if(socket){socket.once("free",()=>{this.freeSocket(socket,opts)}),req.onSocket(socket);return}let err=new Error(`no Duplex stream was returned to agent-base for \`${req.method} ${req.path}\``);onerror(err)};if(typeof this.callback!="function"){onerror(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(debug("Converting legacy callback function to promise"),this.promisifiedCallback=promisify_1.default(this.callback)):this.promisifiedCallback=this.callback),typeof timeoutMs=="number"&&timeoutMs>0&&(timeoutId=setTimeout(ontimeout,timeoutMs)),"port"in opts&&typeof opts.port!="number"&&(opts.port=Number(opts.port));try{debug("Resolving socket for %o request: %o",opts.protocol,`${req.method} ${req.path}`),Promise.resolve(this.promisifiedCallback(req,opts)).then(onsocket,callbackError)}catch(err){Promise.reject(err).catch(callbackError)}}freeSocket(socket,opts){debug("Freeing socket %o %o",socket.constructor.name,opts),socket.destroy()}destroy(){debug("Destroying agent %o",this.constructor.name)}}createAgent2.Agent=Agent,createAgent2.prototype=createAgent2.Agent.prototype})(createAgent||(createAgent={}));module2.exports=createAgent}});var require_parse_proxy_response=__commonJS({"../node_modules/https-proxy-agent/dist/parse-proxy-response.js"(exports){"use strict";var __importDefault=exports&&exports.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var debug_1=__importDefault(require_src()),debug=debug_1.default("https-proxy-agent:parse-proxy-response");function parseProxyResponse(socket){return new Promise((resolve,reject)=>{let buffersLength=0,buffers=[];function read(){let b=socket.read();b?ondata(b):socket.once("readable",read)}function cleanup(){socket.removeListener("end",onend),socket.removeListener("error",onerror),socket.removeListener("close",onclose),socket.removeListener("readable",read)}function onclose(err){debug("onclose had error %o",err)}function onend(){debug("onend")}function onerror(err){cleanup(),debug("onerror %o",err),reject(err)}function ondata(b){buffers.push(b),buffersLength+=b.length;let buffered=Buffer.concat(buffers,buffersLength);if(buffered.indexOf(`\r
\r
`)===-1){debug("have not received end of HTTP headers yet..."),read();return}let firstLine=buffered.toString("ascii",0,buffered.indexOf(`\r
`)),statusCode=+firstLine.split(" ")[1];debug("got proxy server response: %o",firstLine),resolve({statusCode,buffered})}socket.on("error",onerror),socket.on("close",onclose),socket.on("end",onend),read()})}exports.default=parseProxyResponse}});var require_agent=__commonJS({"../node_modules/https-proxy-agent/dist/agent.js"(exports){"use strict";var __awaiter=exports&&exports.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__importDefault=exports&&exports.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var net_1=__importDefault(require("net")),tls_1=__importDefault(require("tls")),url_1=__importDefault(require("url")),assert_1=__importDefault(require("assert")),debug_1=__importDefault(require_src()),agent_base_1=require_src2(),parse_proxy_response_1=__importDefault(require_parse_proxy_response()),debug=debug_1.default("https-proxy-agent:agent"),HttpsProxyAgent=class extends agent_base_1.Agent{constructor(_opts){let opts;if(typeof _opts=="string"?opts=url_1.default.parse(_opts):opts=_opts,!opts)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");debug("creating new HttpsProxyAgent instance: %o",opts);super(opts);let proxy=Object.assign({},opts);this.secureProxy=opts.secureProxy||isHTTPS(proxy.protocol),proxy.host=proxy.hostname||proxy.host,typeof proxy.port=="string"&&(proxy.port=parseInt(proxy.port,10)),!proxy.port&&proxy.host&&(proxy.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in proxy)&&(proxy.ALPNProtocols=["http 1.1"]),proxy.host&&proxy.path&&(delete proxy.path,delete proxy.pathname),this.proxy=proxy}callback(req,opts){return __awaiter(this,void 0,void 0,function*(){let{proxy,secureProxy}=this,socket;secureProxy?(debug("Creating `tls.Socket`: %o",proxy),socket=tls_1.default.connect(proxy)):(debug("Creating `net.Socket`: %o",proxy),socket=net_1.default.connect(proxy));let headers=Object.assign({},proxy.headers),payload=`CONNECT ${`${opts.host}:${opts.port}`} HTTP/1.1\r
`;proxy.auth&&(headers["Proxy-Authorization"]=`Basic ${Buffer.from(proxy.auth).toString("base64")}`);let{host,port,secureEndpoint}=opts;isDefaultPort(port,secureEndpoint)||(host+=`:${port}`),headers.Host=host,headers.Connection="close";for(let name of Object.keys(headers))payload+=`${name}: ${headers[name]}\r
`;let proxyResponsePromise=parse_proxy_response_1.default(socket);socket.write(`${payload}\r
`);let{statusCode,buffered}=yield proxyResponsePromise;if(statusCode===200){if(req.once("socket",resume),opts.secureEndpoint){debug("Upgrading socket connection to TLS");let servername=opts.servername||opts.host;return tls_1.default.connect(Object.assign(Object.assign({},omit(opts,"host","hostname","path","port")),{socket,servername}))}return socket}socket.destroy();let fakeSocket=new net_1.default.Socket({writable:!1});return fakeSocket.readable=!0,req.once("socket",s=>{debug("replaying proxy buffer for failed request"),assert_1.default(s.listenerCount("data")>0),s.push(buffered),s.push(null)}),fakeSocket})}};exports.default=HttpsProxyAgent;function resume(socket){socket.resume()}function isDefaultPort(port,secure){return Boolean(!secure&&port===80||secure&&port===443)}function isHTTPS(protocol){return typeof protocol=="string"?/^https:?$/i.test(protocol):!1}function omit(obj,...keys){let ret={},key;for(key in obj)keys.includes(key)||(ret[key]=obj[key]);return ret}}});var require_dist6=__commonJS({"../node_modules/https-proxy-agent/dist/index.js"(exports,module2){"use strict";var __importDefault=exports&&exports.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}},agent_1=__importDefault(require_agent());function createHttpsProxyAgent(opts){return new agent_1.default(opts)}(function(createHttpsProxyAgent2){createHttpsProxyAgent2.HttpsProxyAgent=agent_1.default,createHttpsProxyAgent2.prototype=agent_1.default.prototype})(createHttpsProxyAgent||(createHttpsProxyAgent={}));module2.exports=createHttpsProxyAgent}});var require_http=__commonJS({"../node_modules/@sentry/node/dist/transports/http.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),http=require("http"),base_1=require_base(),HTTPTransport=function(_super){tslib_1.__extends(HTTPTransport2,_super);function HTTPTransport2(options){var _this=_super.call(this,options)||this;_this.options=options;var proxy=_this._getProxy("http");return _this.module=http,_this.client=proxy?new(require_dist6())(proxy):new http.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),_this}return HTTPTransport2.prototype.sendEvent=function(event){return this._send(core_1.eventToSentryRequest(event,this._api),event)},HTTPTransport2.prototype.sendSession=function(session){return this._send(core_1.sessionToSentryRequest(session,this._api),session)},HTTPTransport2}(base_1.BaseTransport);exports.HTTPTransport=HTTPTransport}});var require_https=__commonJS({"../node_modules/@sentry/node/dist/transports/https.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),https=require("https"),base_1=require_base(),HTTPSTransport=function(_super){tslib_1.__extends(HTTPSTransport2,_super);function HTTPSTransport2(options){var _this=_super.call(this,options)||this;_this.options=options;var proxy=_this._getProxy("https");return _this.module=https,_this.client=proxy?new(require_dist6())(proxy):new https.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),_this}return HTTPSTransport2.prototype.sendEvent=function(event){return this._send(core_1.eventToSentryRequest(event,this._api),event)},HTTPSTransport2.prototype.sendSession=function(session){return this._send(core_1.sessionToSentryRequest(session,this._api),session)},HTTPSTransport2}(base_1.BaseTransport);exports.HTTPSTransport=HTTPSTransport}});var require_transports=__commonJS({"../node_modules/@sentry/node/dist/transports/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var base_1=require_base();exports.BaseTransport=base_1.BaseTransport;var http_1=require_http();exports.HTTPTransport=http_1.HTTPTransport;var https_1=require_https();exports.HTTPSTransport=https_1.HTTPSTransport}});var require_backend=__commonJS({"../node_modules/@sentry/node/dist/backend.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),types_1=require_dist(),utils_1=require_dist2(),eventbuilder_1=require_eventbuilder(),transports_1=require_transports(),NodeBackend=function(_super){tslib_1.__extends(NodeBackend2,_super);function NodeBackend2(){return _super!==null&&_super.apply(this,arguments)||this}return NodeBackend2.prototype.eventFromException=function(exception,hint){return utils_1.resolvedSyncPromise(eventbuilder_1.eventFromUnknownInput(exception,hint))},NodeBackend2.prototype.eventFromMessage=function(message,level,hint){return level===void 0&&(level=types_1.Severity.Info),utils_1.resolvedSyncPromise(eventbuilder_1.eventFromMessage(message,level,hint,this._options.attachStacktrace))},NodeBackend2.prototype._setupTransport=function(){if(!this._options.dsn)return _super.prototype._setupTransport.call(this);var dsn=utils_1.makeDsn(this._options.dsn),transportOptions=tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},this._options.transportOptions),this._options.httpProxy&&{httpProxy:this._options.httpProxy}),this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy}),this._options.caCerts&&{caCerts:this._options.caCerts}),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(transportOptions):dsn.protocol==="http"?new transports_1.HTTPTransport(transportOptions):new transports_1.HTTPSTransport(transportOptions)},NodeBackend2}(core_1.BaseBackend);exports.NodeBackend=NodeBackend}});var require_client=__commonJS({"../node_modules/@sentry/node/dist/client.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),hub_1=require_dist3(),utils_1=require_dist2(),backend_1=require_backend(),NodeClient=function(_super){tslib_1.__extends(NodeClient2,_super);function NodeClient2(options){var _this=this;return options._metadata=options._metadata||{},options._metadata.sdk=options._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:core_1.SDK_VERSION}],version:core_1.SDK_VERSION},_this=_super.call(this,backend_1.NodeBackend,options)||this,_this}return NodeClient2.prototype.captureException=function(exception,hint,scope){if(this._options.autoSessionTracking&&this._sessionFlusher&&scope){var requestSession=scope.getRequestSession();requestSession&&requestSession.status==="ok"&&(requestSession.status="errored")}return _super.prototype.captureException.call(this,exception,hint,scope)},NodeClient2.prototype.captureEvent=function(event,hint,scope){if(this._options.autoSessionTracking&&this._sessionFlusher&&scope){var eventType=event.type||"exception",isException=eventType==="exception"&&event.exception&&event.exception.values&&event.exception.values.length>0;if(isException){var requestSession=scope.getRequestSession();requestSession&&requestSession.status==="ok"&&(requestSession.status="errored")}}return _super.prototype.captureEvent.call(this,event,hint,scope)},NodeClient2.prototype.close=function(timeout){var _a;return(_a=this._sessionFlusher)===null||_a===void 0||_a.close(),_super.prototype.close.call(this,timeout)},NodeClient2.prototype.initSessionFlusher=function(){var _a=this._options,release=_a.release,environment=_a.environment;release?this._sessionFlusher=new hub_1.SessionFlusher(this.getTransport(),{release,environment}):utils_1.isDebugBuild()&&utils_1.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")},NodeClient2.prototype._prepareEvent=function(event,scope,hint){return event.platform=event.platform||"node",this.getOptions().serverName&&(event.server_name=this.getOptions().serverName),_super.prototype._prepareEvent.call(this,event,scope,hint)},NodeClient2.prototype._captureRequestSession=function(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():utils_1.isDebugBuild()&&utils_1.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")},NodeClient2}(core_1.BaseClient);exports.NodeClient=NodeClient}});var require_console=__commonJS({"../node_modules/@sentry/node/dist/integrations/console.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),utils_1=require_dist2(),util=require("util"),Console=function(){function Console2(){this.name=Console2.id}return Console2.prototype.setupOnce=function(){var e_1,_a;try{for(var _b=tslib_1.__values(["debug","info","warn","error","log"]),_c=_b.next();!_c.done;_c=_b.next()){var level=_c.value;utils_1.fill(console,level,createConsoleWrapper(level))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},Console2.id="Console",Console2}();exports.Console=Console;function createConsoleWrapper(level){return function(originalConsoleMethod){var sentryLevel=utils_1.severityFromString(level);return function(){core_1.getCurrentHub().getIntegration(Console)&&core_1.getCurrentHub().addBreadcrumb({category:"console",level:sentryLevel,message:util.format.apply(void 0,arguments)},{input:tslib_1.__spread(arguments),level}),originalConsoleMethod.apply(this,arguments)}}}}});var require_http2=__commonJS({"../node_modules/@sentry/node/dist/integrations/utils/http.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),utils_1=require_dist2(),url_1=require("url"),NODE_VERSION=utils_1.parseSemver(process.versions.node);function isSentryRequest(url){var _a,dsn=(_a=core_1.getCurrentHub().getClient())===null||_a===void 0?void 0:_a.getDsn();return dsn?url.includes(dsn.host):!1}exports.isSentryRequest=isSentryRequest;function extractUrl(requestOptions){var protocol=requestOptions.protocol||"",hostname=requestOptions.hostname||requestOptions.host||"",port=!requestOptions.port||requestOptions.port===80||requestOptions.port===443?"":":"+requestOptions.port,path4=requestOptions.path?requestOptions.path:"/";return protocol+"//"+hostname+port+path4}exports.extractUrl=extractUrl;function cleanSpanDescription(description,requestOptions,request){var _a,_b,_c;if(!description)return description;var _d=tslib_1.__read(description.split(" "),2),method=_d[0],requestUrl=_d[1];return requestOptions.host&&!requestOptions.protocol&&(requestOptions.protocol=(_b=(_a=request)===null||_a===void 0?void 0:_a.agent)===null||_b===void 0?void 0:_b.protocol,requestUrl=extractUrl(requestOptions)),((_c=requestUrl)===null||_c===void 0?void 0:_c.startsWith("///"))&&(requestUrl=requestUrl.slice(2)),method+" "+requestUrl}exports.cleanSpanDescription=cleanSpanDescription;function urlToOptions(url){var options={protocol:url.protocol,hostname:typeof url.hostname=="string"&&url.hostname.startsWith("[")?url.hostname.slice(1,-1):url.hostname,hash:url.hash,search:url.search,pathname:url.pathname,path:""+(url.pathname||"")+(url.search||""),href:url.href};return url.port!==""&&(options.port=Number(url.port)),(url.username||url.password)&&(options.auth=url.username+":"+url.password),options}exports.urlToOptions=urlToOptions;function normalizeRequestArgs(httpModule,requestArgs){var _a,_b,_c,_d,_e,_f,_g,_h,callback,requestOptions;return typeof requestArgs[requestArgs.length-1]=="function"&&(callback=requestArgs.pop()),typeof requestArgs[0]=="string"?requestOptions=urlToOptions(new url_1.URL(requestArgs[0])):requestArgs[0]instanceof url_1.URL?requestOptions=urlToOptions(requestArgs[0]):requestOptions=requestArgs[0],requestArgs.length===2&&(requestOptions=tslib_1.__assign(tslib_1.__assign({},requestOptions),requestArgs[1])),requestOptions.protocol===void 0&&(NODE_VERSION.major&&NODE_VERSION.major>8?requestOptions.protocol=((_b=(_a=httpModule)===null||_a===void 0?void 0:_a.globalAgent)===null||_b===void 0?void 0:_b.protocol)||((_c=requestOptions.agent)===null||_c===void 0?void 0:_c.protocol)||((_d=requestOptions._defaultAgent)===null||_d===void 0?void 0:_d.protocol):requestOptions.protocol=((_e=requestOptions.agent)===null||_e===void 0?void 0:_e.protocol)||((_f=requestOptions._defaultAgent)===null||_f===void 0?void 0:_f.protocol)||((_h=(_g=httpModule)===null||_g===void 0?void 0:_g.globalAgent)===null||_h===void 0?void 0:_h.protocol)),callback?[requestOptions,callback]:[requestOptions]}exports.normalizeRequestArgs=normalizeRequestArgs}});var require_http3=__commonJS({"../node_modules/@sentry/node/dist/integrations/http.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),utils_1=require_dist2(),http_1=require_http2(),NODE_VERSION=utils_1.parseSemver(process.versions.node),Http=function(){function Http2(options){options===void 0&&(options={}),this.name=Http2.id,this._breadcrumbs=typeof options.breadcrumbs>"u"?!0:options.breadcrumbs,this._tracing=typeof options.tracing>"u"?!1:options.tracing}return Http2.prototype.setupOnce=function(){if(!(!this._breadcrumbs&&!this._tracing)){var wrappedHandlerMaker=_createWrappedRequestMethodFactory(this._breadcrumbs,this._tracing),httpModule=require("http");if(utils_1.fill(httpModule,"get",wrappedHandlerMaker),utils_1.fill(httpModule,"request",wrappedHandlerMaker),NODE_VERSION.major&&NODE_VERSION.major>8){var httpsModule=require("https");utils_1.fill(httpsModule,"get",wrappedHandlerMaker),utils_1.fill(httpsModule,"request",wrappedHandlerMaker)}}},Http2.id="Http",Http2}();exports.Http=Http;function _createWrappedRequestMethodFactory(breadcrumbsEnabled,tracingEnabled){return function(originalRequestMethod){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var httpModule=this,requestArgs=http_1.normalizeRequestArgs(this,args),requestOptions=requestArgs[0],requestUrl=http_1.extractUrl(requestOptions);if(http_1.isSentryRequest(requestUrl))return originalRequestMethod.apply(httpModule,requestArgs);var span,parentSpan,scope=core_1.getCurrentHub().getScope();if(scope&&tracingEnabled&&(parentSpan=scope.getSpan(),parentSpan)){span=parentSpan.startChild({description:(requestOptions.method||"GET")+" "+requestUrl,op:"http.client"});var sentryTraceHeader=span.toTraceparent();utils_1.isDebugBuild()&&utils_1.logger.log("[Tracing] Adding sentry-trace header "+sentryTraceHeader+" to outgoing request to "+requestUrl+": "),requestOptions.headers=tslib_1.__assign(tslib_1.__assign({},requestOptions.headers),{"sentry-trace":sentryTraceHeader})}return originalRequestMethod.apply(httpModule,requestArgs).once("response",function(res){var req=this;breadcrumbsEnabled&&addRequestBreadcrumb("response",requestUrl,req,res),tracingEnabled&&span&&(res.statusCode&&span.setHttpStatus(res.statusCode),span.description=http_1.cleanSpanDescription(span.description,requestOptions,req),span.finish())}).once("error",function(){var req=this;breadcrumbsEnabled&&addRequestBreadcrumb("error",requestUrl,req),tracingEnabled&&span&&(span.setHttpStatus(500),span.description=http_1.cleanSpanDescription(span.description,requestOptions,req),span.finish())})}}}function addRequestBreadcrumb(event,url,req,res){!core_1.getCurrentHub().getIntegration(Http)||core_1.getCurrentHub().addBreadcrumb({category:"http",data:{method:req.method,status_code:res&&res.statusCode,url},type:"http"},{event,request:req,response:res})}}});var require_errorhandling=__commonJS({"../node_modules/@sentry/node/dist/integrations/utils/errorhandling.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require_dist5(),utils_1=require_dist2(),DEFAULT_SHUTDOWN_TIMEOUT=2e3;function logAndExitProcess(error){console.error(error&&error.stack?error.stack:error);var client=core_1.getCurrentHub().getClient();client===void 0&&(utils_1.isDebugBuild()&&utils_1.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1));var options=client.getOptions(),timeout=options&&options.shutdownTimeout&&options.shutdownTimeout>0&&options.shutdownTimeout||DEFAULT_SHUTDOWN_TIMEOUT;utils_1.forget(client.close(timeout).then(function(result){result||utils_1.isDebugBuild()&&utils_1.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}))}exports.logAndExitProcess=logAndExitProcess}});var require_onuncaughtexception=__commonJS({"../node_modules/@sentry/node/dist/integrations/onuncaughtexception.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require_dist5(),types_1=require_dist(),utils_1=require_dist2(),errorhandling_1=require_errorhandling(),OnUncaughtException=function(){function OnUncaughtException2(_options){_options===void 0&&(_options={}),this._options=_options,this.name=OnUncaughtException2.id,this.handler=this._makeErrorHandler()}return OnUncaughtException2.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},OnUncaughtException2.prototype._makeErrorHandler=function(){var _this=this,timeout=2e3,caughtFirstError=!1,caughtSecondError=!1,calledFatalError=!1,firstError;return function(error){var onFatalError=errorhandling_1.logAndExitProcess,client=core_1.getCurrentHub().getClient();if(_this._options.onFatalError?onFatalError=_this._options.onFatalError:client&&client.getOptions().onFatalError&&(onFatalError=client.getOptions().onFatalError),caughtFirstError)calledFatalError?(utils_1.isDebugBuild()&&utils_1.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),errorhandling_1.logAndExitProcess(error)):caughtSecondError||(caughtSecondError=!0,setTimeout(function(){calledFatalError||(calledFatalError=!0,onFatalError(firstError,error))},timeout));else{var hub_1=core_1.getCurrentHub();firstError=error,caughtFirstError=!0,hub_1.getIntegration(OnUncaughtException2)?hub_1.withScope(function(scope){scope.setLevel(types_1.Severity.Fatal),hub_1.captureException(error,{originalException:error,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),calledFatalError||(calledFatalError=!0,onFatalError(error))}):calledFatalError||(calledFatalError=!0,onFatalError(error))}}},OnUncaughtException2.id="OnUncaughtException",OnUncaughtException2}();exports.OnUncaughtException=OnUncaughtException}});var require_onunhandledrejection=__commonJS({"../node_modules/@sentry/node/dist/integrations/onunhandledrejection.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require_dist5(),utils_1=require_dist2(),errorhandling_1=require_errorhandling(),OnUnhandledRejection=function(){function OnUnhandledRejection2(_options){_options===void 0&&(_options={mode:"warn"}),this._options=_options,this.name=OnUnhandledRejection2.id}return OnUnhandledRejection2.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},OnUnhandledRejection2.prototype.sendUnhandledPromise=function(reason,promise){var hub=core_1.getCurrentHub();if(!hub.getIntegration(OnUnhandledRejection2)){this._handleRejection(reason);return}var context=promise.domain&&promise.domain.sentryContext||{};hub.withScope(function(scope){scope.setExtra("unhandledPromiseRejection",!0),context.user&&scope.setUser(context.user),context.tags&&scope.setTags(context.tags),context.extra&&scope.setExtras(context.extra),hub.captureException(reason,{originalException:promise,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(reason)},OnUnhandledRejection2.prototype._handleRejection=function(reason){var rejectionWarning="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?utils_1.consoleSandbox(function(){console.warn(rejectionWarning),console.error(reason&&reason.stack?reason.stack:reason)}):this._options.mode==="strict"&&(utils_1.consoleSandbox(function(){console.warn(rejectionWarning)}),errorhandling_1.logAndExitProcess(reason))},OnUnhandledRejection2.id="OnUnhandledRejection",OnUnhandledRejection2}();exports.OnUnhandledRejection=OnUnhandledRejection}});var require_linkederrors=__commonJS({"../node_modules/@sentry/node/dist/integrations/linkederrors.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),utils_1=require_dist2(),eventbuilder_1=require_eventbuilder(),DEFAULT_KEY="cause",DEFAULT_LIMIT=5,LinkedErrors=function(){function LinkedErrors2(options){options===void 0&&(options={}),this.name=LinkedErrors2.id,this._key=options.key||DEFAULT_KEY,this._limit=options.limit||DEFAULT_LIMIT}return LinkedErrors2.prototype.setupOnce=function(){core_1.addGlobalEventProcessor(function(event,hint){var self2=core_1.getCurrentHub().getIntegration(LinkedErrors2);if(self2){var handler=self2._handler&&self2._handler.bind(self2);return typeof handler=="function"?handler(event,hint):event}return event})},LinkedErrors2.prototype._handler=function(event,hint){var _this=this;return!event.exception||!event.exception.values||!hint||!utils_1.isInstanceOf(hint.originalException,Error)?utils_1.resolvedSyncPromise(event):new utils_1.SyncPromise(function(resolve){_this._walkErrorTree(hint.originalException,_this._key).then(function(linkedErrors){event&&event.exception&&event.exception.values&&(event.exception.values=tslib_1.__spread(linkedErrors,event.exception.values)),resolve(event)}).then(null,function(){resolve(event)})})},LinkedErrors2.prototype._walkErrorTree=function(error,key,stack){var _this=this;if(stack===void 0&&(stack=[]),!utils_1.isInstanceOf(error[key],Error)||stack.length+1>=this._limit)return utils_1.resolvedSyncPromise(stack);var exception=eventbuilder_1.exceptionFromError(error[key]);return new utils_1.SyncPromise(function(resolve,reject){_this._walkErrorTree(error[key],key,tslib_1.__spread([exception],stack)).then(resolve).then(null,function(){reject()})})},LinkedErrors2.id="LinkedErrors",LinkedErrors2}();exports.LinkedErrors=LinkedErrors}});var require_modules=__commonJS({"../node_modules/@sentry/node/dist/integrations/modules.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),fs_1=require("fs"),path_1=require("path"),moduleCache;function getPaths(){try{return require.cache?Object.keys(require.cache):[]}catch{return[]}}function collectModules(){var mainPaths=require.main&&require.main.paths||[],paths=getPaths(),infos={},seen={};return paths.forEach(function(path4){var dir=path4,updir=function(){var orig=dir;if(dir=path_1.dirname(orig),!(!dir||orig===dir||seen[orig])){if(mainPaths.indexOf(dir)<0)return updir();var pkgfile=path_1.join(orig,"package.json");if(seen[orig]=!0,!fs_1.existsSync(pkgfile))return updir();try{var info=JSON.parse(fs_1.readFileSync(pkgfile,"utf8"));infos[info.name]=info.version}catch{}}};updir()}),infos}var Modules=function(){function Modules2(){this.name=Modules2.id}return Modules2.prototype.setupOnce=function(addGlobalEventProcessor,getCurrentHub){var _this=this;addGlobalEventProcessor(function(event){return getCurrentHub().getIntegration(Modules2)?tslib_1.__assign(tslib_1.__assign({},event),{modules:_this._getModules()}):event})},Modules2.prototype._getModules=function(){return moduleCache||(moduleCache=collectModules()),moduleCache},Modules2.id="Modules",Modules2}();exports.Modules=Modules}});var require_lru=__commonJS({"../node_modules/lru_map/lru.js"(exports){(function(g,f){let e=typeof exports=="object"?exports:typeof g=="object"?g:{};f(e),typeof define=="function"&&define.amd&&define("lru",e)})(exports,function(exports2){let NEWER=Symbol("newer"),OLDER=Symbol("older");function LRUMap(limit,entries){typeof limit!="number"&&(entries=limit,limit=0),this.size=0,this.limit=limit,this.oldest=this.newest=void 0,this._keymap=new Map,entries&&(this.assign(entries),limit<1&&(this.limit=this.size))}exports2.LRUMap=LRUMap;function Entry(key,value){this.key=key,this.value=value,this[NEWER]=void 0,this[OLDER]=void 0}LRUMap.prototype._markEntryAsUsed=function(entry){entry!==this.newest&&(entry[NEWER]&&(entry===this.oldest&&(this.oldest=entry[NEWER]),entry[NEWER][OLDER]=entry[OLDER]),entry[OLDER]&&(entry[OLDER][NEWER]=entry[NEWER]),entry[NEWER]=void 0,entry[OLDER]=this.newest,this.newest&&(this.newest[NEWER]=entry),this.newest=entry)},LRUMap.prototype.assign=function(entries){let entry,limit=this.limit||Number.MAX_VALUE;this._keymap.clear();let it=entries[Symbol.iterator]();for(let itv=it.next();!itv.done;itv=it.next()){let e=new Entry(itv.value[0],itv.value[1]);if(this._keymap.set(e.key,e),entry?(entry[NEWER]=e,e[OLDER]=entry):this.oldest=e,entry=e,limit--==0)throw new Error("overflow")}this.newest=entry,this.size=this._keymap.size},LRUMap.prototype.get=function(key){var entry=this._keymap.get(key);if(!!entry)return this._markEntryAsUsed(entry),entry.value},LRUMap.prototype.set=function(key,value){var entry=this._keymap.get(key);return entry?(entry.value=value,this._markEntryAsUsed(entry),this):(this._keymap.set(key,entry=new Entry(key,value)),this.newest?(this.newest[NEWER]=entry,entry[OLDER]=this.newest):this.oldest=entry,this.newest=entry,++this.size,this.size>this.limit&&this.shift(),this)},LRUMap.prototype.shift=function(){var entry=this.oldest;if(entry)return this.oldest[NEWER]?(this.oldest=this.oldest[NEWER],this.oldest[OLDER]=void 0):(this.oldest=void 0,this.newest=void 0),entry[NEWER]=entry[OLDER]=void 0,this._keymap.delete(entry.key),--this.size,[entry.key,entry.value]},LRUMap.prototype.find=function(key){let e=this._keymap.get(key);return e?e.value:void 0},LRUMap.prototype.has=function(key){return this._keymap.has(key)},LRUMap.prototype.delete=function(key){var entry=this._keymap.get(key);if(!!entry)return this._keymap.delete(entry.key),entry[NEWER]&&entry[OLDER]?(entry[OLDER][NEWER]=entry[NEWER],entry[NEWER][OLDER]=entry[OLDER]):entry[NEWER]?(entry[NEWER][OLDER]=void 0,this.oldest=entry[NEWER]):entry[OLDER]?(entry[OLDER][NEWER]=void 0,this.newest=entry[OLDER]):this.oldest=this.newest=void 0,this.size--,entry.value},LRUMap.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function EntryIterator(oldestEntry){this.entry=oldestEntry}EntryIterator.prototype[Symbol.iterator]=function(){return this},EntryIterator.prototype.next=function(){let ent=this.entry;return ent?(this.entry=ent[NEWER],{done:!1,value:[ent.key,ent.value]}):{done:!0,value:void 0}};function KeyIterator(oldestEntry){this.entry=oldestEntry}KeyIterator.prototype[Symbol.iterator]=function(){return this},KeyIterator.prototype.next=function(){let ent=this.entry;return ent?(this.entry=ent[NEWER],{done:!1,value:ent.key}):{done:!0,value:void 0}};function ValueIterator(oldestEntry){this.entry=oldestEntry}ValueIterator.prototype[Symbol.iterator]=function(){return this},ValueIterator.prototype.next=function(){let ent=this.entry;return ent?(this.entry=ent[NEWER],{done:!1,value:ent.value}):{done:!0,value:void 0}},LRUMap.prototype.keys=function(){return new KeyIterator(this.oldest)},LRUMap.prototype.values=function(){return new ValueIterator(this.oldest)},LRUMap.prototype.entries=function(){return this},LRUMap.prototype[Symbol.iterator]=function(){return new EntryIterator(this.oldest)},LRUMap.prototype.forEach=function(fun,thisObj){typeof thisObj!="object"&&(thisObj=this);let entry=this.oldest;for(;entry;)fun.call(thisObj,entry.value,entry.key,this),entry=entry[NEWER]},LRUMap.prototype.toJSON=function(){for(var s=new Array(this.size),i=0,entry=this.oldest;entry;)s[i++]={key:entry.key,value:entry.value},entry=entry[NEWER];return s},LRUMap.prototype.toString=function(){for(var s="",entry=this.oldest;entry;)s+=String(entry.key)+":"+entry.value,entry=entry[NEWER],entry&&(s+=" < ");return s}})}});var require_contextlines=__commonJS({"../node_modules/@sentry/node/dist/integrations/contextlines.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),utils_1=require_dist2(),fs_1=require("fs"),lru_map_1=require_lru(),FILE_CONTENT_CACHE=new lru_map_1.LRUMap(100),DEFAULT_LINES_OF_CONTEXT=7;function readTextFileAsync(path4){return new Promise(function(resolve,reject){fs_1.readFile(path4,"utf8",function(err,data){err?reject(err):resolve(data)})})}function resetFileContentCache(){FILE_CONTENT_CACHE.clear()}exports.resetFileContentCache=resetFileContentCache;var ContextLines=function(){function ContextLines2(_options){_options===void 0&&(_options={}),this._options=_options,this.name=ContextLines2.id}return ContextLines2.prototype.setupOnce=function(addGlobalEventProcessor){var _this=this,_a,_b;if(this._options.frameContextLines===void 0){var initOptions=(_a=core_1.getCurrentHub().getClient())===null||_a===void 0?void 0:_a.getOptions();this._options.frameContextLines=(_b=initOptions)===null||_b===void 0?void 0:_b.frameContextLines}var contextLines=this._options.frameContextLines!==void 0?this._options.frameContextLines:DEFAULT_LINES_OF_CONTEXT;addGlobalEventProcessor(function(event){return _this.addSourceContext(event,contextLines)})},ContextLines2.prototype.addSourceContext=function(event,contextLines){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,function(){var _c,_d,exception,e_1_1,e_1,_e;return tslib_1.__generator(this,function(_f){switch(_f.label){case 0:if(!(contextLines>0&&((_a=event.exception)===null||_a===void 0?void 0:_a.values)))return[3,8];_f.label=1;case 1:_f.trys.push([1,6,7,8]),_c=tslib_1.__values(event.exception.values),_d=_c.next(),_f.label=2;case 2:return _d.done?[3,5]:(exception=_d.value,((_b=exception.stacktrace)===null||_b===void 0?void 0:_b.frames)?[4,this._addSourceContextToFrames(exception.stacktrace.frames,contextLines)]:[3,4]);case 3:_f.sent(),_f.label=4;case 4:return _d=_c.next(),[3,2];case 5:return[3,8];case 6:return e_1_1=_f.sent(),e_1={error:e_1_1},[3,8];case 7:try{_d&&!_d.done&&(_e=_c.return)&&_e.call(_c)}finally{if(e_1)throw e_1.error}return[7];case 8:return[2,event]}})})},ContextLines2.prototype._addSourceContextToFrames=function(frames,contextLines){return tslib_1.__awaiter(this,void 0,void 0,function(){var frames_1,frames_1_1,frame,sourceFile,lines,e_2_1,e_2,_a;return tslib_1.__generator(this,function(_b){switch(_b.label){case 0:_b.trys.push([0,5,6,7]),frames_1=tslib_1.__values(frames),frames_1_1=frames_1.next(),_b.label=1;case 1:return frames_1_1.done?[3,4]:(frame=frames_1_1.value,frame.filename?[4,_readSourceFile(frame.filename)]:[3,3]);case 2:if(sourceFile=_b.sent(),sourceFile)try{lines=sourceFile.split(`
`),utils_1.addContextToFrame(lines,frame,contextLines)}catch{}_b.label=3;case 3:return frames_1_1=frames_1.next(),[3,1];case 4:return[3,7];case 5:return e_2_1=_b.sent(),e_2={error:e_2_1},[3,7];case 6:try{frames_1_1&&!frames_1_1.done&&(_a=frames_1.return)&&_a.call(frames_1)}finally{if(e_2)throw e_2.error}return[7];case 7:return[2]}})})},ContextLines2.id="ContextLines",ContextLines2}();exports.ContextLines=ContextLines;function _readSourceFile(filename){return tslib_1.__awaiter(this,void 0,void 0,function(){var cachedFile,content,_1;return tslib_1.__generator(this,function(_a){switch(_a.label){case 0:if(cachedFile=FILE_CONTENT_CACHE.get(filename),cachedFile!==void 0)return[2,cachedFile];content=null,_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,readTextFileAsync(filename)];case 2:return content=_a.sent(),[3,4];case 3:return _1=_a.sent(),[3,4];case 4:return FILE_CONTENT_CACHE.set(filename,content),[2,content]}})})}}});var require_integrations2=__commonJS({"../node_modules/@sentry/node/dist/integrations/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var console_1=require_console();exports.Console=console_1.Console;var http_1=require_http3();exports.Http=http_1.Http;var onuncaughtexception_1=require_onuncaughtexception();exports.OnUncaughtException=onuncaughtexception_1.OnUncaughtException;var onunhandledrejection_1=require_onunhandledrejection();exports.OnUnhandledRejection=onunhandledrejection_1.OnUnhandledRejection;var linkederrors_1=require_linkederrors();exports.LinkedErrors=linkederrors_1.LinkedErrors;var modules_1=require_modules();exports.Modules=modules_1.Modules;var contextlines_1=require_contextlines();exports.ContextLines=contextlines_1.ContextLines}});var require_sdk2=__commonJS({"../node_modules/@sentry/node/dist/sdk.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),hub_1=require_dist3(),utils_1=require_dist2(),domain=require("domain"),client_1=require_client(),integrations_1=require_integrations2();exports.defaultIntegrations=[new core_1.Integrations.InboundFilters,new core_1.Integrations.FunctionToString,new integrations_1.Console,new integrations_1.Http,new integrations_1.OnUncaughtException,new integrations_1.OnUnhandledRejection,new integrations_1.LinkedErrors,new integrations_1.ContextLines];function init2(options){options===void 0&&(options={});var _a,carrier=hub_1.getMainCarrier(),autoloadedIntegrations=((_a=carrier.__SENTRY__)===null||_a===void 0?void 0:_a.integrations)||[];if(options.defaultIntegrations=options.defaultIntegrations===!1?[]:tslib_1.__spread(Array.isArray(options.defaultIntegrations)?options.defaultIntegrations:exports.defaultIntegrations,autoloadedIntegrations),options.dsn===void 0&&process.env.SENTRY_DSN&&(options.dsn=process.env.SENTRY_DSN),options.tracesSampleRate===void 0&&process.env.SENTRY_TRACES_SAMPLE_RATE){var tracesSampleRate=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(tracesSampleRate)&&(options.tracesSampleRate=tracesSampleRate)}if(options.release===void 0){var detectedRelease=getSentryRelease();detectedRelease!==void 0?options.release=detectedRelease:options.autoSessionTracking=!1}options.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(options.environment=process.env.SENTRY_ENVIRONMENT),options.autoSessionTracking===void 0&&options.dsn!==void 0&&(options.autoSessionTracking=!0),domain.active&&hub_1.setHubOnCarrier(carrier,core_1.getCurrentHub()),core_1.initAndBind(client_1.NodeClient,options),options.autoSessionTracking&&startSessionTracking()}exports.init=init2;function lastEventId(){return core_1.getCurrentHub().lastEventId()}exports.lastEventId=lastEventId;function flush(timeout){return tslib_1.__awaiter(this,void 0,void 0,function(){var client;return tslib_1.__generator(this,function(_a){return client=core_1.getCurrentHub().getClient(),client?[2,client.flush(timeout)]:(utils_1.isDebugBuild()&&utils_1.logger.warn("Cannot flush events. No client defined."),[2,Promise.resolve(!1)])})})}exports.flush=flush;function close2(timeout){return tslib_1.__awaiter(this,void 0,void 0,function(){var client;return tslib_1.__generator(this,function(_a){return client=core_1.getCurrentHub().getClient(),client?[2,client.close(timeout)]:(utils_1.isDebugBuild()&&utils_1.logger.warn("Cannot flush events and disable SDK. No client defined."),[2,Promise.resolve(!1)])})})}exports.close=close2;function isAutoSessionTrackingEnabled(client){if(client===void 0)return!1;var clientOptions=client&&client.getOptions();return clientOptions&&clientOptions.autoSessionTracking!==void 0?clientOptions.autoSessionTracking:!1}exports.isAutoSessionTrackingEnabled=isAutoSessionTrackingEnabled;function getSentryRelease(fallback){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;var global2=utils_1.getGlobalObject();return global2.SENTRY_RELEASE&&global2.SENTRY_RELEASE.id?global2.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||fallback}exports.getSentryRelease=getSentryRelease;function startSessionTracking(){var hub=core_1.getCurrentHub();hub.startSession(),process.on("beforeExit",function(){var _a,session=(_a=hub.getScope())===null||_a===void 0?void 0:_a.getSession(),terminalStates=["exited","crashed"];session&&!terminalStates.includes(session.status)&&hub.endSession()})}}});var require_utils=__commonJS({"../node_modules/@sentry/node/dist/utils.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),fs=require("fs"),path4=require("path");function deepReadDirSync(targetDir){var targetDirAbsPath=path4.resolve(targetDir);if(!fs.existsSync(targetDirAbsPath))throw new Error("Cannot read contents of "+targetDirAbsPath+". Directory does not exist.");if(!fs.statSync(targetDirAbsPath).isDirectory())throw new Error("Cannot read contents of "+targetDirAbsPath+", because it is not a directory.");var deepReadCurrentDir=function(currentDirAbsPath){return fs.readdirSync(currentDirAbsPath).reduce(function(absPaths,itemName){var itemAbsPath=path4.join(currentDirAbsPath,itemName);return fs.statSync(itemAbsPath).isDirectory()?tslib_1.__spread(absPaths,deepReadCurrentDir(itemAbsPath)):tslib_1.__spread(absPaths,[itemAbsPath])},[])};return deepReadCurrentDir(targetDirAbsPath).map(function(absPath){return path4.relative(targetDirAbsPath,absPath)})}exports.deepReadDirSync=deepReadDirSync}});var require_cookie=__commonJS({"../node_modules/cookie/index.js"(exports){"use strict";exports.parse=parse;exports.serialize=serialize;var decode=decodeURIComponent,encode=encodeURIComponent,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function parse(str,options){if(typeof str!="string")throw new TypeError("argument str must be a string");for(var obj={},opt=options||{},pairs=str.split(";"),dec=opt.decode||decode,i=0;i<pairs.length;i++){var pair=pairs[i],index=pair.indexOf("=");if(!(index<0)){var key=pair.substring(0,index).trim();if(obj[key]==null){var val=pair.substring(index+1,pair.length).trim();val[0]==='"'&&(val=val.slice(1,-1)),obj[key]=tryDecode(val,dec)}}}return obj}function serialize(name,val,options){var opt=options||{},enc=opt.encode||encode;if(typeof enc!="function")throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test(name))throw new TypeError("argument name is invalid");var value=enc(val);if(value&&!fieldContentRegExp.test(value))throw new TypeError("argument val is invalid");var str=name+"="+value;if(opt.maxAge!=null){var maxAge=opt.maxAge-0;if(isNaN(maxAge)||!isFinite(maxAge))throw new TypeError("option maxAge is invalid");str+="; Max-Age="+Math.floor(maxAge)}if(opt.domain){if(!fieldContentRegExp.test(opt.domain))throw new TypeError("option domain is invalid");str+="; Domain="+opt.domain}if(opt.path){if(!fieldContentRegExp.test(opt.path))throw new TypeError("option path is invalid");str+="; Path="+opt.path}if(opt.expires){if(typeof opt.expires.toUTCString!="function")throw new TypeError("option expires is invalid");str+="; Expires="+opt.expires.toUTCString()}if(opt.httpOnly&&(str+="; HttpOnly"),opt.secure&&(str+="; Secure"),opt.sameSite){var sameSite=typeof opt.sameSite=="string"?opt.sameSite.toLowerCase():opt.sameSite;switch(sameSite){case!0:str+="; SameSite=Strict";break;case"lax":str+="; SameSite=Lax";break;case"strict":str+="; SameSite=Strict";break;case"none":str+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return str}function tryDecode(str,decode2){try{return decode2(str)}catch{return str}}}});var require_handlers=__commonJS({"../node_modules/@sentry/node/dist/handlers.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),core_1=require_dist5(),utils_1=require_dist2(),cookie=require_cookie(),domain=require("domain"),os=require("os"),url=require("url"),sdk_1=require_sdk2();function tracingHandler(){return function(req,res,next){var traceparentData;req.headers&&utils_1.isString(req.headers["sentry-trace"])&&(traceparentData=utils_1.extractTraceparentData(req.headers["sentry-trace"]));var transaction=core_1.startTransaction(tslib_1.__assign({name:extractExpressTransactionName(req,{path:!0,method:!0}),op:"http.server"},traceparentData),{request:extractRequestData(req)});core_1.getCurrentHub().configureScope(function(scope){scope.setSpan(transaction)}),res.__sentry_transaction=transaction,res.once("finish",function(){setImmediate(function(){addExpressReqToTransaction(transaction,req),transaction.setHttpStatus(res.statusCode),transaction.finish()})}),next()}}exports.tracingHandler=tracingHandler;function addExpressReqToTransaction(transaction,req){!transaction||(transaction.name=extractExpressTransactionName(req,{path:!0,method:!0}),transaction.setData("url",req.originalUrl),transaction.setData("baseUrl",req.baseUrl),transaction.setData("query",req.query))}function extractExpressTransactionName(req,options){options===void 0&&(options={});var _a,method=(_a=req.method)===null||_a===void 0?void 0:_a.toUpperCase(),path4="";req.route?path4=""+(req.baseUrl||"")+req.route.path:(req.originalUrl||req.url)&&(path4=utils_1.stripUrlQueryAndFragment(req.originalUrl||req.url||""));var info="";return options.method&&method&&(info+=method),options.method&&options.path&&(info+=" "),options.path&&path4&&(info+=path4),info}function extractTransaction(req,type){var _a;switch(type){case"path":return extractExpressTransactionName(req,{path:!0});case"handler":return((_a=req.route)===null||_a===void 0?void 0:_a.stack[0].name)||"<anonymous>";case"methodPath":default:return extractExpressTransactionName(req,{path:!0,method:!0})}}var DEFAULT_USER_KEYS=["id","username","email"];function extractUserData(user,keys){var extractedUser={},attributes=Array.isArray(keys)?keys:DEFAULT_USER_KEYS;return attributes.forEach(function(key){user&&key in user&&(extractedUser[key]=user[key])}),extractedUser}var DEFAULT_REQUEST_KEYS=["cookies","data","headers","method","query_string","url"];function extractRequestData(req,keys){keys===void 0&&(keys=DEFAULT_REQUEST_KEYS);var requestData={},headers=req.headers||req.header||{},method=req.method,host=req.hostname||req.host||headers.host||"<no host>",protocol=req.protocol==="https"||req.secure||(req.socket||{}).encrypted?"https":"http",originalUrl=req.originalUrl||req.url||"",absoluteUrl=protocol+"://"+host+originalUrl;return keys.forEach(function(key){switch(key){case"headers":requestData.headers=headers;break;case"method":requestData.method=method;break;case"url":requestData.url=absoluteUrl;break;case"cookies":requestData.cookies=req.cookies||cookie.parse(headers.cookie||"");break;case"query_string":requestData.query_string=req.query||url.parse(originalUrl||"",!1).query;break;case"data":if(method==="GET"||method==="HEAD")break;req.body!==void 0&&(requestData.data=utils_1.isString(req.body)?req.body:JSON.stringify(utils_1.normalize(req.body)));break;default:({}).hasOwnProperty.call(req,key)&&(requestData[key]=req[key])}}),requestData}exports.extractRequestData=extractRequestData;function parseRequest(event,req,options){if(options=tslib_1.__assign({ip:!1,request:!0,serverName:!0,transaction:!0,user:!0,version:!0},options),options.version&&(event.contexts=tslib_1.__assign(tslib_1.__assign({},event.contexts),{runtime:{name:"node",version:global.process.version}})),options.request){var extractedRequestData=Array.isArray(options.request)?extractRequestData(req,options.request):extractRequestData(req);event.request=tslib_1.__assign(tslib_1.__assign({},event.request),extractedRequestData)}if(options.serverName&&!event.server_name&&(event.server_name=global.process.env.SENTRY_NAME||os.hostname()),options.user){var extractedUser=req.user&&utils_1.isPlainObject(req.user)?extractUserData(req.user,options.user):{};Object.keys(extractedUser)&&(event.user=tslib_1.__assign(tslib_1.__assign({},event.user),extractedUser))}if(options.ip){var ip=req.ip||req.connection&&req.connection.remoteAddress;ip&&(event.user=tslib_1.__assign(tslib_1.__assign({},event.user),{ip_address:ip}))}return options.transaction&&!event.transaction&&(event.transaction=extractTransaction(req,options.transaction)),event}exports.parseRequest=parseRequest;function requestHandler(options){var currentHub=core_1.getCurrentHub(),client=currentHub.getClient();if(client&&sdk_1.isAutoSessionTrackingEnabled(client)){client.initSessionFlusher();var scope=currentHub.getScope();scope&&scope.getSession()&&scope.setSession()}return function(req,res,next){if(options&&options.flushTimeout&&options.flushTimeout>0){var _end_1=res.end;res.end=function(chunk,encoding,cb){var _this=this;sdk_1.flush(options.flushTimeout).then(function(){_end_1.call(_this,chunk,encoding,cb)}).then(null,function(e){utils_1.isDebugBuild()&&utils_1.logger.error(e),_end_1.call(_this,chunk,encoding,cb)})}}var local=domain.create();local.add(req),local.add(res),local.on("error",next),local.run(function(){var currentHub2=core_1.getCurrentHub();currentHub2.configureScope(function(scope2){scope2.addEventProcessor(function(event){return parseRequest(event,req,options)});var client2=currentHub2.getClient();if(sdk_1.isAutoSessionTrackingEnabled(client2)){var scope_1=currentHub2.getScope();scope_1&&scope_1.setRequestSession({status:"ok"})}}),res.once("finish",function(){var client2=currentHub2.getClient();sdk_1.isAutoSessionTrackingEnabled(client2)&&setImmediate(function(){client2&&client2._captureRequestSession&&client2._captureRequestSession()})}),next()})}}exports.requestHandler=requestHandler;function getStatusCodeFromResponse(error){var statusCode=error.status||error.statusCode||error.status_code||error.output&&error.output.statusCode;return statusCode?parseInt(statusCode,10):500}function defaultShouldHandleError(error){var status=getStatusCodeFromResponse(error);return status>=500}function errorHandler(options){return function(error,_req,res,next){var shouldHandleError=options&&options.shouldHandleError||defaultShouldHandleError;if(shouldHandleError(error)){core_1.withScope(function(_scope){var transaction=res.__sentry_transaction;transaction&&_scope.getSpan()===void 0&&_scope.setSpan(transaction);var client=core_1.getCurrentHub().getClient();if(client&&sdk_1.isAutoSessionTrackingEnabled(client)){var isSessionAggregatesMode=client._sessionFlusher!==void 0;if(isSessionAggregatesMode){var requestSession=_scope.getRequestSession();requestSession&&requestSession.status!==void 0&&(requestSession.status="crashed")}}var eventId=core_1.captureException(error);res.sentry=eventId,next(error)});return}next(error)}}exports.errorHandler=errorHandler}});var require_dist7=__commonJS({"../node_modules/@sentry/node/dist/index.js"(exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require_tslib(),types_1=require_dist();exports.Severity=types_1.Severity;var core_1=require_dist5();exports.addGlobalEventProcessor=core_1.addGlobalEventProcessor;exports.addBreadcrumb=core_1.addBreadcrumb;exports.captureException=core_1.captureException;exports.captureEvent=core_1.captureEvent;exports.captureMessage=core_1.captureMessage;exports.configureScope=core_1.configureScope;exports.getHubFromCarrier=core_1.getHubFromCarrier;exports.getCurrentHub=core_1.getCurrentHub;exports.Hub=core_1.Hub;exports.makeMain=core_1.makeMain;exports.Scope=core_1.Scope;exports.Session=core_1.Session;exports.startTransaction=core_1.startTransaction;exports.SDK_VERSION=core_1.SDK_VERSION;exports.setContext=core_1.setContext;exports.setExtra=core_1.setExtra;exports.setExtras=core_1.setExtras;exports.setTag=core_1.setTag;exports.setTags=core_1.setTags;exports.setUser=core_1.setUser;exports.withScope=core_1.withScope;var backend_1=require_backend();exports.NodeBackend=backend_1.NodeBackend;var client_1=require_client();exports.NodeClient=client_1.NodeClient;var sdk_1=require_sdk2();exports.defaultIntegrations=sdk_1.defaultIntegrations;exports.init=sdk_1.init;exports.lastEventId=sdk_1.lastEventId;exports.flush=sdk_1.flush;exports.close=sdk_1.close;exports.getSentryRelease=sdk_1.getSentryRelease;var utils_1=require_utils();exports.deepReadDirSync=utils_1.deepReadDirSync;var version_1=require_version2();exports.SDK_NAME=version_1.SDK_NAME;var core_2=require_dist5(),hub_1=require_dist3(),domain=require("domain"),Handlers=require_handlers();exports.Handlers=Handlers;var NodeIntegrations=require_integrations2(),Transports=require_transports();exports.Transports=Transports;var INTEGRATIONS=tslib_1.__assign(tslib_1.__assign({},core_2.Integrations),NodeIntegrations);exports.Integrations=INTEGRATIONS;var carrier=hub_1.getMainCarrier();carrier.__SENTRY__&&(carrier.__SENTRY__.extensions=carrier.__SENTRY__.extensions||{},carrier.__SENTRY__.extensions.domain=carrier.__SENTRY__.extensions.domain||domain)}});var require_constants=__commonJS({"../node_modules/semver/internal/constants.js"(exports,module2){var SEMVER_SPEC_VERSION="2.0.0",MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16;module2.exports={SEMVER_SPEC_VERSION,MAX_LENGTH:256,MAX_SAFE_INTEGER,MAX_SAFE_COMPONENT_LENGTH}}});var require_debug=__commonJS({"../node_modules/semver/internal/debug.js"(exports,module2){var debug=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...args)=>console.error("SEMVER",...args):()=>{};module2.exports=debug}});var require_re=__commonJS({"../node_modules/semver/internal/re.js"(exports,module2){var{MAX_SAFE_COMPONENT_LENGTH}=require_constants(),debug=require_debug();exports=module2.exports={};var re=exports.re=[],src=exports.src=[],t=exports.t={},R=0,createToken=(name,value,isGlobal)=>{let index=R++;debug(name,index,value),t[name]=index,src[index]=value,re[index]=new RegExp(value,isGlobal?"g":void 0)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${src[t.NUMERICIDENTIFIER]})\\.(${src[t.NUMERICIDENTIFIER]})\\.(${src[t.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.(${src[t.NUMERICIDENTIFIERLOOSE]})\\.(${src[t.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${src[t.NUMERICIDENTIFIER]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${src[t.NUMERICIDENTIFIERLOOSE]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${src[t.BUILDIDENTIFIER]}(?:\\.${src[t.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);createToken("FULL",`^${src[t.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);createToken("LOOSE",`^${src[t.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${src[t.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${src[t.XRANGEIDENTIFIER]})(?:\\.(${src[t.XRANGEIDENTIFIER]})(?:\\.(${src[t.XRANGEIDENTIFIER]})(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?)?)?`);createToken("XRANGE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`(^|[^\\d])(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}})(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:$|[^\\d])`);createToken("COERCERTL",src[t.COERCE],!0);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${src[t.LONETILDE]}\\s+`,!0);exports.tildeTrimReplace="$1~";createToken("TILDE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${src[t.LONECARET]}\\s+`,!0);exports.caretTrimReplace="$1^";createToken("CARET",`^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`,!0);exports.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${src[t.XRANGEPLAIN]})\\s+-\\s+(${src[t.XRANGEPLAIN]})\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${src[t.XRANGEPLAINLOOSE]})\\s+-\\s+(${src[t.XRANGEPLAINLOOSE]})\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}});var require_parse_options=__commonJS({"../node_modules/semver/internal/parse-options.js"(exports,module2){var opts=["includePrerelease","loose","rtl"],parseOptions=options=>options?typeof options!="object"?{loose:!0}:opts.filter(k=>options[k]).reduce((o,k)=>(o[k]=!0,o),{}):{};module2.exports=parseOptions}});var require_identifiers=__commonJS({"../node_modules/semver/internal/identifiers.js"(exports,module2){var numeric=/^[0-9]+$/,compareIdentifiers=(a,b)=>{let anum=numeric.test(a),bnum=numeric.test(b);return anum&&bnum&&(a=+a,b=+b),a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1},rcompareIdentifiers=(a,b)=>compareIdentifiers(b,a);module2.exports={compareIdentifiers,rcompareIdentifiers}}});var require_semver=__commonJS({"../node_modules/semver/classes/semver.js"(exports,module2){var debug=require_debug(),{MAX_LENGTH,MAX_SAFE_INTEGER}=require_constants(),{re,t}=require_re(),parseOptions=require_parse_options(),{compareIdentifiers}=require_identifiers(),SemVer=class{constructor(version,options){if(options=parseOptions(options),version instanceof SemVer){if(version.loose===!!options.loose&&version.includePrerelease===!!options.includePrerelease)return version;version=version.version}else if(typeof version!="string")throw new TypeError(`Invalid Version: ${version}`);if(version.length>MAX_LENGTH)throw new TypeError(`version is longer than ${MAX_LENGTH} characters`);debug("SemVer",version,options),this.options=options,this.loose=!!options.loose,this.includePrerelease=!!options.includePrerelease;let m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m)throw new TypeError(`Invalid Version: ${version}`);if(this.raw=version,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(id=>{if(/^[0-9]+$/.test(id)){let num=+id;if(num>=0&&num<MAX_SAFE_INTEGER)return num}return id}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(other){if(debug("SemVer.compare",this.version,this.options,other),!(other instanceof SemVer)){if(typeof other=="string"&&other===this.version)return 0;other=new SemVer(other,this.options)}return other.version===this.version?0:this.compareMain(other)||this.comparePre(other)}compareMain(other){return other instanceof SemVer||(other=new SemVer(other,this.options)),compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)}comparePre(other){if(other instanceof SemVer||(other=new SemVer(other,this.options)),this.prerelease.length&&!other.prerelease.length)return-1;if(!this.prerelease.length&&other.prerelease.length)return 1;if(!this.prerelease.length&&!other.prerelease.length)return 0;let i=0;do{let a=this.prerelease[i],b=other.prerelease[i];if(debug("prerelease compare",i,a,b),a===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(a===void 0)return-1;if(a===b)continue;return compareIdentifiers(a,b)}while(++i)}compareBuild(other){other instanceof SemVer||(other=new SemVer(other,this.options));let i=0;do{let a=this.build[i],b=other.build[i];if(debug("prerelease compare",i,a,b),a===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(a===void 0)return-1;if(a===b)continue;return compareIdentifiers(a,b)}while(++i)}inc(release,identifier){switch(release){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0,this.inc("patch",identifier),this.inc("pre",identifier);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",identifier),this.inc("pre",identifier);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}identifier&&(compareIdentifiers(this.prerelease[0],identifier)===0?isNaN(this.prerelease[1])&&(this.prerelease=[identifier,0]):this.prerelease=[identifier,0]);break;default:throw new Error(`invalid increment argument: ${release}`)}return this.format(),this.raw=this.version,this}};module2.exports=SemVer}});var require_parse=__commonJS({"../node_modules/semver/functions/parse.js"(exports,module2){var{MAX_LENGTH}=require_constants(),{re,t}=require_re(),SemVer=require_semver(),parseOptions=require_parse_options(),parse=(version,options)=>{if(options=parseOptions(options),version instanceof SemVer)return version;if(typeof version!="string"||version.length>MAX_LENGTH||!(options.loose?re[t.LOOSE]:re[t.FULL]).test(version))return null;try{return new SemVer(version,options)}catch{return null}};module2.exports=parse}});var require_valid=__commonJS({"../node_modules/semver/functions/valid.js"(exports,module2){var parse=require_parse(),valid=(version,options)=>{let v=parse(version,options);return v?v.version:null};module2.exports=valid}});var require_clean=__commonJS({"../node_modules/semver/functions/clean.js"(exports,module2){var parse=require_parse(),clean=(version,options)=>{let s=parse(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null};module2.exports=clean}});var require_inc=__commonJS({"../node_modules/semver/functions/inc.js"(exports,module2){var SemVer=require_semver(),inc=(version,release,options,identifier)=>{typeof options=="string"&&(identifier=options,options=void 0);try{return new SemVer(version instanceof SemVer?version.version:version,options).inc(release,identifier).version}catch{return null}};module2.exports=inc}});var require_compare=__commonJS({"../node_modules/semver/functions/compare.js"(exports,module2){var SemVer=require_semver(),compare=(a,b,loose)=>new SemVer(a,loose).compare(new SemVer(b,loose));module2.exports=compare}});var require_eq=__commonJS({"../node_modules/semver/functions/eq.js"(exports,module2){var compare=require_compare(),eq=(a,b,loose)=>compare(a,b,loose)===0;module2.exports=eq}});var require_diff=__commonJS({"../node_modules/semver/functions/diff.js"(exports,module2){var parse=require_parse(),eq=require_eq(),diff=(version1,version2)=>{if(eq(version1,version2))return null;{let v1=parse(version1),v2=parse(version2),hasPre=v1.prerelease.length||v2.prerelease.length,prefix=hasPre?"pre":"",defaultResult=hasPre?"prerelease":"";for(let key in v1)if((key==="major"||key==="minor"||key==="patch")&&v1[key]!==v2[key])return prefix+key;return defaultResult}};module2.exports=diff}});var require_major=__commonJS({"../node_modules/semver/functions/major.js"(exports,module2){var SemVer=require_semver(),major=(a,loose)=>new SemVer(a,loose).major;module2.exports=major}});var require_minor=__commonJS({"../node_modules/semver/functions/minor.js"(exports,module2){var SemVer=require_semver(),minor=(a,loose)=>new SemVer(a,loose).minor;module2.exports=minor}});var require_patch=__commonJS({"../node_modules/semver/functions/patch.js"(exports,module2){var SemVer=require_semver(),patch=(a,loose)=>new SemVer(a,loose).patch;module2.exports=patch}});var require_prerelease=__commonJS({"../node_modules/semver/functions/prerelease.js"(exports,module2){var parse=require_parse(),prerelease=(version,options)=>{let parsed=parse(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null};module2.exports=prerelease}});var require_rcompare=__commonJS({"../node_modules/semver/functions/rcompare.js"(exports,module2){var compare=require_compare(),rcompare=(a,b,loose)=>compare(b,a,loose);module2.exports=rcompare}});var require_compare_loose=__commonJS({"../node_modules/semver/functions/compare-loose.js"(exports,module2){var compare=require_compare(),compareLoose=(a,b)=>compare(a,b,!0);module2.exports=compareLoose}});var require_compare_build=__commonJS({"../node_modules/semver/functions/compare-build.js"(exports,module2){var SemVer=require_semver(),compareBuild=(a,b,loose)=>{let versionA=new SemVer(a,loose),versionB=new SemVer(b,loose);return versionA.compare(versionB)||versionA.compareBuild(versionB)};module2.exports=compareBuild}});var require_sort=__commonJS({"../node_modules/semver/functions/sort.js"(exports,module2){var compareBuild=require_compare_build(),sort=(list,loose)=>list.sort((a,b)=>compareBuild(a,b,loose));module2.exports=sort}});var require_rsort=__commonJS({"../node_modules/semver/functions/rsort.js"(exports,module2){var compareBuild=require_compare_build(),rsort=(list,loose)=>list.sort((a,b)=>compareBuild(b,a,loose));module2.exports=rsort}});var require_gt=__commonJS({"../node_modules/semver/functions/gt.js"(exports,module2){var compare=require_compare(),gt=(a,b,loose)=>compare(a,b,loose)>0;module2.exports=gt}});var require_lt=__commonJS({"../node_modules/semver/functions/lt.js"(exports,module2){var compare=require_compare(),lt=(a,b,loose)=>compare(a,b,loose)<0;module2.exports=lt}});var require_neq=__commonJS({"../node_modules/semver/functions/neq.js"(exports,module2){var compare=require_compare(),neq=(a,b,loose)=>compare(a,b,loose)!==0;module2.exports=neq}});var require_gte=__commonJS({"../node_modules/semver/functions/gte.js"(exports,module2){var compare=require_compare(),gte=(a,b,loose)=>compare(a,b,loose)>=0;module2.exports=gte}});var require_lte=__commonJS({"../node_modules/semver/functions/lte.js"(exports,module2){var compare=require_compare(),lte=(a,b,loose)=>compare(a,b,loose)<=0;module2.exports=lte}});var require_cmp=__commonJS({"../node_modules/semver/functions/cmp.js"(exports,module2){var eq=require_eq(),neq=require_neq(),gt=require_gt(),gte=require_gte(),lt=require_lt(),lte=require_lte(),cmp=(a,op,b,loose)=>{switch(op){case"===":return typeof a=="object"&&(a=a.version),typeof b=="object"&&(b=b.version),a===b;case"!==":return typeof a=="object"&&(a=a.version),typeof b=="object"&&(b=b.version),a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError(`Invalid operator: ${op}`)}};module2.exports=cmp}});var require_coerce=__commonJS({"../node_modules/semver/functions/coerce.js"(exports,module2){var SemVer=require_semver(),parse=require_parse(),{re,t}=require_re(),coerce=(version,options)=>{if(version instanceof SemVer)return version;if(typeof version=="number"&&(version=String(version)),typeof version!="string")return null;options=options||{};let match=null;if(!options.rtl)match=version.match(re[t.COERCE]);else{let next;for(;(next=re[t.COERCERTL].exec(version))&&(!match||match.index+match[0].length!==version.length);)(!match||next.index+next[0].length!==match.index+match[0].length)&&(match=next),re[t.COERCERTL].lastIndex=next.index+next[1].length+next[2].length;re[t.COERCERTL].lastIndex=-1}return match===null?null:parse(`${match[2]}.${match[3]||"0"}.${match[4]||"0"}`,options)};module2.exports=coerce}});var require_iterator=__commonJS({"../node_modules/semver/node_modules/yallist/iterator.js"(exports,module2){"use strict";module2.exports=function(Yallist){Yallist.prototype[Symbol.iterator]=function*(){for(let walker=this.head;walker;walker=walker.next)yield walker.value}}}});var require_yallist=__commonJS({"../node_modules/semver/node_modules/yallist/yallist.js"(exports,module2){"use strict";module2.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(list){var self2=this;if(self2 instanceof Yallist||(self2=new Yallist),self2.tail=null,self2.head=null,self2.length=0,list&&typeof list.forEach=="function")list.forEach(function(item){self2.push(item)});else if(arguments.length>0)for(var i=0,l=arguments.length;i<l;i++)self2.push(arguments[i]);return self2}Yallist.prototype.removeNode=function(node){if(node.list!==this)throw new Error("removing node which does not belong to this list");var next=node.next,prev=node.prev;return next&&(next.prev=prev),prev&&(prev.next=next),node===this.head&&(this.head=next),node===this.tail&&(this.tail=prev),node.list.length--,node.next=null,node.prev=null,node.list=null,next};Yallist.prototype.unshiftNode=function(node){if(node!==this.head){node.list&&node.list.removeNode(node);var head=this.head;node.list=this,node.next=head,head&&(head.prev=node),this.head=node,this.tail||(this.tail=node),this.length++}};Yallist.prototype.pushNode=function(node){if(node!==this.tail){node.list&&node.list.removeNode(node);var tail=this.tail;node.list=this,node.prev=tail,tail&&(tail.next=node),this.tail=node,this.head||(this.head=node),this.length++}};Yallist.prototype.push=function(){for(var i=0,l=arguments.length;i<l;i++)push(this,arguments[i]);return this.length};Yallist.prototype.unshift=function(){for(var i=0,l=arguments.length;i<l;i++)unshift(this,arguments[i]);return this.length};Yallist.prototype.pop=function(){if(!!this.tail){var res=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,res}};Yallist.prototype.shift=function(){if(!!this.head){var res=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,res}};Yallist.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var walker=this.head,i=0;walker!==null;i++)fn.call(thisp,walker.value,i,this),walker=walker.next};Yallist.prototype.forEachReverse=function(fn,thisp){thisp=thisp||this;for(var walker=this.tail,i=this.length-1;walker!==null;i--)fn.call(thisp,walker.value,i,this),walker=walker.prev};Yallist.prototype.get=function(n){for(var i=0,walker=this.head;walker!==null&&i<n;i++)walker=walker.next;if(i===n&&walker!==null)return walker.value};Yallist.prototype.getReverse=function(n){for(var i=0,walker=this.tail;walker!==null&&i<n;i++)walker=walker.prev;if(i===n&&walker!==null)return walker.value};Yallist.prototype.map=function(fn,thisp){thisp=thisp||this;for(var res=new Yallist,walker=this.head;walker!==null;)res.push(fn.call(thisp,walker.value,this)),walker=walker.next;return res};Yallist.prototype.mapReverse=function(fn,thisp){thisp=thisp||this;for(var res=new Yallist,walker=this.tail;walker!==null;)res.push(fn.call(thisp,walker.value,this)),walker=walker.prev;return res};Yallist.prototype.reduce=function(fn,initial){var acc,walker=this.head;if(arguments.length>1)acc=initial;else if(this.head)walker=this.head.next,acc=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;walker!==null;i++)acc=fn(acc,walker.value,i),walker=walker.next;return acc};Yallist.prototype.reduceReverse=function(fn,initial){var acc,walker=this.tail;if(arguments.length>1)acc=initial;else if(this.tail)walker=this.tail.prev,acc=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;walker!==null;i--)acc=fn(acc,walker.value,i),walker=walker.prev;return acc};Yallist.prototype.toArray=function(){for(var arr=new Array(this.length),i=0,walker=this.head;walker!==null;i++)arr[i]=walker.value,walker=walker.next;return arr};Yallist.prototype.toArrayReverse=function(){for(var arr=new Array(this.length),i=0,walker=this.tail;walker!==null;i++)arr[i]=walker.value,walker=walker.prev;return arr};Yallist.prototype.slice=function(from,to){to=to||this.length,to<0&&(to+=this.length),from=from||0,from<0&&(from+=this.length);var ret=new Yallist;if(to<from||to<0)return ret;from<0&&(from=0),to>this.length&&(to=this.length);for(var i=0,walker=this.head;walker!==null&&i<from;i++)walker=walker.next;for(;walker!==null&&i<to;i++,walker=walker.next)ret.push(walker.value);return ret};Yallist.prototype.sliceReverse=function(from,to){to=to||this.length,to<0&&(to+=this.length),from=from||0,from<0&&(from+=this.length);var ret=new Yallist;if(to<from||to<0)return ret;from<0&&(from=0),to>this.length&&(to=this.length);for(var i=this.length,walker=this.tail;walker!==null&&i>to;i--)walker=walker.prev;for(;walker!==null&&i>from;i--,walker=walker.prev)ret.push(walker.value);return ret};Yallist.prototype.splice=function(start,deleteCount,...nodes){start>this.length&&(start=this.length-1),start<0&&(start=this.length+start);for(var i=0,walker=this.head;walker!==null&&i<start;i++)walker=walker.next;for(var ret=[],i=0;walker&&i<deleteCount;i++)ret.push(walker.value),walker=this.removeNode(walker);walker===null&&(walker=this.tail),walker!==this.head&&walker!==this.tail&&(walker=walker.prev);for(var i=0;i<nodes.length;i++)walker=insert(this,walker,nodes[i]);return ret};Yallist.prototype.reverse=function(){for(var head=this.head,tail=this.tail,walker=head;walker!==null;walker=walker.prev){var p=walker.prev;walker.prev=walker.next,walker.next=p}return this.head=tail,this.tail=head,this};function insert(self2,node,value){var inserted=node===self2.head?new Node(value,null,node,self2):new Node(value,node,node.next,self2);return inserted.next===null&&(self2.tail=inserted),inserted.prev===null&&(self2.head=inserted),self2.length++,inserted}function push(self2,item){self2.tail=new Node(item,self2.tail,null,self2),self2.head||(self2.head=self2.tail),self2.length++}function unshift(self2,item){self2.head=new Node(item,null,self2.head,self2),self2.tail||(self2.tail=self2.head),self2.length++}function Node(value,prev,next,list){if(!(this instanceof Node))return new Node(value,prev,next,list);this.list=list,this.value=value,prev?(prev.next=this,this.prev=prev):this.prev=null,next?(next.prev=this,this.next=next):this.next=null}try{require_iterator()(Yallist)}catch{}}});var require_lru_cache=__commonJS({"../node_modules/semver/node_modules/lru-cache/index.js"(exports,module2){"use strict";var Yallist=require_yallist(),MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1,LRUCache=class{constructor(options){if(typeof options=="number"&&(options={max:options}),options||(options={}),options.max&&(typeof options.max!="number"||options.max<0))throw new TypeError("max must be a non-negative number");let max=this[MAX]=options.max||1/0,lc=options.length||naiveLength;if(this[LENGTH_CALCULATOR]=typeof lc!="function"?naiveLength:lc,this[ALLOW_STALE]=options.stale||!1,options.maxAge&&typeof options.maxAge!="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=options.maxAge||0,this[DISPOSE]=options.dispose,this[NO_DISPOSE_ON_SET]=options.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=options.updateAgeOnGet||!1,this.reset()}set max(mL){if(typeof mL!="number"||mL<0)throw new TypeError("max must be a non-negative number");this[MAX]=mL||1/0,trim(this)}get max(){return this[MAX]}set allowStale(allowStale){this[ALLOW_STALE]=!!allowStale}get allowStale(){return this[ALLOW_STALE]}set maxAge(mA){if(typeof mA!="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=mA,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(lC){typeof lC!="function"&&(lC=naiveLength),lC!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=lC,this[LENGTH]=0,this[LRU_LIST].forEach(hit=>{hit.length=this[LENGTH_CALCULATOR](hit.value,hit.key),this[LENGTH]+=hit.length})),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].tail;walker!==null;){let prev=walker.prev;forEachStep(this,fn,walker,thisp),walker=prev}}forEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].head;walker!==null;){let next=walker.next;forEachStep(this,fn,walker,thisp),walker=next}}keys(){return this[LRU_LIST].toArray().map(k=>k.key)}values(){return this[LRU_LIST].toArray().map(k=>k.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(hit=>this[DISPOSE](hit.key,hit.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map(hit=>isStale(this,hit)?!1:{k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)}).toArray().filter(h=>h)}dumpLru(){return this[LRU_LIST]}set(key,value,maxAge){if(maxAge=maxAge||this[MAX_AGE],maxAge&&typeof maxAge!="number")throw new TypeError("maxAge must be a number");let now=maxAge?Date.now():0,len=this[LENGTH_CALCULATOR](value,key);if(this[CACHE].has(key)){if(len>this[MAX])return del(this,this[CACHE].get(key)),!1;let item=this[CACHE].get(key).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](key,item.value)),item.now=now,item.maxAge=maxAge,item.value=value,this[LENGTH]+=len-item.length,item.length=len,this.get(key),trim(this),!0}let hit=new Entry(key,value,len,now,maxAge);return hit.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](key,value),!1):(this[LENGTH]+=hit.length,this[LRU_LIST].unshift(hit),this[CACHE].set(key,this[LRU_LIST].head),trim(this),!0)}has(key){if(!this[CACHE].has(key))return!1;let hit=this[CACHE].get(key).value;return!isStale(this,hit)}get(key){return get(this,key,!0)}peek(key){return get(this,key,!1)}pop(){let node=this[LRU_LIST].tail;return node?(del(this,node),node.value):null}del(key){del(this,this[CACHE].get(key))}load(arr){this.reset();let now=Date.now();for(let l=arr.length-1;l>=0;l--){let hit=arr[l],expiresAt=hit.e||0;if(expiresAt===0)this.set(hit.k,hit.v);else{let maxAge=expiresAt-now;maxAge>0&&this.set(hit.k,hit.v,maxAge)}}}prune(){this[CACHE].forEach((value,key)=>get(this,key,!1))}},get=(self2,key,doUse)=>{let node=self2[CACHE].get(key);if(node){let hit=node.value;if(isStale(self2,hit)){if(del(self2,node),!self2[ALLOW_STALE])return}else doUse&&(self2[UPDATE_AGE_ON_GET]&&(node.value.now=Date.now()),self2[LRU_LIST].unshiftNode(node));return hit.value}},isStale=(self2,hit)=>{if(!hit||!hit.maxAge&&!self2[MAX_AGE])return!1;let diff=Date.now()-hit.now;return hit.maxAge?diff>hit.maxAge:self2[MAX_AGE]&&diff>self2[MAX_AGE]},trim=self2=>{if(self2[LENGTH]>self2[MAX])for(let walker=self2[LRU_LIST].tail;self2[LENGTH]>self2[MAX]&&walker!==null;){let prev=walker.prev;del(self2,walker),walker=prev}},del=(self2,node)=>{if(node){let hit=node.value;self2[DISPOSE]&&self2[DISPOSE](hit.key,hit.value),self2[LENGTH]-=hit.length,self2[CACHE].delete(hit.key),self2[LRU_LIST].removeNode(node)}},Entry=class{constructor(key,value,length,now,maxAge){this.key=key,this.value=value,this.length=length,this.now=now,this.maxAge=maxAge||0}},forEachStep=(self2,fn,node,thisp)=>{let hit=node.value;isStale(self2,hit)&&(del(self2,node),self2[ALLOW_STALE]||(hit=void 0)),hit&&fn.call(thisp,hit.value,hit.key,self2)};module2.exports=LRUCache}});var require_range=__commonJS({"../node_modules/semver/classes/range.js"(exports,module2){var Range=class{constructor(range,options){if(options=parseOptions(options),range instanceof Range)return range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease?range:new Range(range.raw,options);if(range instanceof Comparator)return this.raw=range.value,this.set=[[range]],this.format(),this;if(this.options=options,this.loose=!!options.loose,this.includePrerelease=!!options.includePrerelease,this.raw=range,this.set=range.split("||").map(r=>this.parseRange(r.trim())).filter(c=>c.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${range}`);if(this.set.length>1){let first=this.set[0];if(this.set=this.set.filter(c=>!isNullSet(c[0])),this.set.length===0)this.set=[first];else if(this.set.length>1){for(let c of this.set)if(c.length===1&&isAny(c[0])){this.set=[c];break}}}this.format()}format(){return this.range=this.set.map(comps=>comps.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(range){range=range.trim();let memoKey=`parseRange:${Object.keys(this.options).join(",")}:${range}`,cached=cache.get(memoKey);if(cached)return cached;let loose=this.options.loose,hr=loose?re[t.HYPHENRANGELOOSE]:re[t.HYPHENRANGE];range=range.replace(hr,hyphenReplace(this.options.includePrerelease)),debug("hyphen replace",range),range=range.replace(re[t.COMPARATORTRIM],comparatorTrimReplace),debug("comparator trim",range),range=range.replace(re[t.TILDETRIM],tildeTrimReplace),range=range.replace(re[t.CARETTRIM],caretTrimReplace),range=range.split(/\s+/).join(" ");let rangeList=range.split(" ").map(comp=>parseComparator(comp,this.options)).join(" ").split(/\s+/).map(comp=>replaceGTE0(comp,this.options));loose&&(rangeList=rangeList.filter(comp=>(debug("loose invalid filter",comp,this.options),!!comp.match(re[t.COMPARATORLOOSE])))),debug("range list",rangeList);let rangeMap=new Map,comparators=rangeList.map(comp=>new Comparator(comp,this.options));for(let comp of comparators){if(isNullSet(comp))return[comp];rangeMap.set(comp.value,comp)}rangeMap.size>1&&rangeMap.has("")&&rangeMap.delete("");let result=[...rangeMap.values()];return cache.set(memoKey,result),result}intersects(range,options){if(!(range instanceof Range))throw new TypeError("a Range is required");return this.set.some(thisComparators=>isSatisfiable(thisComparators,options)&&range.set.some(rangeComparators=>isSatisfiable(rangeComparators,options)&&thisComparators.every(thisComparator=>rangeComparators.every(rangeComparator=>thisComparator.intersects(rangeComparator,options)))))}test(version){if(!version)return!1;if(typeof version=="string")try{version=new SemVer(version,this.options)}catch{return!1}for(let i=0;i<this.set.length;i++)if(testSet(this.set[i],version,this.options))return!0;return!1}};module2.exports=Range;var LRU=require_lru_cache(),cache=new LRU({max:1e3}),parseOptions=require_parse_options(),Comparator=require_comparator(),debug=require_debug(),SemVer=require_semver(),{re,t,comparatorTrimReplace,tildeTrimReplace,caretTrimReplace}=require_re(),isNullSet=c=>c.value==="<0.0.0-0",isAny=c=>c.value==="",isSatisfiable=(comparators,options)=>{let result=!0,remainingComparators=comparators.slice(),testComparator=remainingComparators.pop();for(;result&&remainingComparators.length;)result=remainingComparators.every(otherComparator=>testComparator.intersects(otherComparator,options)),testComparator=remainingComparators.pop();return result},parseComparator=(comp,options)=>(debug("comp",comp,options),comp=replaceCarets(comp,options),debug("caret",comp),comp=replaceTildes(comp,options),debug("tildes",comp),comp=replaceXRanges(comp,options),debug("xrange",comp),comp=replaceStars(comp,options),debug("stars",comp),comp),isX=id=>!id||id.toLowerCase()==="x"||id==="*",replaceTildes=(comp,options)=>comp.trim().split(/\s+/).map(c=>replaceTilde(c,options)).join(" "),replaceTilde=(comp,options)=>{let r=options.loose?re[t.TILDELOOSE]:re[t.TILDE];return comp.replace(r,(_,M,m,p,pr)=>{debug("tilde",comp,_,M,m,p,pr);let ret;return isX(M)?ret="":isX(m)?ret=`>=${M}.0.0 <${+M+1}.0.0-0`:isX(p)?ret=`>=${M}.${m}.0 <${M}.${+m+1}.0-0`:pr?(debug("replaceTilde pr",pr),ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`):ret=`>=${M}.${m}.${p} <${M}.${+m+1}.0-0`,debug("tilde return",ret),ret})},replaceCarets=(comp,options)=>comp.trim().split(/\s+/).map(c=>replaceCaret(c,options)).join(" "),replaceCaret=(comp,options)=>{debug("caret",comp,options);let r=options.loose?re[t.CARETLOOSE]:re[t.CARET],z=options.includePrerelease?"-0":"";return comp.replace(r,(_,M,m,p,pr)=>{debug("caret",comp,_,M,m,p,pr);let ret;return isX(M)?ret="":isX(m)?ret=`>=${M}.0.0${z} <${+M+1}.0.0-0`:isX(p)?M==="0"?ret=`>=${M}.${m}.0${z} <${M}.${+m+1}.0-0`:ret=`>=${M}.${m}.0${z} <${+M+1}.0.0-0`:pr?(debug("replaceCaret pr",pr),M==="0"?m==="0"?ret=`>=${M}.${m}.${p}-${pr} <${M}.${m}.${+p+1}-0`:ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`:ret=`>=${M}.${m}.${p}-${pr} <${+M+1}.0.0-0`):(debug("no pr"),M==="0"?m==="0"?ret=`>=${M}.${m}.${p}${z} <${M}.${m}.${+p+1}-0`:ret=`>=${M}.${m}.${p}${z} <${M}.${+m+1}.0-0`:ret=`>=${M}.${m}.${p} <${+M+1}.0.0-0`),debug("caret return",ret),ret})},replaceXRanges=(comp,options)=>(debug("replaceXRanges",comp,options),comp.split(/\s+/).map(c=>replaceXRange(c,options)).join(" ")),replaceXRange=(comp,options)=>{comp=comp.trim();let r=options.loose?re[t.XRANGELOOSE]:re[t.XRANGE];return comp.replace(r,(ret,gtlt,M,m,p,pr)=>{debug("xRange",comp,ret,gtlt,M,m,p,pr);let xM=isX(M),xm=xM||isX(m),xp=xm||isX(p),anyX=xp;return gtlt==="="&&anyX&&(gtlt=""),pr=options.includePrerelease?"-0":"",xM?gtlt===">"||gtlt==="<"?ret="<0.0.0-0":ret="*":gtlt&&anyX?(xm&&(m=0),p=0,gtlt===">"?(gtlt=">=",xm?(M=+M+1,m=0,p=0):(m=+m+1,p=0)):gtlt==="<="&&(gtlt="<",xm?M=+M+1:m=+m+1),gtlt==="<"&&(pr="-0"),ret=`${gtlt+M}.${m}.${p}${pr}`):xm?ret=`>=${M}.0.0${pr} <${+M+1}.0.0-0`:xp&&(ret=`>=${M}.${m}.0${pr} <${M}.${+m+1}.0-0`),debug("xRange return",ret),ret})},replaceStars=(comp,options)=>(debug("replaceStars",comp,options),comp.trim().replace(re[t.STAR],"")),replaceGTE0=(comp,options)=>(debug("replaceGTE0",comp,options),comp.trim().replace(re[options.includePrerelease?t.GTE0PRE:t.GTE0],"")),hyphenReplace=incPr=>($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb)=>(isX(fM)?from="":isX(fm)?from=`>=${fM}.0.0${incPr?"-0":""}`:isX(fp)?from=`>=${fM}.${fm}.0${incPr?"-0":""}`:fpr?from=`>=${from}`:from=`>=${from}${incPr?"-0":""}`,isX(tM)?to="":isX(tm)?to=`<${+tM+1}.0.0-0`:isX(tp)?to=`<${tM}.${+tm+1}.0-0`:tpr?to=`<=${tM}.${tm}.${tp}-${tpr}`:incPr?to=`<${tM}.${tm}.${+tp+1}-0`:to=`<=${to}`,`${from} ${to}`.trim()),testSet=(set,version,options)=>{for(let i=0;i<set.length;i++)if(!set[i].test(version))return!1;if(version.prerelease.length&&!options.includePrerelease){for(let i=0;i<set.length;i++)if(debug(set[i].semver),set[i].semver!==Comparator.ANY&&set[i].semver.prerelease.length>0){let allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return!0}return!1}return!0}}});var require_comparator=__commonJS({"../node_modules/semver/classes/comparator.js"(exports,module2){var ANY=Symbol("SemVer ANY"),Comparator=class{static get ANY(){return ANY}constructor(comp,options){if(options=parseOptions(options),comp instanceof Comparator){if(comp.loose===!!options.loose)return comp;comp=comp.value}debug("comparator",comp,options),this.options=options,this.loose=!!options.loose,this.parse(comp),this.semver===ANY?this.value="":this.value=this.operator+this.semver.version,debug("comp",this)}parse(comp){let r=this.options.loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR],m=comp.match(r);if(!m)throw new TypeError(`Invalid comparator: ${comp}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new SemVer(m[2],this.options.loose):this.semver=ANY}toString(){return this.value}test(version){if(debug("Comparator.test",version,this.options.loose),this.semver===ANY||version===ANY)return!0;if(typeof version=="string")try{version=new SemVer(version,this.options)}catch{return!1}return cmp(version,this.operator,this.semver,this.options)}intersects(comp,options){if(!(comp instanceof Comparator))throw new TypeError("a Comparator is required");if((!options||typeof options!="object")&&(options={loose:!!options,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Range(comp.value,options).test(this.value);if(comp.operator==="")return comp.value===""?!0:new Range(this.value,options).test(comp.semver);let sameDirectionIncreasing=(this.operator===">="||this.operator===">")&&(comp.operator===">="||comp.operator===">"),sameDirectionDecreasing=(this.operator==="<="||this.operator==="<")&&(comp.operator==="<="||comp.operator==="<"),sameSemVer=this.semver.version===comp.semver.version,differentDirectionsInclusive=(this.operator===">="||this.operator==="<=")&&(comp.operator===">="||comp.operator==="<="),oppositeDirectionsLessThan=cmp(this.semver,"<",comp.semver,options)&&(this.operator===">="||this.operator===">")&&(comp.operator==="<="||comp.operator==="<"),oppositeDirectionsGreaterThan=cmp(this.semver,">",comp.semver,options)&&(this.operator==="<="||this.operator==="<")&&(comp.operator===">="||comp.operator===">");return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer&&differentDirectionsInclusive||oppositeDirectionsLessThan||oppositeDirectionsGreaterThan}};module2.exports=Comparator;var parseOptions=require_parse_options(),{re,t}=require_re(),cmp=require_cmp(),debug=require_debug(),SemVer=require_semver(),Range=require_range()}});var require_satisfies=__commonJS({"../node_modules/semver/functions/satisfies.js"(exports,module2){var Range=require_range(),satisfies=(version,range,options)=>{try{range=new Range(range,options)}catch{return!1}return range.test(version)};module2.exports=satisfies}});var require_to_comparators=__commonJS({"../node_modules/semver/ranges/to-comparators.js"(exports,module2){var Range=require_range(),toComparators=(range,options)=>new Range(range,options).set.map(comp=>comp.map(c=>c.value).join(" ").trim().split(" "));module2.exports=toComparators}});var require_max_satisfying=__commonJS({"../node_modules/semver/ranges/max-satisfying.js"(exports,module2){var SemVer=require_semver(),Range=require_range(),maxSatisfying=(versions,range,options)=>{let max=null,maxSV=null,rangeObj=null;try{rangeObj=new Range(range,options)}catch{return null}return versions.forEach(v=>{rangeObj.test(v)&&(!max||maxSV.compare(v)===-1)&&(max=v,maxSV=new SemVer(max,options))}),max};module2.exports=maxSatisfying}});var require_min_satisfying=__commonJS({"../node_modules/semver/ranges/min-satisfying.js"(exports,module2){var SemVer=require_semver(),Range=require_range(),minSatisfying=(versions,range,options)=>{let min=null,minSV=null,rangeObj=null;try{rangeObj=new Range(range,options)}catch{return null}return versions.forEach(v=>{rangeObj.test(v)&&(!min||minSV.compare(v)===1)&&(min=v,minSV=new SemVer(min,options))}),min};module2.exports=minSatisfying}});var require_min_version=__commonJS({"../node_modules/semver/ranges/min-version.js"(exports,module2){var SemVer=require_semver(),Range=require_range(),gt=require_gt(),minVersion=(range,loose)=>{range=new Range(range,loose);let minver=new SemVer("0.0.0");if(range.test(minver)||(minver=new SemVer("0.0.0-0"),range.test(minver)))return minver;minver=null;for(let i=0;i<range.set.length;++i){let comparators=range.set[i],setMin=null;comparators.forEach(comparator=>{let compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":compver.prerelease.length===0?compver.patch++:compver.prerelease.push(0),compver.raw=compver.format();case"":case">=":(!setMin||gt(compver,setMin))&&(setMin=compver);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${comparator.operator}`)}}),setMin&&(!minver||gt(minver,setMin))&&(minver=setMin)}return minver&&range.test(minver)?minver:null};module2.exports=minVersion}});var require_valid2=__commonJS({"../node_modules/semver/ranges/valid.js"(exports,module2){var Range=require_range(),validRange=(range,options)=>{try{return new Range(range,options).range||"*"}catch{return null}};module2.exports=validRange}});var require_outside=__commonJS({"../node_modules/semver/ranges/outside.js"(exports,module2){var SemVer=require_semver(),Comparator=require_comparator(),{ANY}=Comparator,Range=require_range(),satisfies=require_satisfies(),gt=require_gt(),lt=require_lt(),lte=require_lte(),gte=require_gte(),outside=(version,range,hilo,options)=>{version=new SemVer(version,options),range=new Range(range,options);let gtfn,ltefn,ltfn,comp,ecomp;switch(hilo){case">":gtfn=gt,ltefn=lte,ltfn=lt,comp=">",ecomp=">=";break;case"<":gtfn=lt,ltefn=gte,ltfn=gt,comp="<",ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options))return!1;for(let i=0;i<range.set.length;++i){let comparators=range.set[i],high=null,low=null;if(comparators.forEach(comparator=>{comparator.semver===ANY&&(comparator=new Comparator(">=0.0.0")),high=high||comparator,low=low||comparator,gtfn(comparator.semver,high.semver,options)?high=comparator:ltfn(comparator.semver,low.semver,options)&&(low=comparator)}),high.operator===comp||high.operator===ecomp||(!low.operator||low.operator===comp)&&ltefn(version,low.semver))return!1;if(low.operator===ecomp&&ltfn(version,low.semver))return!1}return!0};module2.exports=outside}});var require_gtr=__commonJS({"../node_modules/semver/ranges/gtr.js"(exports,module2){var outside=require_outside(),gtr=(version,range,options)=>outside(version,range,">",options);module2.exports=gtr}});var require_ltr=__commonJS({"../node_modules/semver/ranges/ltr.js"(exports,module2){var outside=require_outside(),ltr=(version,range,options)=>outside(version,range,"<",options);module2.exports=ltr}});var require_intersects=__commonJS({"../node_modules/semver/ranges/intersects.js"(exports,module2){var Range=require_range(),intersects=(r1,r2,options)=>(r1=new Range(r1,options),r2=new Range(r2,options),r1.intersects(r2));module2.exports=intersects}});var require_simplify=__commonJS({"../node_modules/semver/ranges/simplify.js"(exports,module2){var satisfies=require_satisfies(),compare=require_compare();module2.exports=(versions,range,options)=>{let set=[],first=null,prev=null,v=versions.sort((a,b)=>compare(a,b,options));for(let version of v)satisfies(version,range,options)?(prev=version,first||(first=version)):(prev&&set.push([first,prev]),prev=null,first=null);first&&set.push([first,null]);let ranges=[];for(let[min,max]of set)min===max?ranges.push(min):!max&&min===v[0]?ranges.push("*"):max?min===v[0]?ranges.push(`<=${max}`):ranges.push(`${min} - ${max}`):ranges.push(`>=${min}`);let simplified=ranges.join(" || "),original=typeof range.raw=="string"?range.raw:String(range);return simplified.length<original.length?simplified:range}}});var require_subset=__commonJS({"../node_modules/semver/ranges/subset.js"(exports,module2){var Range=require_range(),Comparator=require_comparator(),{ANY}=Comparator,satisfies=require_satisfies(),compare=require_compare(),subset=(sub,dom,options={})=>{if(sub===dom)return!0;sub=new Range(sub,options),dom=new Range(dom,options);let sawNonNull=!1;OUTER:for(let simpleSub of sub.set){for(let simpleDom of dom.set){let isSub=simpleSubset(simpleSub,simpleDom,options);if(sawNonNull=sawNonNull||isSub!==null,isSub)continue OUTER}if(sawNonNull)return!1}return!0},simpleSubset=(sub,dom,options)=>{if(sub===dom)return!0;if(sub.length===1&&sub[0].semver===ANY){if(dom.length===1&&dom[0].semver===ANY)return!0;options.includePrerelease?sub=[new Comparator(">=0.0.0-0")]:sub=[new Comparator(">=0.0.0")]}if(dom.length===1&&dom[0].semver===ANY){if(options.includePrerelease)return!0;dom=[new Comparator(">=0.0.0")]}let eqSet=new Set,gt,lt;for(let c of sub)c.operator===">"||c.operator===">="?gt=higherGT(gt,c,options):c.operator==="<"||c.operator==="<="?lt=lowerLT(lt,c,options):eqSet.add(c.semver);if(eqSet.size>1)return null;let gtltComp;if(gt&&lt){if(gtltComp=compare(gt.semver,lt.semver,options),gtltComp>0)return null;if(gtltComp===0&&(gt.operator!==">="||lt.operator!=="<="))return null}for(let eq of eqSet){if(gt&&!satisfies(eq,String(gt),options)||lt&&!satisfies(eq,String(lt),options))return null;for(let c of dom)if(!satisfies(eq,String(c),options))return!1;return!0}let higher,lower,hasDomLT,hasDomGT,needDomLTPre=lt&&!options.includePrerelease&&lt.semver.prerelease.length?lt.semver:!1,needDomGTPre=gt&&!options.includePrerelease&&gt.semver.prerelease.length?gt.semver:!1;needDomLTPre&&needDomLTPre.prerelease.length===1&&lt.operator==="<"&&needDomLTPre.prerelease[0]===0&&(needDomLTPre=!1);for(let c of dom){if(hasDomGT=hasDomGT||c.operator===">"||c.operator===">=",hasDomLT=hasDomLT||c.operator==="<"||c.operator==="<=",gt){if(needDomGTPre&&c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===needDomGTPre.major&&c.semver.minor===needDomGTPre.minor&&c.semver.patch===needDomGTPre.patch&&(needDomGTPre=!1),c.operator===">"||c.operator===">="){if(higher=higherGT(gt,c,options),higher===c&&higher!==gt)return!1}else if(gt.operator===">="&&!satisfies(gt.semver,String(c),options))return!1}if(lt){if(needDomLTPre&&c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===needDomLTPre.major&&c.semver.minor===needDomLTPre.minor&&c.semver.patch===needDomLTPre.patch&&(needDomLTPre=!1),c.operator==="<"||c.operator==="<="){if(lower=lowerLT(lt,c,options),lower===c&&lower!==lt)return!1}else if(lt.operator==="<="&&!satisfies(lt.semver,String(c),options))return!1}if(!c.operator&&(lt||gt)&&gtltComp!==0)return!1}return!(gt&&hasDomLT&&!lt&&gtltComp!==0||lt&&hasDomGT&&!gt&&gtltComp!==0||needDomGTPre||needDomLTPre)},higherGT=(a,b,options)=>{if(!a)return b;let comp=compare(a.semver,b.semver,options);return comp>0?a:comp<0||b.operator===">"&&a.operator===">="?b:a},lowerLT=(a,b,options)=>{if(!a)return b;let comp=compare(a.semver,b.semver,options);return comp<0?a:comp>0||b.operator==="<"&&a.operator==="<="?b:a};module2.exports=subset}});var require_semver2=__commonJS({"../node_modules/semver/index.js"(exports,module2){var internalRe=require_re(),constants=require_constants(),SemVer=require_semver(),identifiers=require_identifiers(),parse=require_parse(),valid=require_valid(),clean=require_clean(),inc=require_inc(),diff=require_diff(),major=require_major(),minor=require_minor(),patch=require_patch(),prerelease=require_prerelease(),compare=require_compare(),rcompare=require_rcompare(),compareLoose=require_compare_loose(),compareBuild=require_compare_build(),sort=require_sort(),rsort=require_rsort(),gt=require_gt(),lt=require_lt(),eq=require_eq(),neq=require_neq(),gte=require_gte(),lte=require_lte(),cmp=require_cmp(),coerce=require_coerce(),Comparator=require_comparator(),Range=require_range(),satisfies=require_satisfies(),toComparators=require_to_comparators(),maxSatisfying=require_max_satisfying(),minSatisfying=require_min_satisfying(),minVersion=require_min_version(),validRange=require_valid2(),outside=require_outside(),gtr=require_gtr(),ltr=require_ltr(),intersects=require_intersects(),simplifyRange=require_simplify(),subset=require_subset();module2.exports={parse,valid,clean,inc,diff,major,minor,patch,prerelease,compare,rcompare,compareLoose,compareBuild,sort,rsort,gt,lt,eq,neq,gte,lte,cmp,coerce,Comparator,Range,satisfies,toComparators,maxSatisfying,minSatisfying,minVersion,validRange,outside,gtr,ltr,intersects,simplifyRange,subset,SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers}}});var require_is2=__commonJS({"../node_modules/vscode-languageclient/lib/common/utils/is.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.asPromise=exports.thenable=exports.typedArray=exports.stringArray=exports.array=exports.func=exports.error=exports.number=exports.string=exports.boolean=void 0;function boolean(value){return value===!0||value===!1}exports.boolean=boolean;function string(value){return typeof value=="string"||value instanceof String}exports.string=string;function number(value){return typeof value=="number"||value instanceof Number}exports.number=number;function error(value){return value instanceof Error}exports.error=error;function func(value){return typeof value=="function"}exports.func=func;function array(value){return Array.isArray(value)}exports.array=array;function stringArray(value){return array(value)&&value.every(elem=>string(elem))}exports.stringArray=stringArray;function typedArray(value,check){return Array.isArray(value)&&value.every(check)}exports.typedArray=typedArray;function thenable(value){return value&&func(value.then)}exports.thenable=thenable;function asPromise(value){return value instanceof Promise?value:thenable(value)?new Promise((resolve,reject)=>{value.then(resolved=>resolve(resolved),error2=>reject(error2))}):Promise.resolve(value)}exports.asPromise=asPromise}});var require_ral=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/ral.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ral;function RAL(){if(_ral===void 0)throw new Error("No runtime abstraction layer installed");return _ral}(function(RAL2){function install(ral){if(ral===void 0)throw new Error("No runtime abstraction layer provided");_ral=ral}RAL2.install=install})(RAL||(RAL={}));exports.default=RAL}});var require_disposable=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/disposable.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Disposable=void 0;var Disposable;(function(Disposable2){function create(func){return{dispose:func}}Disposable2.create=create})(Disposable=exports.Disposable||(exports.Disposable={}))}});var require_messageBuffer=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/messageBuffer.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.AbstractMessageBuffer=void 0;var CR=13,LF=10,CRLF=`\r
`,AbstractMessageBuffer=class{constructor(encoding="utf-8"){this._encoding=encoding,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(chunk){let toAppend=typeof chunk=="string"?this.fromString(chunk,this._encoding):chunk;this._chunks.push(toAppend),this._totalLength+=toAppend.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let state=0,chunkIndex=0,offset=0,chunkBytesRead=0;row:for(;chunkIndex<this._chunks.length;){let chunk=this._chunks[chunkIndex];offset=0;column:for(;offset<chunk.length;){switch(chunk[offset]){case CR:switch(state){case 0:state=1;break;case 2:state=3;break;default:state=0}break;case LF:switch(state){case 1:state=2;break;case 3:state=4,offset++;break row;default:state=0}break;default:state=0}offset++}chunkBytesRead+=chunk.byteLength,chunkIndex++}if(state!==4)return;let buffer=this._read(chunkBytesRead+offset),result=new Map,headers=this.toString(buffer,"ascii").split(CRLF);if(headers.length<2)return result;for(let i=0;i<headers.length-2;i++){let header=headers[i],index=header.indexOf(":");if(index===-1)throw new Error("Message header must separate key and value using :");let key=header.substr(0,index),value=header.substr(index+1).trim();result.set(key,value)}return result}tryReadBody(length){if(!(this._totalLength<length))return this._read(length)}get numberOfBytes(){return this._totalLength}_read(byteCount){if(byteCount===0)return this.emptyBuffer();if(byteCount>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===byteCount){let chunk=this._chunks[0];return this._chunks.shift(),this._totalLength-=byteCount,this.asNative(chunk)}if(this._chunks[0].byteLength>byteCount){let chunk=this._chunks[0],result2=this.asNative(chunk,byteCount);return this._chunks[0]=chunk.slice(byteCount),this._totalLength-=byteCount,result2}let result=this.allocNative(byteCount),resultOffset=0,chunkIndex=0;for(;byteCount>0;){let chunk=this._chunks[chunkIndex];if(chunk.byteLength>byteCount){let chunkPart=chunk.slice(0,byteCount);result.set(chunkPart,resultOffset),resultOffset+=byteCount,this._chunks[chunkIndex]=chunk.slice(byteCount),this._totalLength-=byteCount,byteCount-=byteCount}else result.set(chunk,resultOffset),resultOffset+=chunk.byteLength,this._chunks.shift(),this._totalLength-=chunk.byteLength,byteCount-=chunk.byteLength}return result}};exports.AbstractMessageBuffer=AbstractMessageBuffer}});var require_ril=__commonJS({"../node_modules/vscode-jsonrpc/lib/node/ril.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ral_1=require_ral(),util_1=require("util"),disposable_1=require_disposable(),messageBuffer_1=require_messageBuffer(),MessageBuffer=class extends messageBuffer_1.AbstractMessageBuffer{constructor(encoding="utf-8"){super(encoding)}emptyBuffer(){return MessageBuffer.emptyBuffer}fromString(value,encoding){return Buffer.from(value,encoding)}toString(value,encoding){return value instanceof Buffer?value.toString(encoding):new util_1.TextDecoder(encoding).decode(value)}asNative(buffer,length){return length===void 0?buffer instanceof Buffer?buffer:Buffer.from(buffer):buffer instanceof Buffer?buffer.slice(0,length):Buffer.from(buffer,0,length)}allocNative(length){return Buffer.allocUnsafe(length)}};MessageBuffer.emptyBuffer=Buffer.allocUnsafe(0);var ReadableStreamWrapper=class{constructor(stream){this.stream=stream}onClose(listener){return this.stream.on("close",listener),disposable_1.Disposable.create(()=>this.stream.off("close",listener))}onError(listener){return this.stream.on("error",listener),disposable_1.Disposable.create(()=>this.stream.off("error",listener))}onEnd(listener){return this.stream.on("end",listener),disposable_1.Disposable.create(()=>this.stream.off("end",listener))}onData(listener){return this.stream.on("data",listener),disposable_1.Disposable.create(()=>this.stream.off("data",listener))}},WritableStreamWrapper=class{constructor(stream){this.stream=stream}onClose(listener){return this.stream.on("close",listener),disposable_1.Disposable.create(()=>this.stream.off("close",listener))}onError(listener){return this.stream.on("error",listener),disposable_1.Disposable.create(()=>this.stream.off("error",listener))}onEnd(listener){return this.stream.on("end",listener),disposable_1.Disposable.create(()=>this.stream.off("end",listener))}write(data,encoding){return new Promise((resolve,reject)=>{let callback=error=>{error==null?resolve():reject(error)};typeof data=="string"?this.stream.write(data,encoding,callback):this.stream.write(data,callback)})}end(){this.stream.end()}},_ril=Object.freeze({messageBuffer:Object.freeze({create:encoding=>new MessageBuffer(encoding)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(msg,options)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(msg,void 0,0),options.charset))}catch(err){return Promise.reject(err)}}}),decoder:Object.freeze({name:"application/json",decode:(buffer,options)=>{try{return buffer instanceof Buffer?Promise.resolve(JSON.parse(buffer.toString(options.charset))):Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)))}catch(err){return Promise.reject(err)}}})}),stream:Object.freeze({asReadableStream:stream=>new ReadableStreamWrapper(stream),asWritableStream:stream=>new WritableStreamWrapper(stream)}),console,timer:Object.freeze({setTimeout(callback,ms,...args){return setTimeout(callback,ms,...args)},clearTimeout(handle){clearTimeout(handle)},setImmediate(callback,...args){return setImmediate(callback,...args)},clearImmediate(handle){clearImmediate(handle)}})});function RIL(){return _ril}(function(RIL2){function install(){ral_1.default.install(_ril)}RIL2.install=install})(RIL||(RIL={}));exports.default=RIL}});var require_is3=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/is.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.stringArray=exports.array=exports.func=exports.error=exports.number=exports.string=exports.boolean=void 0;function boolean(value){return value===!0||value===!1}exports.boolean=boolean;function string(value){return typeof value=="string"||value instanceof String}exports.string=string;function number(value){return typeof value=="number"||value instanceof Number}exports.number=number;function error(value){return value instanceof Error}exports.error=error;function func(value){return typeof value=="function"}exports.func=func;function array(value){return Array.isArray(value)}exports.array=array;function stringArray(value){return array(value)&&value.every(elem=>string(elem))}exports.stringArray=stringArray}});var require_messages=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/messages.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.isResponseMessage=exports.isNotificationMessage=exports.isRequestMessage=exports.NotificationType9=exports.NotificationType8=exports.NotificationType7=exports.NotificationType6=exports.NotificationType5=exports.NotificationType4=exports.NotificationType3=exports.NotificationType2=exports.NotificationType1=exports.NotificationType0=exports.NotificationType=exports.RequestType9=exports.RequestType8=exports.RequestType7=exports.RequestType6=exports.RequestType5=exports.RequestType4=exports.RequestType3=exports.RequestType2=exports.RequestType1=exports.RequestType=exports.RequestType0=exports.AbstractMessageSignature=exports.ParameterStructures=exports.ResponseError=exports.ErrorCodes=void 0;var is=require_is3(),ErrorCodes;(function(ErrorCodes2){ErrorCodes2.ParseError=-32700,ErrorCodes2.InvalidRequest=-32600,ErrorCodes2.MethodNotFound=-32601,ErrorCodes2.InvalidParams=-32602,ErrorCodes2.InternalError=-32603,ErrorCodes2.jsonrpcReservedErrorRangeStart=-32099,ErrorCodes2.serverErrorStart=ErrorCodes2.jsonrpcReservedErrorRangeStart,ErrorCodes2.MessageWriteError=-32099,ErrorCodes2.MessageReadError=-32098,ErrorCodes2.ServerNotInitialized=-32002,ErrorCodes2.UnknownErrorCode=-32001,ErrorCodes2.jsonrpcReservedErrorRangeEnd=-32e3,ErrorCodes2.serverErrorEnd=ErrorCodes2.jsonrpcReservedErrorRangeEnd})(ErrorCodes=exports.ErrorCodes||(exports.ErrorCodes={}));var ResponseError=class extends Error{constructor(code,message,data){super(message);this.code=is.number(code)?code:ErrorCodes.UnknownErrorCode,this.data=data,Object.setPrototypeOf(this,ResponseError.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};exports.ResponseError=ResponseError;var ParameterStructures=class{constructor(kind){this.kind=kind}static is(value){return value===ParameterStructures.auto||value===ParameterStructures.byName||value===ParameterStructures.byPosition}toString(){return this.kind}};exports.ParameterStructures=ParameterStructures;ParameterStructures.auto=new ParameterStructures("auto");ParameterStructures.byPosition=new ParameterStructures("byPosition");ParameterStructures.byName=new ParameterStructures("byName");var AbstractMessageSignature=class{constructor(method,numberOfParams){this.method=method,this.numberOfParams=numberOfParams}get parameterStructures(){return ParameterStructures.auto}};exports.AbstractMessageSignature=AbstractMessageSignature;var RequestType0=class extends AbstractMessageSignature{constructor(method){super(method,0)}};exports.RequestType0=RequestType0;var RequestType=class extends AbstractMessageSignature{constructor(method,_parameterStructures=ParameterStructures.auto){super(method,1);this._parameterStructures=_parameterStructures}get parameterStructures(){return this._parameterStructures}};exports.RequestType=RequestType;var RequestType1=class extends AbstractMessageSignature{constructor(method,_parameterStructures=ParameterStructures.auto){super(method,1);this._parameterStructures=_parameterStructures}get parameterStructures(){return this._parameterStructures}};exports.RequestType1=RequestType1;var RequestType2=class extends AbstractMessageSignature{constructor(method){super(method,2)}};exports.RequestType2=RequestType2;var RequestType3=class extends AbstractMessageSignature{constructor(method){super(method,3)}};exports.RequestType3=RequestType3;var RequestType4=class extends AbstractMessageSignature{constructor(method){super(method,4)}};exports.RequestType4=RequestType4;var RequestType5=class extends AbstractMessageSignature{constructor(method){super(method,5)}};exports.RequestType5=RequestType5;var RequestType6=class extends AbstractMessageSignature{constructor(method){super(method,6)}};exports.RequestType6=RequestType6;var RequestType7=class extends AbstractMessageSignature{constructor(method){super(method,7)}};exports.RequestType7=RequestType7;var RequestType8=class extends AbstractMessageSignature{constructor(method){super(method,8)}};exports.RequestType8=RequestType8;var RequestType9=class extends AbstractMessageSignature{constructor(method){super(method,9)}};exports.RequestType9=RequestType9;var NotificationType=class extends AbstractMessageSignature{constructor(method,_parameterStructures=ParameterStructures.auto){super(method,1);this._parameterStructures=_parameterStructures}get parameterStructures(){return this._parameterStructures}};exports.NotificationType=NotificationType;var NotificationType0=class extends AbstractMessageSignature{constructor(method){super(method,0)}};exports.NotificationType0=NotificationType0;var NotificationType1=class extends AbstractMessageSignature{constructor(method,_parameterStructures=ParameterStructures.auto){super(method,1);this._parameterStructures=_parameterStructures}get parameterStructures(){return this._parameterStructures}};exports.NotificationType1=NotificationType1;var NotificationType2=class extends AbstractMessageSignature{constructor(method){super(method,2)}};exports.NotificationType2=NotificationType2;var NotificationType3=class extends AbstractMessageSignature{constructor(method){super(method,3)}};exports.NotificationType3=NotificationType3;var NotificationType4=class extends AbstractMessageSignature{constructor(method){super(method,4)}};exports.NotificationType4=NotificationType4;var NotificationType5=class extends AbstractMessageSignature{constructor(method){super(method,5)}};exports.NotificationType5=NotificationType5;var NotificationType6=class extends AbstractMessageSignature{constructor(method){super(method,6)}};exports.NotificationType6=NotificationType6;var NotificationType7=class extends AbstractMessageSignature{constructor(method){super(method,7)}};exports.NotificationType7=NotificationType7;var NotificationType8=class extends AbstractMessageSignature{constructor(method){super(method,8)}};exports.NotificationType8=NotificationType8;var NotificationType9=class extends AbstractMessageSignature{constructor(method){super(method,9)}};exports.NotificationType9=NotificationType9;function isRequestMessage(message){let candidate=message;return candidate&&is.string(candidate.method)&&(is.string(candidate.id)||is.number(candidate.id))}exports.isRequestMessage=isRequestMessage;function isNotificationMessage(message){let candidate=message;return candidate&&is.string(candidate.method)&&message.id===void 0}exports.isNotificationMessage=isNotificationMessage;function isResponseMessage(message){let candidate=message;return candidate&&(candidate.result!==void 0||!!candidate.error)&&(is.string(candidate.id)||is.number(candidate.id)||candidate.id===null)}exports.isResponseMessage=isResponseMessage}});var require_events=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/events.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Emitter=exports.Event=void 0;var ral_1=require_ral(),Event2;(function(Event3){let _disposable={dispose(){}};Event3.None=function(){return _disposable}})(Event2=exports.Event||(exports.Event={}));var CallbackList=class{add(callback,context=null,bucket){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(callback),this._contexts.push(context),Array.isArray(bucket)&&bucket.push({dispose:()=>this.remove(callback,context)})}remove(callback,context=null){if(!this._callbacks)return;let foundCallbackWithDifferentContext=!1;for(let i=0,len=this._callbacks.length;i<len;i++)if(this._callbacks[i]===callback)if(this._contexts[i]===context){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else foundCallbackWithDifferentContext=!0;if(foundCallbackWithDifferentContext)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...args){if(!this._callbacks)return[];let ret=[],callbacks=this._callbacks.slice(0),contexts=this._contexts.slice(0);for(let i=0,len=callbacks.length;i<len;i++)try{ret.push(callbacks[i].apply(contexts[i],args))}catch(e){ral_1.default().console.error(e)}return ret}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Emitter=class{constructor(_options){this._options=_options}get event(){return this._event||(this._event=(listener,thisArgs,disposables)=>{this._callbacks||(this._callbacks=new CallbackList),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(listener,thisArgs);let result={dispose:()=>{!this._callbacks||(this._callbacks.remove(listener,thisArgs),result.dispose=Emitter._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(disposables)&&disposables.push(result),result}),this._event}fire(event){this._callbacks&&this._callbacks.invoke.call(this._callbacks,event)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};exports.Emitter=Emitter;Emitter._noop=function(){}}});var require_cancellation=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/cancellation.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.CancellationTokenSource=exports.CancellationToken=void 0;var ral_1=require_ral(),Is=require_is3(),events_1=require_events(),CancellationToken;(function(CancellationToken2){CancellationToken2.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:events_1.Event.None}),CancellationToken2.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:events_1.Event.None});function is(value){let candidate=value;return candidate&&(candidate===CancellationToken2.None||candidate===CancellationToken2.Cancelled||Is.boolean(candidate.isCancellationRequested)&&!!candidate.onCancellationRequested)}CancellationToken2.is=is})(CancellationToken=exports.CancellationToken||(exports.CancellationToken={}));var shortcutEvent=Object.freeze(function(callback,context){let handle=ral_1.default().timer.setTimeout(callback.bind(context),0);return{dispose(){ral_1.default().timer.clearTimeout(handle)}}}),MutableToken=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?shortcutEvent:(this._emitter||(this._emitter=new events_1.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},CancellationTokenSource=class{get token(){return this._token||(this._token=new MutableToken),this._token}cancel(){this._token?this._token.cancel():this._token=CancellationToken.Cancelled}dispose(){this._token?this._token instanceof MutableToken&&this._token.dispose():this._token=CancellationToken.None}};exports.CancellationTokenSource=CancellationTokenSource}});var require_messageReader=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/messageReader.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ReadableStreamMessageReader=exports.AbstractMessageReader=exports.MessageReader=void 0;var ral_1=require_ral(),Is=require_is3(),events_1=require_events(),MessageReader;(function(MessageReader2){function is(value){let candidate=value;return candidate&&Is.func(candidate.listen)&&Is.func(candidate.dispose)&&Is.func(candidate.onError)&&Is.func(candidate.onClose)&&Is.func(candidate.onPartialMessage)}MessageReader2.is=is})(MessageReader=exports.MessageReader||(exports.MessageReader={}));var AbstractMessageReader=class{constructor(){this.errorEmitter=new events_1.Emitter,this.closeEmitter=new events_1.Emitter,this.partialMessageEmitter=new events_1.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(error){this.errorEmitter.fire(this.asError(error))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(info){this.partialMessageEmitter.fire(info)}asError(error){return error instanceof Error?error:new Error(`Reader received error. Reason: ${Is.string(error.message)?error.message:"unknown"}`)}};exports.AbstractMessageReader=AbstractMessageReader;var ResolvedMessageReaderOptions;(function(ResolvedMessageReaderOptions2){function fromOptions(options){var _a;let charset,result,contentDecoder,contentDecoders=new Map,contentTypeDecoder,contentTypeDecoders=new Map;if(options===void 0||typeof options=="string")charset=options??"utf-8";else{if(charset=(_a=options.charset)!==null&&_a!==void 0?_a:"utf-8",options.contentDecoder!==void 0&&(contentDecoder=options.contentDecoder,contentDecoders.set(contentDecoder.name,contentDecoder)),options.contentDecoders!==void 0)for(let decoder of options.contentDecoders)contentDecoders.set(decoder.name,decoder);if(options.contentTypeDecoder!==void 0&&(contentTypeDecoder=options.contentTypeDecoder,contentTypeDecoders.set(contentTypeDecoder.name,contentTypeDecoder)),options.contentTypeDecoders!==void 0)for(let decoder of options.contentTypeDecoders)contentTypeDecoders.set(decoder.name,decoder)}return contentTypeDecoder===void 0&&(contentTypeDecoder=ral_1.default().applicationJson.decoder,contentTypeDecoders.set(contentTypeDecoder.name,contentTypeDecoder)),{charset,contentDecoder,contentDecoders,contentTypeDecoder,contentTypeDecoders}}ResolvedMessageReaderOptions2.fromOptions=fromOptions})(ResolvedMessageReaderOptions||(ResolvedMessageReaderOptions={}));var ReadableStreamMessageReader=class extends AbstractMessageReader{constructor(readable,options){super();this.readable=readable,this.options=ResolvedMessageReaderOptions.fromOptions(options),this.buffer=ral_1.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(timeout){this._partialMessageTimeout=timeout}get partialMessageTimeout(){return this._partialMessageTimeout}listen(callback){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=callback;let result=this.readable.onData(data=>{this.onData(data)});return this.readable.onError(error=>this.fireError(error)),this.readable.onClose(()=>this.fireClose()),result}onData(data){for(this.buffer.append(data);;){if(this.nextMessageLength===-1){let headers=this.buffer.tryReadHeaders();if(!headers)return;let contentLength=headers.get("Content-Length");if(!contentLength)throw new Error("Header must provide a Content-Length property.");let length=parseInt(contentLength);if(isNaN(length))throw new Error("Content-Length value must be a number.");this.nextMessageLength=length}let body=this.buffer.tryReadBody(this.nextMessageLength);if(body===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let p;this.options.contentDecoder!==void 0?p=this.options.contentDecoder.decode(body):p=Promise.resolve(body),p.then(value=>{this.options.contentTypeDecoder.decode(value,this.options).then(msg=>{this.callback(msg)},error=>{this.fireError(error)})},error=>{this.fireError(error)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(ral_1.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=ral_1.default().timer.setTimeout((token,timeout)=>{this.partialMessageTimer=void 0,token===this.messageToken&&(this.firePartialMessage({messageToken:token,waitingTime:timeout}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};exports.ReadableStreamMessageReader=ReadableStreamMessageReader}});var require_semaphore=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/semaphore.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Semaphore=void 0;var ral_1=require_ral(),Semaphore=class{constructor(capacity=1){if(capacity<=0)throw new Error("Capacity must be greater than 0");this._capacity=capacity,this._active=0,this._waiting=[]}lock(thunk){return new Promise((resolve,reject)=>{this._waiting.push({thunk,resolve,reject}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||ral_1.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let next=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let result=next.thunk();result instanceof Promise?result.then(value=>{this._active--,next.resolve(value),this.runNext()},err=>{this._active--,next.reject(err),this.runNext()}):(this._active--,next.resolve(result),this.runNext())}catch(err){this._active--,next.reject(err),this.runNext()}}};exports.Semaphore=Semaphore}});var require_messageWriter=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/messageWriter.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WriteableStreamMessageWriter=exports.AbstractMessageWriter=exports.MessageWriter=void 0;var ral_1=require_ral(),Is=require_is3(),semaphore_1=require_semaphore(),events_1=require_events(),ContentLength="Content-Length: ",CRLF=`\r
`,MessageWriter;(function(MessageWriter2){function is(value){let candidate=value;return candidate&&Is.func(candidate.dispose)&&Is.func(candidate.onClose)&&Is.func(candidate.onError)&&Is.func(candidate.write)}MessageWriter2.is=is})(MessageWriter=exports.MessageWriter||(exports.MessageWriter={}));var AbstractMessageWriter=class{constructor(){this.errorEmitter=new events_1.Emitter,this.closeEmitter=new events_1.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(error,message,count){this.errorEmitter.fire([this.asError(error),message,count])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(error){return error instanceof Error?error:new Error(`Writer received error. Reason: ${Is.string(error.message)?error.message:"unknown"}`)}};exports.AbstractMessageWriter=AbstractMessageWriter;var ResolvedMessageWriterOptions;(function(ResolvedMessageWriterOptions2){function fromOptions(options){var _a,_b;return options===void 0||typeof options=="string"?{charset:options??"utf-8",contentTypeEncoder:ral_1.default().applicationJson.encoder}:{charset:(_a=options.charset)!==null&&_a!==void 0?_a:"utf-8",contentEncoder:options.contentEncoder,contentTypeEncoder:(_b=options.contentTypeEncoder)!==null&&_b!==void 0?_b:ral_1.default().applicationJson.encoder}}ResolvedMessageWriterOptions2.fromOptions=fromOptions})(ResolvedMessageWriterOptions||(ResolvedMessageWriterOptions={}));var WriteableStreamMessageWriter=class extends AbstractMessageWriter{constructor(writable,options){super();this.writable=writable,this.options=ResolvedMessageWriterOptions.fromOptions(options),this.errorCount=0,this.writeSemaphore=new semaphore_1.Semaphore(1),this.writable.onError(error=>this.fireError(error)),this.writable.onClose(()=>this.fireClose())}async write(msg){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(msg,this.options).then(buffer=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(buffer):buffer).then(buffer=>{let headers=[];return headers.push(ContentLength,buffer.byteLength.toString(),CRLF),headers.push(CRLF),this.doWrite(msg,headers,buffer)},error=>{throw this.fireError(error),error}))}async doWrite(msg,headers,data){try{return await this.writable.write(headers.join(""),"ascii"),this.writable.write(data)}catch(error){return this.handleError(error,msg),Promise.reject(error)}}handleError(error,msg){this.errorCount++,this.fireError(error,msg,this.errorCount)}end(){this.writable.end()}};exports.WriteableStreamMessageWriter=WriteableStreamMessageWriter}});var require_linkedMap=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/linkedMap.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.LRUCache=exports.LinkedMap=exports.Touch=void 0;var Touch;(function(Touch2){Touch2.None=0,Touch2.First=1,Touch2.AsOld=Touch2.First,Touch2.Last=2,Touch2.AsNew=Touch2.Last})(Touch=exports.Touch||(exports.Touch={}));var LinkedMap=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var _a;return(_a=this._head)===null||_a===void 0?void 0:_a.value}get last(){var _a;return(_a=this._tail)===null||_a===void 0?void 0:_a.value}has(key){return this._map.has(key)}get(key,touch=Touch.None){let item=this._map.get(key);if(!!item)return touch!==Touch.None&&this.touch(item,touch),item.value}set(key,value,touch=Touch.None){let item=this._map.get(key);if(item)item.value=value,touch!==Touch.None&&this.touch(item,touch);else{switch(item={key,value,next:void 0,previous:void 0},touch){case Touch.None:this.addItemLast(item);break;case Touch.First:this.addItemFirst(item);break;case Touch.Last:this.addItemLast(item);break;default:this.addItemLast(item);break}this._map.set(key,item),this._size++}return this}delete(key){return!!this.remove(key)}remove(key){let item=this._map.get(key);if(!!item)return this._map.delete(key),this.removeItem(item),this._size--,item.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let item=this._head;return this._map.delete(item.key),this.removeItem(item),this._size--,item.value}forEach(callbackfn,thisArg){let state=this._state,current=this._head;for(;current;){if(thisArg?callbackfn.bind(thisArg)(current.value,current.key,this):callbackfn(current.value,current.key,this),this._state!==state)throw new Error("LinkedMap got modified during iteration.");current=current.next}}keys(){let map=this,state=this._state,current=this._head,iterator={[Symbol.iterator](){return iterator},next(){if(map._state!==state)throw new Error("LinkedMap got modified during iteration.");if(current){let result={value:current.key,done:!1};return current=current.next,result}else return{value:void 0,done:!0}}};return iterator}values(){let map=this,state=this._state,current=this._head,iterator={[Symbol.iterator](){return iterator},next(){if(map._state!==state)throw new Error("LinkedMap got modified during iteration.");if(current){let result={value:current.value,done:!1};return current=current.next,result}else return{value:void 0,done:!0}}};return iterator}entries(){let map=this,state=this._state,current=this._head,iterator={[Symbol.iterator](){return iterator},next(){if(map._state!==state)throw new Error("LinkedMap got modified during iteration.");if(current){let result={value:[current.key,current.value],done:!1};return current=current.next,result}else return{value:void 0,done:!0}}};return iterator}[Symbol.iterator](){return this.entries()}trimOld(newSize){if(newSize>=this.size)return;if(newSize===0){this.clear();return}let current=this._head,currentSize=this.size;for(;current&&currentSize>newSize;)this._map.delete(current.key),current=current.next,currentSize--;this._head=current,this._size=currentSize,current&&(current.previous=void 0),this._state++}addItemFirst(item){if(!this._head&&!this._tail)this._tail=item;else if(this._head)item.next=this._head,this._head.previous=item;else throw new Error("Invalid list");this._head=item,this._state++}addItemLast(item){if(!this._head&&!this._tail)this._head=item;else if(this._tail)item.previous=this._tail,this._tail.next=item;else throw new Error("Invalid list");this._tail=item,this._state++}removeItem(item){if(item===this._head&&item===this._tail)this._head=void 0,this._tail=void 0;else if(item===this._head){if(!item.next)throw new Error("Invalid list");item.next.previous=void 0,this._head=item.next}else if(item===this._tail){if(!item.previous)throw new Error("Invalid list");item.previous.next=void 0,this._tail=item.previous}else{let next=item.next,previous=item.previous;if(!next||!previous)throw new Error("Invalid list");next.previous=previous,previous.next=next}item.next=void 0,item.previous=void 0,this._state++}touch(item,touch){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(touch!==Touch.First&&touch!==Touch.Last)){if(touch===Touch.First){if(item===this._head)return;let next=item.next,previous=item.previous;item===this._tail?(previous.next=void 0,this._tail=previous):(next.previous=previous,previous.next=next),item.previous=void 0,item.next=this._head,this._head.previous=item,this._head=item,this._state++}else if(touch===Touch.Last){if(item===this._tail)return;let next=item.next,previous=item.previous;item===this._head?(next.previous=void 0,this._head=next):(next.previous=previous,previous.next=next),item.next=void 0,item.previous=this._tail,this._tail.next=item,this._tail=item,this._state++}}}toJSON(){let data=[];return this.forEach((value,key)=>{data.push([key,value])}),data}fromJSON(data){this.clear();for(let[key,value]of data)this.set(key,value)}};exports.LinkedMap=LinkedMap;var LRUCache=class extends LinkedMap{constructor(limit,ratio=1){super();this._limit=limit,this._ratio=Math.min(Math.max(0,ratio),1)}get limit(){return this._limit}set limit(limit){this._limit=limit,this.checkTrim()}get ratio(){return this._ratio}set ratio(ratio){this._ratio=Math.min(Math.max(0,ratio),1),this.checkTrim()}get(key,touch=Touch.AsNew){return super.get(key,touch)}peek(key){return super.get(key,Touch.None)}set(key,value){return super.set(key,value,Touch.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};exports.LRUCache=LRUCache}});var require_connection=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/connection.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.createMessageConnection=exports.ConnectionOptions=exports.CancellationStrategy=exports.CancellationSenderStrategy=exports.CancellationReceiverStrategy=exports.ConnectionStrategy=exports.ConnectionError=exports.ConnectionErrors=exports.LogTraceNotification=exports.SetTraceNotification=exports.TraceFormat=exports.Trace=exports.NullLogger=exports.ProgressType=void 0;var ral_1=require_ral(),Is=require_is3(),messages_1=require_messages(),linkedMap_1=require_linkedMap(),events_1=require_events(),cancellation_1=require_cancellation(),CancelNotification;(function(CancelNotification2){CancelNotification2.type=new messages_1.NotificationType("$/cancelRequest")})(CancelNotification||(CancelNotification={}));var ProgressNotification;(function(ProgressNotification2){ProgressNotification2.type=new messages_1.NotificationType("$/progress")})(ProgressNotification||(ProgressNotification={}));var ProgressType=class{constructor(){}};exports.ProgressType=ProgressType;var StarRequestHandler;(function(StarRequestHandler2){function is(value){return Is.func(value)}StarRequestHandler2.is=is})(StarRequestHandler||(StarRequestHandler={}));exports.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Trace;(function(Trace2){Trace2[Trace2.Off=0]="Off",Trace2[Trace2.Messages=1]="Messages",Trace2[Trace2.Verbose=2]="Verbose"})(Trace=exports.Trace||(exports.Trace={}));(function(Trace2){function fromString(value){if(!Is.string(value))return Trace2.Off;switch(value=value.toLowerCase(),value){case"off":return Trace2.Off;case"messages":return Trace2.Messages;case"verbose":return Trace2.Verbose;default:return Trace2.Off}}Trace2.fromString=fromString;function toString(value){switch(value){case Trace2.Off:return"off";case Trace2.Messages:return"messages";case Trace2.Verbose:return"verbose";default:return"off"}}Trace2.toString=toString})(Trace=exports.Trace||(exports.Trace={}));var TraceFormat;(function(TraceFormat2){TraceFormat2.Text="text",TraceFormat2.JSON="json"})(TraceFormat=exports.TraceFormat||(exports.TraceFormat={}));(function(TraceFormat2){function fromString(value){return value=value.toLowerCase(),value==="json"?TraceFormat2.JSON:TraceFormat2.Text}TraceFormat2.fromString=fromString})(TraceFormat=exports.TraceFormat||(exports.TraceFormat={}));var SetTraceNotification;(function(SetTraceNotification2){SetTraceNotification2.type=new messages_1.NotificationType("$/setTrace")})(SetTraceNotification=exports.SetTraceNotification||(exports.SetTraceNotification={}));var LogTraceNotification;(function(LogTraceNotification2){LogTraceNotification2.type=new messages_1.NotificationType("$/logTrace")})(LogTraceNotification=exports.LogTraceNotification||(exports.LogTraceNotification={}));var ConnectionErrors;(function(ConnectionErrors2){ConnectionErrors2[ConnectionErrors2.Closed=1]="Closed",ConnectionErrors2[ConnectionErrors2.Disposed=2]="Disposed",ConnectionErrors2[ConnectionErrors2.AlreadyListening=3]="AlreadyListening"})(ConnectionErrors=exports.ConnectionErrors||(exports.ConnectionErrors={}));var ConnectionError=class extends Error{constructor(code,message){super(message);this.code=code,Object.setPrototypeOf(this,ConnectionError.prototype)}};exports.ConnectionError=ConnectionError;var ConnectionStrategy;(function(ConnectionStrategy2){function is(value){let candidate=value;return candidate&&Is.func(candidate.cancelUndispatched)}ConnectionStrategy2.is=is})(ConnectionStrategy=exports.ConnectionStrategy||(exports.ConnectionStrategy={}));var CancellationReceiverStrategy;(function(CancellationReceiverStrategy2){CancellationReceiverStrategy2.Message=Object.freeze({createCancellationTokenSource(_){return new cancellation_1.CancellationTokenSource}});function is(value){let candidate=value;return candidate&&Is.func(candidate.createCancellationTokenSource)}CancellationReceiverStrategy2.is=is})(CancellationReceiverStrategy=exports.CancellationReceiverStrategy||(exports.CancellationReceiverStrategy={}));var CancellationSenderStrategy;(function(CancellationSenderStrategy2){CancellationSenderStrategy2.Message=Object.freeze({sendCancellation(conn,id){conn.sendNotification(CancelNotification.type,{id})},cleanup(_){}});function is(value){let candidate=value;return candidate&&Is.func(candidate.sendCancellation)&&Is.func(candidate.cleanup)}CancellationSenderStrategy2.is=is})(CancellationSenderStrategy=exports.CancellationSenderStrategy||(exports.CancellationSenderStrategy={}));var CancellationStrategy;(function(CancellationStrategy2){CancellationStrategy2.Message=Object.freeze({receiver:CancellationReceiverStrategy.Message,sender:CancellationSenderStrategy.Message});function is(value){let candidate=value;return candidate&&CancellationReceiverStrategy.is(candidate.receiver)&&CancellationSenderStrategy.is(candidate.sender)}CancellationStrategy2.is=is})(CancellationStrategy=exports.CancellationStrategy||(exports.CancellationStrategy={}));var ConnectionOptions;(function(ConnectionOptions2){function is(value){let candidate=value;return candidate&&(CancellationStrategy.is(candidate.cancellationStrategy)||ConnectionStrategy.is(candidate.connectionStrategy))}ConnectionOptions2.is=is})(ConnectionOptions=exports.ConnectionOptions||(exports.ConnectionOptions={}));var ConnectionState;(function(ConnectionState2){ConnectionState2[ConnectionState2.New=1]="New",ConnectionState2[ConnectionState2.Listening=2]="Listening",ConnectionState2[ConnectionState2.Closed=3]="Closed",ConnectionState2[ConnectionState2.Disposed=4]="Disposed"})(ConnectionState||(ConnectionState={}));function createMessageConnection(messageReader,messageWriter,_logger,options){let logger=_logger!==void 0?_logger:exports.NullLogger,sequenceNumber=0,notificationSquenceNumber=0,unknownResponseSquenceNumber=0,version="2.0",starRequestHandler,requestHandlers=Object.create(null),starNotificationHandler,notificationHandlers=Object.create(null),progressHandlers=new Map,timer,messageQueue=new linkedMap_1.LinkedMap,responsePromises=Object.create(null),requestTokens=Object.create(null),trace=Trace.Off,traceFormat=TraceFormat.Text,tracer,state=ConnectionState.New,errorEmitter=new events_1.Emitter,closeEmitter=new events_1.Emitter,unhandledNotificationEmitter=new events_1.Emitter,unhandledProgressEmitter=new events_1.Emitter,disposeEmitter=new events_1.Emitter,cancellationStrategy=options&&options.cancellationStrategy?options.cancellationStrategy:CancellationStrategy.Message;function createRequestQueueKey(id){if(id===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+id.toString()}function createResponseQueueKey(id){return id===null?"res-unknown-"+(++unknownResponseSquenceNumber).toString():"res-"+id.toString()}function createNotificationQueueKey(){return"not-"+(++notificationSquenceNumber).toString()}function addMessageToQueue(queue,message){messages_1.isRequestMessage(message)?queue.set(createRequestQueueKey(message.id),message):messages_1.isResponseMessage(message)?queue.set(createResponseQueueKey(message.id),message):queue.set(createNotificationQueueKey(),message)}function cancelUndispatched(_message){}function isListening(){return state===ConnectionState.Listening}function isClosed(){return state===ConnectionState.Closed}function isDisposed(){return state===ConnectionState.Disposed}function closeHandler(){(state===ConnectionState.New||state===ConnectionState.Listening)&&(state=ConnectionState.Closed,closeEmitter.fire(void 0))}function readErrorHandler(error){errorEmitter.fire([error,void 0,void 0])}function writeErrorHandler(data){errorEmitter.fire(data)}messageReader.onClose(closeHandler),messageReader.onError(readErrorHandler),messageWriter.onClose(closeHandler),messageWriter.onError(writeErrorHandler);function triggerMessageQueue(){timer||messageQueue.size===0||(timer=ral_1.default().timer.setImmediate(()=>{timer=void 0,processMessageQueue()}))}function processMessageQueue(){if(messageQueue.size===0)return;let message=messageQueue.shift();try{messages_1.isRequestMessage(message)?handleRequest(message):messages_1.isNotificationMessage(message)?handleNotification(message):messages_1.isResponseMessage(message)?handleResponse(message):handleInvalidMessage(message)}finally{triggerMessageQueue()}}let callback=message=>{try{if(messages_1.isNotificationMessage(message)&&message.method===CancelNotification.type.method){let key=createRequestQueueKey(message.params.id),toCancel=messageQueue.get(key);if(messages_1.isRequestMessage(toCancel)){let strategy=options==null?void 0:options.connectionStrategy,response=strategy&&strategy.cancelUndispatched?strategy.cancelUndispatched(toCancel,cancelUndispatched):void 0;if(response&&(response.error!==void 0||response.result!==void 0)){messageQueue.delete(key),response.id=toCancel.id,traceSendingResponse(response,message.method,Date.now()),messageWriter.write(response);return}}}addMessageToQueue(messageQueue,message)}finally{triggerMessageQueue()}};function handleRequest(requestMessage){if(isDisposed())return;function reply(resultOrError,method,startTime2){let message={jsonrpc:version,id:requestMessage.id};resultOrError instanceof messages_1.ResponseError?message.error=resultOrError.toJson():message.result=resultOrError===void 0?null:resultOrError,traceSendingResponse(message,method,startTime2),messageWriter.write(message)}function replyError(error,method,startTime2){let message={jsonrpc:version,id:requestMessage.id,error:error.toJson()};traceSendingResponse(message,method,startTime2),messageWriter.write(message)}function replySuccess(result,method,startTime2){result===void 0&&(result=null);let message={jsonrpc:version,id:requestMessage.id,result};traceSendingResponse(message,method,startTime2),messageWriter.write(message)}traceReceivedRequest(requestMessage);let element=requestHandlers[requestMessage.method],type,requestHandler;element&&(type=element.type,requestHandler=element.handler);let startTime=Date.now();if(requestHandler||starRequestHandler){let tokenKey=String(requestMessage.id),cancellationSource=cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);requestTokens[tokenKey]=cancellationSource;try{let handlerResult;if(requestHandler)if(requestMessage.params===void 0){if(type!==void 0&&type.numberOfParams!==0){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,`Request ${requestMessage.method} defines ${type.numberOfParams} params but recevied none.`),requestMessage.method,startTime);return}handlerResult=requestHandler(cancellationSource.token)}else if(Array.isArray(requestMessage.params)){if(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byName){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,`Request ${requestMessage.method} defines parameters by name but received parameters by position`),requestMessage.method,startTime);return}handlerResult=requestHandler(...requestMessage.params,cancellationSource.token)}else{if(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byPosition){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,`Request ${requestMessage.method} defines parameters by position but received parameters by name`),requestMessage.method,startTime);return}handlerResult=requestHandler(requestMessage.params,cancellationSource.token)}else starRequestHandler&&(handlerResult=starRequestHandler(requestMessage.method,requestMessage.params,cancellationSource.token));let promise=handlerResult;handlerResult?promise.then?promise.then(resultOrError=>{delete requestTokens[tokenKey],reply(resultOrError,requestMessage.method,startTime)},error=>{delete requestTokens[tokenKey],error instanceof messages_1.ResponseError?replyError(error,requestMessage.method,startTime):error&&Is.string(error.message)?replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed with message: ${error.message}`),requestMessage.method,startTime):replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed unexpectedly without providing any details.`),requestMessage.method,startTime)}):(delete requestTokens[tokenKey],reply(handlerResult,requestMessage.method,startTime)):(delete requestTokens[tokenKey],replySuccess(handlerResult,requestMessage.method,startTime))}catch(error){delete requestTokens[tokenKey],error instanceof messages_1.ResponseError?reply(error,requestMessage.method,startTime):error&&Is.string(error.message)?replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed with message: ${error.message}`),requestMessage.method,startTime):replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed unexpectedly without providing any details.`),requestMessage.method,startTime)}}else replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound,`Unhandled method ${requestMessage.method}`),requestMessage.method,startTime)}function handleResponse(responseMessage){if(!isDisposed())if(responseMessage.id===null)responseMessage.error?logger.error(`Received response message without id: Error is: 
${JSON.stringify(responseMessage.error,void 0,4)}`):logger.error("Received response message without id. No further error information provided.");else{let key=String(responseMessage.id),responsePromise=responsePromises[key];if(traceReceivedResponse(responseMessage,responsePromise),responsePromise){delete responsePromises[key];try{if(responseMessage.error){let error=responseMessage.error;responsePromise.reject(new messages_1.ResponseError(error.code,error.message,error.data))}else if(responseMessage.result!==void 0)responsePromise.resolve(responseMessage.result);else throw new Error("Should never happen.")}catch(error){error.message?logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`):logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`)}}}}function handleNotification(message){if(isDisposed())return;let type,notificationHandler;if(message.method===CancelNotification.type.method)notificationHandler=params=>{let id=params.id,source=requestTokens[String(id)];source&&source.cancel()};else{let element=notificationHandlers[message.method];element&&(notificationHandler=element.handler,type=element.type)}if(notificationHandler||starNotificationHandler)try{traceReceivedNotification(message),notificationHandler?message.params===void 0?(type!==void 0&&type.numberOfParams!==0&&type.parameterStructures!==messages_1.ParameterStructures.byName&&logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but recevied none.`),notificationHandler()):Array.isArray(message.params)?(type!==void 0&&(type.parameterStructures===messages_1.ParameterStructures.byName&&logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`),type.numberOfParams!==message.params.length&&logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${message.params.length} argumennts`)),notificationHandler(...message.params)):(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byPosition&&logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`),notificationHandler(message.params)):starNotificationHandler&&starNotificationHandler(message.method,message.params)}catch(error){error.message?logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`):logger.error(`Notification handler '${message.method}' failed unexpectedly.`)}else unhandledNotificationEmitter.fire(message)}function handleInvalidMessage(message){if(!message){logger.error("Received empty message.");return}logger.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(message,null,4)}`);let responseMessage=message;if(Is.string(responseMessage.id)||Is.number(responseMessage.id)){let key=String(responseMessage.id),responseHandler=responsePromises[key];responseHandler&&responseHandler.reject(new Error("The received response has neither a result nor an error property."))}}function traceSendingRequest(message){if(!(trace===Trace.Off||!tracer))if(traceFormat===TraceFormat.Text){let data;trace===Trace.Verbose&&message.params&&(data=`Params: ${JSON.stringify(message.params,null,4)}

`),tracer.log(`Sending request '${message.method} - (${message.id})'.`,data)}else logLSPMessage("send-request",message)}function traceSendingNotification(message){if(!(trace===Trace.Off||!tracer))if(traceFormat===TraceFormat.Text){let data;trace===Trace.Verbose&&(message.params?data=`Params: ${JSON.stringify(message.params,null,4)}

`:data=`No parameters provided.

`),tracer.log(`Sending notification '${message.method}'.`,data)}else logLSPMessage("send-notification",message)}function traceSendingResponse(message,method,startTime){if(!(trace===Trace.Off||!tracer))if(traceFormat===TraceFormat.Text){let data;trace===Trace.Verbose&&(message.error&&message.error.data?data=`Error data: ${JSON.stringify(message.error.data,null,4)}

`:message.result?data=`Result: ${JSON.stringify(message.result,null,4)}

`:message.error===void 0&&(data=`No result returned.

`)),tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now()-startTime}ms`,data)}else logLSPMessage("send-response",message)}function traceReceivedRequest(message){if(!(trace===Trace.Off||!tracer))if(traceFormat===TraceFormat.Text){let data;trace===Trace.Verbose&&message.params&&(data=`Params: ${JSON.stringify(message.params,null,4)}

`),tracer.log(`Received request '${message.method} - (${message.id})'.`,data)}else logLSPMessage("receive-request",message)}function traceReceivedNotification(message){if(!(trace===Trace.Off||!tracer||message.method===LogTraceNotification.type.method))if(traceFormat===TraceFormat.Text){let data;trace===Trace.Verbose&&(message.params?data=`Params: ${JSON.stringify(message.params,null,4)}

`:data=`No parameters provided.

`),tracer.log(`Received notification '${message.method}'.`,data)}else logLSPMessage("receive-notification",message)}function traceReceivedResponse(message,responsePromise){if(!(trace===Trace.Off||!tracer))if(traceFormat===TraceFormat.Text){let data;if(trace===Trace.Verbose&&(message.error&&message.error.data?data=`Error data: ${JSON.stringify(message.error.data,null,4)}

`:message.result?data=`Result: ${JSON.stringify(message.result,null,4)}

`:message.error===void 0&&(data=`No result returned.

`)),responsePromise){let error=message.error?` Request failed: ${message.error.message} (${message.error.code}).`:"";tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now()-responsePromise.timerStart}ms.${error}`,data)}else tracer.log(`Received response ${message.id} without active response promise.`,data)}else logLSPMessage("receive-response",message)}function logLSPMessage(type,message){if(!tracer||trace===Trace.Off)return;let lspMessage={isLSPMessage:!0,type,message,timestamp:Date.now()};tracer.log(lspMessage)}function throwIfClosedOrDisposed(){if(isClosed())throw new ConnectionError(ConnectionErrors.Closed,"Connection is closed.");if(isDisposed())throw new ConnectionError(ConnectionErrors.Disposed,"Connection is disposed.")}function throwIfListening(){if(isListening())throw new ConnectionError(ConnectionErrors.AlreadyListening,"Connection is already listening")}function throwIfNotListening(){if(!isListening())throw new Error("Call listen() first.")}function undefinedToNull(param){return param===void 0?null:param}function nullToUndefined(param){if(param!==null)return param}function isNamedParam(param){return param!=null&&!Array.isArray(param)&&typeof param=="object"}function computeSingleParam(parameterStructures,param){switch(parameterStructures){case messages_1.ParameterStructures.auto:return isNamedParam(param)?nullToUndefined(param):[undefinedToNull(param)];case messages_1.ParameterStructures.byName:if(!isNamedParam(param))throw new Error("Recevied parameters by name but param is not an object literal.");return nullToUndefined(param);case messages_1.ParameterStructures.byPosition:return[undefinedToNull(param)];default:throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`)}}function computeMessageParams(type,params){let result,numberOfParams=type.numberOfParams;switch(numberOfParams){case 0:result=void 0;break;case 1:result=computeSingleParam(type.parameterStructures,params[0]);break;default:result=[];for(let i=0;i<params.length&&i<numberOfParams;i++)result.push(undefinedToNull(params[i]));if(params.length<numberOfParams)for(let i=params.length;i<numberOfParams;i++)result.push(null);break}return result}let connection={sendNotification:(type,...args)=>{throwIfClosedOrDisposed();let method,messageParams;if(Is.string(type)){method=type;let first=args[0],paramStart=0,parameterStructures=messages_1.ParameterStructures.auto;messages_1.ParameterStructures.is(first)&&(paramStart=1,parameterStructures=first);let paramEnd=args.length,numberOfParams=paramEnd-paramStart;switch(numberOfParams){case 0:messageParams=void 0;break;case 1:messageParams=computeSingleParam(parameterStructures,args[paramStart]);break;default:if(parameterStructures===messages_1.ParameterStructures.byName)throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' notification parameter structure.`);messageParams=args.slice(paramStart,paramEnd).map(value=>undefinedToNull(value));break}}else{let params=args;method=type.method,messageParams=computeMessageParams(type,params)}let notificationMessage={jsonrpc:version,method,params:messageParams};traceSendingNotification(notificationMessage),messageWriter.write(notificationMessage)},onNotification:(type,handler)=>{throwIfClosedOrDisposed();let method;return Is.func(type)?starNotificationHandler=type:handler&&(Is.string(type)?(method=type,notificationHandlers[type]={type:void 0,handler}):(method=type.method,notificationHandlers[type.method]={type,handler})),{dispose:()=>{method!==void 0?delete notificationHandlers[method]:starNotificationHandler=void 0}}},onProgress:(_type,token,handler)=>{if(progressHandlers.has(token))throw new Error(`Progress handler for token ${token} already registered`);return progressHandlers.set(token,handler),{dispose:()=>{progressHandlers.delete(token)}}},sendProgress:(_type,token,value)=>{connection.sendNotification(ProgressNotification.type,{token,value})},onUnhandledProgress:unhandledProgressEmitter.event,sendRequest:(type,...args)=>{throwIfClosedOrDisposed(),throwIfNotListening();let method,messageParams,token;if(Is.string(type)){method=type;let first=args[0],last=args[args.length-1],paramStart=0,parameterStructures=messages_1.ParameterStructures.auto;messages_1.ParameterStructures.is(first)&&(paramStart=1,parameterStructures=first);let paramEnd=args.length;cancellation_1.CancellationToken.is(last)&&(paramEnd=paramEnd-1,token=last);let numberOfParams=paramEnd-paramStart;switch(numberOfParams){case 0:messageParams=void 0;break;case 1:messageParams=computeSingleParam(parameterStructures,args[paramStart]);break;default:if(parameterStructures===messages_1.ParameterStructures.byName)throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' request parameter structure.`);messageParams=args.slice(paramStart,paramEnd).map(value=>undefinedToNull(value));break}}else{let params=args;method=type.method,messageParams=computeMessageParams(type,params);let numberOfParams=type.numberOfParams;token=cancellation_1.CancellationToken.is(params[numberOfParams])?params[numberOfParams]:void 0}let id=sequenceNumber++,disposable;return token&&(disposable=token.onCancellationRequested(()=>{cancellationStrategy.sender.sendCancellation(connection,id)})),new Promise((resolve,reject)=>{let requestMessage={jsonrpc:version,id,method,params:messageParams},resolveWithCleanup=r=>{resolve(r),cancellationStrategy.sender.cleanup(id),disposable==null||disposable.dispose()},rejectWithCleanup=r=>{reject(r),cancellationStrategy.sender.cleanup(id),disposable==null||disposable.dispose()},responsePromise={method,timerStart:Date.now(),resolve:resolveWithCleanup,reject:rejectWithCleanup};traceSendingRequest(requestMessage);try{messageWriter.write(requestMessage)}catch(e){responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),responsePromise=null}responsePromise&&(responsePromises[String(id)]=responsePromise)})},onRequest:(type,handler)=>{throwIfClosedOrDisposed();let method=null;return StarRequestHandler.is(type)?(method=void 0,starRequestHandler=type):Is.string(type)?(method=null,handler!==void 0&&(method=type,requestHandlers[type]={handler,type:void 0})):handler!==void 0&&(method=type.method,requestHandlers[type.method]={type,handler}),{dispose:()=>{method!==null&&(method!==void 0?delete requestHandlers[method]:starRequestHandler=void 0)}}},trace:(_value,_tracer,sendNotificationOrTraceOptions)=>{let _sendNotification=!1,_traceFormat=TraceFormat.Text;sendNotificationOrTraceOptions!==void 0&&(Is.boolean(sendNotificationOrTraceOptions)?_sendNotification=sendNotificationOrTraceOptions:(_sendNotification=sendNotificationOrTraceOptions.sendNotification||!1,_traceFormat=sendNotificationOrTraceOptions.traceFormat||TraceFormat.Text)),trace=_value,traceFormat=_traceFormat,trace===Trace.Off?tracer=void 0:tracer=_tracer,_sendNotification&&!isClosed()&&!isDisposed()&&connection.sendNotification(SetTraceNotification.type,{value:Trace.toString(_value)})},onError:errorEmitter.event,onClose:closeEmitter.event,onUnhandledNotification:unhandledNotificationEmitter.event,onDispose:disposeEmitter.event,end:()=>{messageWriter.end()},dispose:()=>{if(isDisposed())return;state=ConnectionState.Disposed,disposeEmitter.fire(void 0);let error=new Error("Connection got disposed.");Object.keys(responsePromises).forEach(key=>{responsePromises[key].reject(error)}),responsePromises=Object.create(null),requestTokens=Object.create(null),messageQueue=new linkedMap_1.LinkedMap,Is.func(messageWriter.dispose)&&messageWriter.dispose(),Is.func(messageReader.dispose)&&messageReader.dispose()},listen:()=>{throwIfClosedOrDisposed(),throwIfListening(),state=ConnectionState.Listening,messageReader.listen(callback)},inspect:()=>{ral_1.default().console.log("inspect")}};return connection.onNotification(LogTraceNotification.type,params=>{trace===Trace.Off||!tracer||tracer.log(params.message,trace===Trace.Verbose?params.verbose:void 0)}),connection.onNotification(ProgressNotification.type,params=>{let handler=progressHandlers.get(params.token);handler?handler(params.value):unhandledProgressEmitter.fire(params)}),connection}exports.createMessageConnection=createMessageConnection}});var require_api2=__commonJS({"../node_modules/vscode-jsonrpc/lib/common/api.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.CancellationSenderStrategy=exports.CancellationReceiverStrategy=exports.ConnectionError=exports.ConnectionErrors=exports.LogTraceNotification=exports.SetTraceNotification=exports.TraceFormat=exports.Trace=exports.ProgressType=exports.createMessageConnection=exports.NullLogger=exports.ConnectionOptions=exports.ConnectionStrategy=exports.WriteableStreamMessageWriter=exports.AbstractMessageWriter=exports.MessageWriter=exports.ReadableStreamMessageReader=exports.AbstractMessageReader=exports.MessageReader=exports.CancellationToken=exports.CancellationTokenSource=exports.Emitter=exports.Event=exports.Disposable=exports.ParameterStructures=exports.NotificationType9=exports.NotificationType8=exports.NotificationType7=exports.NotificationType6=exports.NotificationType5=exports.NotificationType4=exports.NotificationType3=exports.NotificationType2=exports.NotificationType1=exports.NotificationType0=exports.NotificationType=exports.ErrorCodes=exports.ResponseError=exports.RequestType9=exports.RequestType8=exports.RequestType7=exports.RequestType6=exports.RequestType5=exports.RequestType4=exports.RequestType3=exports.RequestType2=exports.RequestType1=exports.RequestType0=exports.RequestType=exports.RAL=void 0;exports.CancellationStrategy=void 0;var messages_1=require_messages();Object.defineProperty(exports,"RequestType",{enumerable:!0,get:function(){return messages_1.RequestType}});Object.defineProperty(exports,"RequestType0",{enumerable:!0,get:function(){return messages_1.RequestType0}});Object.defineProperty(exports,"RequestType1",{enumerable:!0,get:function(){return messages_1.RequestType1}});Object.defineProperty(exports,"RequestType2",{enumerable:!0,get:function(){return messages_1.RequestType2}});Object.defineProperty(exports,"RequestType3",{enumerable:!0,get:function(){return messages_1.RequestType3}});Object.defineProperty(exports,"RequestType4",{enumerable:!0,get:function(){return messages_1.RequestType4}});Object.defineProperty(exports,"RequestType5",{enumerable:!0,get:function(){return messages_1.RequestType5}});Object.defineProperty(exports,"RequestType6",{enumerable:!0,get:function(){return messages_1.RequestType6}});Object.defineProperty(exports,"RequestType7",{enumerable:!0,get:function(){return messages_1.RequestType7}});Object.defineProperty(exports,"RequestType8",{enumerable:!0,get:function(){return messages_1.RequestType8}});Object.defineProperty(exports,"RequestType9",{enumerable:!0,get:function(){return messages_1.RequestType9}});Object.defineProperty(exports,"ResponseError",{enumerable:!0,get:function(){return messages_1.ResponseError}});Object.defineProperty(exports,"ErrorCodes",{enumerable:!0,get:function(){return messages_1.ErrorCodes}});Object.defineProperty(exports,"NotificationType",{enumerable:!0,get:function(){return messages_1.NotificationType}});Object.defineProperty(exports,"NotificationType0",{enumerable:!0,get:function(){return messages_1.NotificationType0}});Object.defineProperty(exports,"NotificationType1",{enumerable:!0,get:function(){return messages_1.NotificationType1}});Object.defineProperty(exports,"NotificationType2",{enumerable:!0,get:function(){return messages_1.NotificationType2}});Object.defineProperty(exports,"NotificationType3",{enumerable:!0,get:function(){return messages_1.NotificationType3}});Object.defineProperty(exports,"NotificationType4",{enumerable:!0,get:function(){return messages_1.NotificationType4}});Object.defineProperty(exports,"NotificationType5",{enumerable:!0,get:function(){return messages_1.NotificationType5}});Object.defineProperty(exports,"NotificationType6",{enumerable:!0,get:function(){return messages_1.NotificationType6}});Object.defineProperty(exports,"NotificationType7",{enumerable:!0,get:function(){return messages_1.NotificationType7}});Object.defineProperty(exports,"NotificationType8",{enumerable:!0,get:function(){return messages_1.NotificationType8}});Object.defineProperty(exports,"NotificationType9",{enumerable:!0,get:function(){return messages_1.NotificationType9}});Object.defineProperty(exports,"ParameterStructures",{enumerable:!0,get:function(){return messages_1.ParameterStructures}});var disposable_1=require_disposable();Object.defineProperty(exports,"Disposable",{enumerable:!0,get:function(){return disposable_1.Disposable}});var events_1=require_events();Object.defineProperty(exports,"Event",{enumerable:!0,get:function(){return events_1.Event}});Object.defineProperty(exports,"Emitter",{enumerable:!0,get:function(){return events_1.Emitter}});var cancellation_1=require_cancellation();Object.defineProperty(exports,"CancellationTokenSource",{enumerable:!0,get:function(){return cancellation_1.CancellationTokenSource}});Object.defineProperty(exports,"CancellationToken",{enumerable:!0,get:function(){return cancellation_1.CancellationToken}});var messageReader_1=require_messageReader();Object.defineProperty(exports,"MessageReader",{enumerable:!0,get:function(){return messageReader_1.MessageReader}});Object.defineProperty(exports,"AbstractMessageReader",{enumerable:!0,get:function(){return messageReader_1.AbstractMessageReader}});Object.defineProperty(exports,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return messageReader_1.ReadableStreamMessageReader}});var messageWriter_1=require_messageWriter();Object.defineProperty(exports,"MessageWriter",{enumerable:!0,get:function(){return messageWriter_1.MessageWriter}});Object.defineProperty(exports,"AbstractMessageWriter",{enumerable:!0,get:function(){return messageWriter_1.AbstractMessageWriter}});Object.defineProperty(exports,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return messageWriter_1.WriteableStreamMessageWriter}});var connection_1=require_connection();Object.defineProperty(exports,"ConnectionStrategy",{enumerable:!0,get:function(){return connection_1.ConnectionStrategy}});Object.defineProperty(exports,"ConnectionOptions",{enumerable:!0,get:function(){return connection_1.ConnectionOptions}});Object.defineProperty(exports,"NullLogger",{enumerable:!0,get:function(){return connection_1.NullLogger}});Object.defineProperty(exports,"createMessageConnection",{enumerable:!0,get:function(){return connection_1.createMessageConnection}});Object.defineProperty(exports,"ProgressType",{enumerable:!0,get:function(){return connection_1.ProgressType}});Object.defineProperty(exports,"Trace",{enumerable:!0,get:function(){return connection_1.Trace}});Object.defineProperty(exports,"TraceFormat",{enumerable:!0,get:function(){return connection_1.TraceFormat}});Object.defineProperty(exports,"SetTraceNotification",{enumerable:!0,get:function(){return connection_1.SetTraceNotification}});Object.defineProperty(exports,"LogTraceNotification",{enumerable:!0,get:function(){return connection_1.LogTraceNotification}});Object.defineProperty(exports,"ConnectionErrors",{enumerable:!0,get:function(){return connection_1.ConnectionErrors}});Object.defineProperty(exports,"ConnectionError",{enumerable:!0,get:function(){return connection_1.ConnectionError}});Object.defineProperty(exports,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return connection_1.CancellationReceiverStrategy}});Object.defineProperty(exports,"CancellationSenderStrategy",{enumerable:!0,get:function(){return connection_1.CancellationSenderStrategy}});Object.defineProperty(exports,"CancellationStrategy",{enumerable:!0,get:function(){return connection_1.CancellationStrategy}});var ral_1=require_ral();exports.RAL=ral_1.default}});var require_main=__commonJS({"../node_modules/vscode-jsonrpc/lib/node/main.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]}),__exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p)&&__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:!0});exports.createMessageConnection=exports.createServerSocketTransport=exports.createClientSocketTransport=exports.createServerPipeTransport=exports.createClientPipeTransport=exports.generateRandomPipeName=exports.StreamMessageWriter=exports.StreamMessageReader=exports.SocketMessageWriter=exports.SocketMessageReader=exports.IPCMessageWriter=exports.IPCMessageReader=void 0;var ril_1=require_ril();ril_1.default.install();var api_1=require_api2(),path4=require("path"),os=require("os"),crypto_1=require("crypto"),net_1=require("net");__exportStar(require_api2(),exports);var IPCMessageReader=class extends api_1.AbstractMessageReader{constructor(process2){super();this.process=process2;let eventEmitter=this.process;eventEmitter.on("error",error=>this.fireError(error)),eventEmitter.on("close",()=>this.fireClose())}listen(callback){return this.process.on("message",callback),api_1.Disposable.create(()=>this.process.off("message",callback))}};exports.IPCMessageReader=IPCMessageReader;var IPCMessageWriter=class extends api_1.AbstractMessageWriter{constructor(process2){super();this.process=process2,this.errorCount=0;let eventEmitter=this.process;eventEmitter.on("error",error=>this.fireError(error)),eventEmitter.on("close",()=>this.fireClose)}write(msg){try{return typeof this.process.send=="function"&&this.process.send(msg,void 0,void 0,error=>{error?(this.errorCount++,this.handleError(error,msg)):this.errorCount=0}),Promise.resolve()}catch(error){return this.handleError(error,msg),Promise.reject(error)}}handleError(error,msg){this.errorCount++,this.fireError(error,msg,this.errorCount)}end(){}};exports.IPCMessageWriter=IPCMessageWriter;var SocketMessageReader=class extends api_1.ReadableStreamMessageReader{constructor(socket,encoding="utf-8"){super(ril_1.default().stream.asReadableStream(socket),encoding)}};exports.SocketMessageReader=SocketMessageReader;var SocketMessageWriter=class extends api_1.WriteableStreamMessageWriter{constructor(socket,options){super(ril_1.default().stream.asWritableStream(socket),options);this.socket=socket}dispose(){super.dispose(),this.socket.destroy()}};exports.SocketMessageWriter=SocketMessageWriter;var StreamMessageReader=class extends api_1.ReadableStreamMessageReader{constructor(readble,encoding){super(ril_1.default().stream.asReadableStream(readble),encoding)}};exports.StreamMessageReader=StreamMessageReader;var StreamMessageWriter=class extends api_1.WriteableStreamMessageWriter{constructor(writable,options){super(ril_1.default().stream.asWritableStream(writable),options)}};exports.StreamMessageWriter=StreamMessageWriter;var XDG_RUNTIME_DIR=process.env.XDG_RUNTIME_DIR,safeIpcPathLengths=new Map([["linux",107],["darwin",103]]);function generateRandomPipeName(){let randomSuffix=crypto_1.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${randomSuffix}-sock`;let result;XDG_RUNTIME_DIR?result=path4.join(XDG_RUNTIME_DIR,`vscode-ipc-${randomSuffix}.sock`):result=path4.join(os.tmpdir(),`vscode-${randomSuffix}.sock`);let limit=safeIpcPathLengths.get(process.platform);return limit!==void 0&&result.length>=limit&&ril_1.default().console.warn(`WARNING: IPC handle "${result}" is longer than ${limit} characters.`),result}exports.generateRandomPipeName=generateRandomPipeName;function createClientPipeTransport(pipeName,encoding="utf-8"){let connectResolve,connected=new Promise((resolve,_reject)=>{connectResolve=resolve});return new Promise((resolve,reject)=>{let server=net_1.createServer(socket=>{server.close(),connectResolve([new SocketMessageReader(socket,encoding),new SocketMessageWriter(socket,encoding)])});server.on("error",reject),server.listen(pipeName,()=>{server.removeListener("error",reject),resolve({onConnected:()=>connected})})})}exports.createClientPipeTransport=createClientPipeTransport;function createServerPipeTransport(pipeName,encoding="utf-8"){let socket=net_1.createConnection(pipeName);return[new SocketMessageReader(socket,encoding),new SocketMessageWriter(socket,encoding)]}exports.createServerPipeTransport=createServerPipeTransport;function createClientSocketTransport(port,encoding="utf-8"){let connectResolve,connected=new Promise((resolve,_reject)=>{connectResolve=resolve});return new Promise((resolve,reject)=>{let server=net_1.createServer(socket=>{server.close(),connectResolve([new SocketMessageReader(socket,encoding),new SocketMessageWriter(socket,encoding)])});server.on("error",reject),server.listen(port,"127.0.0.1",()=>{server.removeListener("error",reject),resolve({onConnected:()=>connected})})})}exports.createClientSocketTransport=createClientSocketTransport;function createServerSocketTransport(port,encoding="utf-8"){let socket=net_1.createConnection(port,"127.0.0.1");return[new SocketMessageReader(socket,encoding),new SocketMessageWriter(socket,encoding)]}exports.createServerSocketTransport=createServerSocketTransport;function isReadableStream(value){let candidate=value;return candidate.read!==void 0&&candidate.addListener!==void 0}function isWritableStream(value){let candidate=value;return candidate.write!==void 0&&candidate.addListener!==void 0}function createMessageConnection(input,output,logger,options){logger||(logger=api_1.NullLogger);let reader=isReadableStream(input)?new StreamMessageReader(input):input,writer=isWritableStream(output)?new StreamMessageWriter(output):output;return api_1.ConnectionStrategy.is(options)&&(options={connectionStrategy:options}),api_1.createMessageConnection(reader,writer,logger,options)}exports.createMessageConnection=createMessageConnection}});var require_node3=__commonJS({"../node_modules/vscode-jsonrpc/node.js"(exports,module2){"use strict";module2.exports=require_main()}});var require_main2=__commonJS({"../node_modules/vscode-languageserver-protocol/node_modules/vscode-languageserver-types/lib/umd/main.js"(exports,module2){(function(factory){if(typeof module2=="object"&&typeof module2.exports=="object"){var v=factory(require,exports);v!==void 0&&(module2.exports=v)}else typeof define=="function"&&define.amd&&define(["require","exports"],factory)})(function(require2,exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.TextDocument=exports2.EOL=exports2.SelectionRange=exports2.DocumentLink=exports2.FormattingOptions=exports2.CodeLens=exports2.CodeAction=exports2.CodeActionContext=exports2.CodeActionKind=exports2.DocumentSymbol=exports2.SymbolInformation=exports2.SymbolTag=exports2.SymbolKind=exports2.DocumentHighlight=exports2.DocumentHighlightKind=exports2.SignatureInformation=exports2.ParameterInformation=exports2.Hover=exports2.MarkedString=exports2.CompletionList=exports2.CompletionItem=exports2.InsertTextMode=exports2.InsertReplaceEdit=exports2.CompletionItemTag=exports2.InsertTextFormat=exports2.CompletionItemKind=exports2.MarkupContent=exports2.MarkupKind=exports2.TextDocumentItem=exports2.OptionalVersionedTextDocumentIdentifier=exports2.VersionedTextDocumentIdentifier=exports2.TextDocumentIdentifier=exports2.WorkspaceChange=exports2.WorkspaceEdit=exports2.DeleteFile=exports2.RenameFile=exports2.CreateFile=exports2.TextDocumentEdit=exports2.AnnotatedTextEdit=exports2.ChangeAnnotationIdentifier=exports2.ChangeAnnotation=exports2.TextEdit=exports2.Command=exports2.Diagnostic=exports2.CodeDescription=exports2.DiagnosticTag=exports2.DiagnosticSeverity=exports2.DiagnosticRelatedInformation=exports2.FoldingRange=exports2.FoldingRangeKind=exports2.ColorPresentation=exports2.ColorInformation=exports2.Color=exports2.LocationLink=exports2.Location=exports2.Range=exports2.Position=exports2.uinteger=exports2.integer=void 0;var integer;(function(integer2){integer2.MIN_VALUE=-2147483648,integer2.MAX_VALUE=2147483647})(integer=exports2.integer||(exports2.integer={}));var uinteger;(function(uinteger2){uinteger2.MIN_VALUE=0,uinteger2.MAX_VALUE=2147483647})(uinteger=exports2.uinteger||(exports2.uinteger={}));var Position2;(function(Position3){function create(line,character){return line===Number.MAX_VALUE&&(line=uinteger.MAX_VALUE),character===Number.MAX_VALUE&&(character=uinteger.MAX_VALUE),{line,character}}Position3.create=create;function is(value){var candidate=value;return Is.objectLiteral(candidate)&&Is.uinteger(candidate.line)&&Is.uinteger(candidate.character)}Position3.is=is})(Position2=exports2.Position||(exports2.Position={}));var Range;(function(Range2){function create(one,two,three,four){if(Is.uinteger(one)&&Is.uinteger(two)&&Is.uinteger(three)&&Is.uinteger(four))return{start:Position2.create(one,two),end:Position2.create(three,four)};if(Position2.is(one)&&Position2.is(two))return{start:one,end:two};throw new Error("Range#create called with invalid arguments["+one+", "+two+", "+three+", "+four+"]")}Range2.create=create;function is(value){var candidate=value;return Is.objectLiteral(candidate)&&Position2.is(candidate.start)&&Position2.is(candidate.end)}Range2.is=is})(Range=exports2.Range||(exports2.Range={}));var Location;(function(Location2){function create(uri,range){return{uri,range}}Location2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.string(candidate.uri)||Is.undefined(candidate.uri))}Location2.is=is})(Location=exports2.Location||(exports2.Location={}));var LocationLink;(function(LocationLink2){function create(targetUri,targetRange,targetSelectionRange,originSelectionRange){return{targetUri,targetRange,targetSelectionRange,originSelectionRange}}LocationLink2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.targetRange)&&Is.string(candidate.targetUri)&&(Range.is(candidate.targetSelectionRange)||Is.undefined(candidate.targetSelectionRange))&&(Range.is(candidate.originSelectionRange)||Is.undefined(candidate.originSelectionRange))}LocationLink2.is=is})(LocationLink=exports2.LocationLink||(exports2.LocationLink={}));var Color;(function(Color2){function create(red,green,blue,alpha){return{red,green,blue,alpha}}Color2.create=create;function is(value){var candidate=value;return Is.numberRange(candidate.red,0,1)&&Is.numberRange(candidate.green,0,1)&&Is.numberRange(candidate.blue,0,1)&&Is.numberRange(candidate.alpha,0,1)}Color2.is=is})(Color=exports2.Color||(exports2.Color={}));var ColorInformation;(function(ColorInformation2){function create(range,color){return{range,color}}ColorInformation2.create=create;function is(value){var candidate=value;return Range.is(candidate.range)&&Color.is(candidate.color)}ColorInformation2.is=is})(ColorInformation=exports2.ColorInformation||(exports2.ColorInformation={}));var ColorPresentation;(function(ColorPresentation2){function create(label,textEdit,additionalTextEdits){return{label,textEdit,additionalTextEdits}}ColorPresentation2.create=create;function is(value){var candidate=value;return Is.string(candidate.label)&&(Is.undefined(candidate.textEdit)||TextEdit.is(candidate))&&(Is.undefined(candidate.additionalTextEdits)||Is.typedArray(candidate.additionalTextEdits,TextEdit.is))}ColorPresentation2.is=is})(ColorPresentation=exports2.ColorPresentation||(exports2.ColorPresentation={}));var FoldingRangeKind;(function(FoldingRangeKind2){FoldingRangeKind2.Comment="comment",FoldingRangeKind2.Imports="imports",FoldingRangeKind2.Region="region"})(FoldingRangeKind=exports2.FoldingRangeKind||(exports2.FoldingRangeKind={}));var FoldingRange;(function(FoldingRange2){function create(startLine,endLine,startCharacter,endCharacter,kind){var result={startLine,endLine};return Is.defined(startCharacter)&&(result.startCharacter=startCharacter),Is.defined(endCharacter)&&(result.endCharacter=endCharacter),Is.defined(kind)&&(result.kind=kind),result}FoldingRange2.create=create;function is(value){var candidate=value;return Is.uinteger(candidate.startLine)&&Is.uinteger(candidate.startLine)&&(Is.undefined(candidate.startCharacter)||Is.uinteger(candidate.startCharacter))&&(Is.undefined(candidate.endCharacter)||Is.uinteger(candidate.endCharacter))&&(Is.undefined(candidate.kind)||Is.string(candidate.kind))}FoldingRange2.is=is})(FoldingRange=exports2.FoldingRange||(exports2.FoldingRange={}));var DiagnosticRelatedInformation;(function(DiagnosticRelatedInformation2){function create(location,message){return{location,message}}DiagnosticRelatedInformation2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Location.is(candidate.location)&&Is.string(candidate.message)}DiagnosticRelatedInformation2.is=is})(DiagnosticRelatedInformation=exports2.DiagnosticRelatedInformation||(exports2.DiagnosticRelatedInformation={}));var DiagnosticSeverity;(function(DiagnosticSeverity2){DiagnosticSeverity2.Error=1,DiagnosticSeverity2.Warning=2,DiagnosticSeverity2.Information=3,DiagnosticSeverity2.Hint=4})(DiagnosticSeverity=exports2.DiagnosticSeverity||(exports2.DiagnosticSeverity={}));var DiagnosticTag;(function(DiagnosticTag2){DiagnosticTag2.Unnecessary=1,DiagnosticTag2.Deprecated=2})(DiagnosticTag=exports2.DiagnosticTag||(exports2.DiagnosticTag={}));var CodeDescription;(function(CodeDescription2){function is(value){var candidate=value;return candidate!=null&&Is.string(candidate.href)}CodeDescription2.is=is})(CodeDescription=exports2.CodeDescription||(exports2.CodeDescription={}));var Diagnostic;(function(Diagnostic2){function create(range,message,severity,code,source,relatedInformation){var result={range,message};return Is.defined(severity)&&(result.severity=severity),Is.defined(code)&&(result.code=code),Is.defined(source)&&(result.source=source),Is.defined(relatedInformation)&&(result.relatedInformation=relatedInformation),result}Diagnostic2.create=create;function is(value){var _a,candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&Is.string(candidate.message)&&(Is.number(candidate.severity)||Is.undefined(candidate.severity))&&(Is.integer(candidate.code)||Is.string(candidate.code)||Is.undefined(candidate.code))&&(Is.undefined(candidate.codeDescription)||Is.string((_a=candidate.codeDescription)===null||_a===void 0?void 0:_a.href))&&(Is.string(candidate.source)||Is.undefined(candidate.source))&&(Is.undefined(candidate.relatedInformation)||Is.typedArray(candidate.relatedInformation,DiagnosticRelatedInformation.is))}Diagnostic2.is=is})(Diagnostic=exports2.Diagnostic||(exports2.Diagnostic={}));var Command2;(function(Command3){function create(title,command){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var result={title,command};return Is.defined(args)&&args.length>0&&(result.arguments=args),result}Command3.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.title)&&Is.string(candidate.command)}Command3.is=is})(Command2=exports2.Command||(exports2.Command={}));var TextEdit;(function(TextEdit2){function replace(range,newText){return{range,newText}}TextEdit2.replace=replace;function insert(position,newText){return{range:{start:position,end:position},newText}}TextEdit2.insert=insert;function del(range){return{range,newText:""}}TextEdit2.del=del;function is(value){var candidate=value;return Is.objectLiteral(candidate)&&Is.string(candidate.newText)&&Range.is(candidate.range)}TextEdit2.is=is})(TextEdit=exports2.TextEdit||(exports2.TextEdit={}));var ChangeAnnotation;(function(ChangeAnnotation2){function create(label,needsConfirmation,description){var result={label};return needsConfirmation!==void 0&&(result.needsConfirmation=needsConfirmation),description!==void 0&&(result.description=description),result}ChangeAnnotation2.create=create;function is(value){var candidate=value;return candidate!==void 0&&Is.objectLiteral(candidate)&&Is.string(candidate.label)&&(Is.boolean(candidate.needsConfirmation)||candidate.needsConfirmation===void 0)&&(Is.string(candidate.description)||candidate.description===void 0)}ChangeAnnotation2.is=is})(ChangeAnnotation=exports2.ChangeAnnotation||(exports2.ChangeAnnotation={}));var ChangeAnnotationIdentifier;(function(ChangeAnnotationIdentifier2){function is(value){var candidate=value;return typeof candidate=="string"}ChangeAnnotationIdentifier2.is=is})(ChangeAnnotationIdentifier=exports2.ChangeAnnotationIdentifier||(exports2.ChangeAnnotationIdentifier={}));var AnnotatedTextEdit;(function(AnnotatedTextEdit2){function replace(range,newText,annotation){return{range,newText,annotationId:annotation}}AnnotatedTextEdit2.replace=replace;function insert(position,newText,annotation){return{range:{start:position,end:position},newText,annotationId:annotation}}AnnotatedTextEdit2.insert=insert;function del(range,annotation){return{range,newText:"",annotationId:annotation}}AnnotatedTextEdit2.del=del;function is(value){var candidate=value;return TextEdit.is(candidate)&&(ChangeAnnotation.is(candidate.annotationId)||ChangeAnnotationIdentifier.is(candidate.annotationId))}AnnotatedTextEdit2.is=is})(AnnotatedTextEdit=exports2.AnnotatedTextEdit||(exports2.AnnotatedTextEdit={}));var TextDocumentEdit;(function(TextDocumentEdit2){function create(textDocument,edits){return{textDocument,edits}}TextDocumentEdit2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)&&Array.isArray(candidate.edits)}TextDocumentEdit2.is=is})(TextDocumentEdit=exports2.TextDocumentEdit||(exports2.TextDocumentEdit={}));var CreateFile;(function(CreateFile2){function create(uri,options,annotation){var result={kind:"create",uri};return options!==void 0&&(options.overwrite!==void 0||options.ignoreIfExists!==void 0)&&(result.options=options),annotation!==void 0&&(result.annotationId=annotation),result}CreateFile2.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="create"&&Is.string(candidate.uri)&&(candidate.options===void 0||(candidate.options.overwrite===void 0||Is.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===void 0||Is.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId))}CreateFile2.is=is})(CreateFile=exports2.CreateFile||(exports2.CreateFile={}));var RenameFile;(function(RenameFile2){function create(oldUri,newUri,options,annotation){var result={kind:"rename",oldUri,newUri};return options!==void 0&&(options.overwrite!==void 0||options.ignoreIfExists!==void 0)&&(result.options=options),annotation!==void 0&&(result.annotationId=annotation),result}RenameFile2.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="rename"&&Is.string(candidate.oldUri)&&Is.string(candidate.newUri)&&(candidate.options===void 0||(candidate.options.overwrite===void 0||Is.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===void 0||Is.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId))}RenameFile2.is=is})(RenameFile=exports2.RenameFile||(exports2.RenameFile={}));var DeleteFile;(function(DeleteFile2){function create(uri,options,annotation){var result={kind:"delete",uri};return options!==void 0&&(options.recursive!==void 0||options.ignoreIfNotExists!==void 0)&&(result.options=options),annotation!==void 0&&(result.annotationId=annotation),result}DeleteFile2.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="delete"&&Is.string(candidate.uri)&&(candidate.options===void 0||(candidate.options.recursive===void 0||Is.boolean(candidate.options.recursive))&&(candidate.options.ignoreIfNotExists===void 0||Is.boolean(candidate.options.ignoreIfNotExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId))}DeleteFile2.is=is})(DeleteFile=exports2.DeleteFile||(exports2.DeleteFile={}));var WorkspaceEdit;(function(WorkspaceEdit2){function is(value){var candidate=value;return candidate&&(candidate.changes!==void 0||candidate.documentChanges!==void 0)&&(candidate.documentChanges===void 0||candidate.documentChanges.every(function(change){return Is.string(change.kind)?CreateFile.is(change)||RenameFile.is(change)||DeleteFile.is(change):TextDocumentEdit.is(change)}))}WorkspaceEdit2.is=is})(WorkspaceEdit=exports2.WorkspaceEdit||(exports2.WorkspaceEdit={}));var TextEditChangeImpl=function(){function TextEditChangeImpl2(edits,changeAnnotations){this.edits=edits,this.changeAnnotations=changeAnnotations}return TextEditChangeImpl2.prototype.insert=function(position,newText,annotation){var edit,id;if(annotation===void 0?edit=TextEdit.insert(position,newText):ChangeAnnotationIdentifier.is(annotation)?(id=annotation,edit=AnnotatedTextEdit.insert(position,newText,annotation)):(this.assertChangeAnnotations(this.changeAnnotations),id=this.changeAnnotations.manage(annotation),edit=AnnotatedTextEdit.insert(position,newText,id)),this.edits.push(edit),id!==void 0)return id},TextEditChangeImpl2.prototype.replace=function(range,newText,annotation){var edit,id;if(annotation===void 0?edit=TextEdit.replace(range,newText):ChangeAnnotationIdentifier.is(annotation)?(id=annotation,edit=AnnotatedTextEdit.replace(range,newText,annotation)):(this.assertChangeAnnotations(this.changeAnnotations),id=this.changeAnnotations.manage(annotation),edit=AnnotatedTextEdit.replace(range,newText,id)),this.edits.push(edit),id!==void 0)return id},TextEditChangeImpl2.prototype.delete=function(range,annotation){var edit,id;if(annotation===void 0?edit=TextEdit.del(range):ChangeAnnotationIdentifier.is(annotation)?(id=annotation,edit=AnnotatedTextEdit.del(range,annotation)):(this.assertChangeAnnotations(this.changeAnnotations),id=this.changeAnnotations.manage(annotation),edit=AnnotatedTextEdit.del(range,id)),this.edits.push(edit),id!==void 0)return id},TextEditChangeImpl2.prototype.add=function(edit){this.edits.push(edit)},TextEditChangeImpl2.prototype.all=function(){return this.edits},TextEditChangeImpl2.prototype.clear=function(){this.edits.splice(0,this.edits.length)},TextEditChangeImpl2.prototype.assertChangeAnnotations=function(value){if(value===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},TextEditChangeImpl2}(),ChangeAnnotations=function(){function ChangeAnnotations2(annotations){this._annotations=annotations===void 0?Object.create(null):annotations,this._counter=0,this._size=0}return ChangeAnnotations2.prototype.all=function(){return this._annotations},Object.defineProperty(ChangeAnnotations2.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),ChangeAnnotations2.prototype.manage=function(idOrAnnotation,annotation){var id;if(ChangeAnnotationIdentifier.is(idOrAnnotation)?id=idOrAnnotation:(id=this.nextId(),annotation=idOrAnnotation),this._annotations[id]!==void 0)throw new Error("Id "+id+" is already in use.");if(annotation===void 0)throw new Error("No annotation provided for id "+id);return this._annotations[id]=annotation,this._size++,id},ChangeAnnotations2.prototype.nextId=function(){return this._counter++,this._counter.toString()},ChangeAnnotations2}(),WorkspaceChange=function(){function WorkspaceChange2(workspaceEdit){var _this=this;this._textEditChanges=Object.create(null),workspaceEdit!==void 0?(this._workspaceEdit=workspaceEdit,workspaceEdit.documentChanges?(this._changeAnnotations=new ChangeAnnotations(workspaceEdit.changeAnnotations),workspaceEdit.changeAnnotations=this._changeAnnotations.all(),workspaceEdit.documentChanges.forEach(function(change){if(TextDocumentEdit.is(change)){var textEditChange=new TextEditChangeImpl(change.edits,_this._changeAnnotations);_this._textEditChanges[change.textDocument.uri]=textEditChange}})):workspaceEdit.changes&&Object.keys(workspaceEdit.changes).forEach(function(key){var textEditChange=new TextEditChangeImpl(workspaceEdit.changes[key]);_this._textEditChanges[key]=textEditChange})):this._workspaceEdit={}}return Object.defineProperty(WorkspaceChange2.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),WorkspaceChange2.prototype.getTextEditChange=function(key){if(OptionalVersionedTextDocumentIdentifier.is(key)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var textDocument={uri:key.uri,version:key.version},result=this._textEditChanges[textDocument.uri];if(!result){var edits=[],textDocumentEdit={textDocument,edits};this._workspaceEdit.documentChanges.push(textDocumentEdit),result=new TextEditChangeImpl(edits,this._changeAnnotations),this._textEditChanges[textDocument.uri]=result}return result}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var result=this._textEditChanges[key];if(!result){var edits=[];this._workspaceEdit.changes[key]=edits,result=new TextEditChangeImpl(edits),this._textEditChanges[key]=result}return result}},WorkspaceChange2.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ChangeAnnotations,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},WorkspaceChange2.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},WorkspaceChange2.prototype.createFile=function(uri,optionsOrAnnotation,options){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var annotation;ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)?annotation=optionsOrAnnotation:options=optionsOrAnnotation;var operation,id;if(annotation===void 0?operation=CreateFile.create(uri,options):(id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation),operation=CreateFile.create(uri,options,id)),this._workspaceEdit.documentChanges.push(operation),id!==void 0)return id},WorkspaceChange2.prototype.renameFile=function(oldUri,newUri,optionsOrAnnotation,options){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var annotation;ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)?annotation=optionsOrAnnotation:options=optionsOrAnnotation;var operation,id;if(annotation===void 0?operation=RenameFile.create(oldUri,newUri,options):(id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation),operation=RenameFile.create(oldUri,newUri,options,id)),this._workspaceEdit.documentChanges.push(operation),id!==void 0)return id},WorkspaceChange2.prototype.deleteFile=function(uri,optionsOrAnnotation,options){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var annotation;ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)?annotation=optionsOrAnnotation:options=optionsOrAnnotation;var operation,id;if(annotation===void 0?operation=DeleteFile.create(uri,options):(id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation),operation=DeleteFile.create(uri,options,id)),this._workspaceEdit.documentChanges.push(operation),id!==void 0)return id},WorkspaceChange2}();exports2.WorkspaceChange=WorkspaceChange;var TextDocumentIdentifier;(function(TextDocumentIdentifier2){function create(uri){return{uri}}TextDocumentIdentifier2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)}TextDocumentIdentifier2.is=is})(TextDocumentIdentifier=exports2.TextDocumentIdentifier||(exports2.TextDocumentIdentifier={}));var VersionedTextDocumentIdentifier;(function(VersionedTextDocumentIdentifier2){function create(uri,version){return{uri,version}}VersionedTextDocumentIdentifier2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&Is.integer(candidate.version)}VersionedTextDocumentIdentifier2.is=is})(VersionedTextDocumentIdentifier=exports2.VersionedTextDocumentIdentifier||(exports2.VersionedTextDocumentIdentifier={}));var OptionalVersionedTextDocumentIdentifier;(function(OptionalVersionedTextDocumentIdentifier2){function create(uri,version){return{uri,version}}OptionalVersionedTextDocumentIdentifier2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&(candidate.version===null||Is.integer(candidate.version))}OptionalVersionedTextDocumentIdentifier2.is=is})(OptionalVersionedTextDocumentIdentifier=exports2.OptionalVersionedTextDocumentIdentifier||(exports2.OptionalVersionedTextDocumentIdentifier={}));var TextDocumentItem;(function(TextDocumentItem2){function create(uri,languageId,version,text){return{uri,languageId,version,text}}TextDocumentItem2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&Is.string(candidate.languageId)&&Is.integer(candidate.version)&&Is.string(candidate.text)}TextDocumentItem2.is=is})(TextDocumentItem=exports2.TextDocumentItem||(exports2.TextDocumentItem={}));var MarkupKind;(function(MarkupKind2){MarkupKind2.PlainText="plaintext",MarkupKind2.Markdown="markdown"})(MarkupKind=exports2.MarkupKind||(exports2.MarkupKind={})),function(MarkupKind2){function is(value){var candidate=value;return candidate===MarkupKind2.PlainText||candidate===MarkupKind2.Markdown}MarkupKind2.is=is}(MarkupKind=exports2.MarkupKind||(exports2.MarkupKind={}));var MarkupContent;(function(MarkupContent2){function is(value){var candidate=value;return Is.objectLiteral(value)&&MarkupKind.is(candidate.kind)&&Is.string(candidate.value)}MarkupContent2.is=is})(MarkupContent=exports2.MarkupContent||(exports2.MarkupContent={}));var CompletionItemKind;(function(CompletionItemKind2){CompletionItemKind2.Text=1,CompletionItemKind2.Method=2,CompletionItemKind2.Function=3,CompletionItemKind2.Constructor=4,CompletionItemKind2.Field=5,CompletionItemKind2.Variable=6,CompletionItemKind2.Class=7,CompletionItemKind2.Interface=8,CompletionItemKind2.Module=9,CompletionItemKind2.Property=10,CompletionItemKind2.Unit=11,CompletionItemKind2.Value=12,CompletionItemKind2.Enum=13,CompletionItemKind2.Keyword=14,CompletionItemKind2.Snippet=15,CompletionItemKind2.Color=16,CompletionItemKind2.File=17,CompletionItemKind2.Reference=18,CompletionItemKind2.Folder=19,CompletionItemKind2.EnumMember=20,CompletionItemKind2.Constant=21,CompletionItemKind2.Struct=22,CompletionItemKind2.Event=23,CompletionItemKind2.Operator=24,CompletionItemKind2.TypeParameter=25})(CompletionItemKind=exports2.CompletionItemKind||(exports2.CompletionItemKind={}));var InsertTextFormat;(function(InsertTextFormat2){InsertTextFormat2.PlainText=1,InsertTextFormat2.Snippet=2})(InsertTextFormat=exports2.InsertTextFormat||(exports2.InsertTextFormat={}));var CompletionItemTag;(function(CompletionItemTag2){CompletionItemTag2.Deprecated=1})(CompletionItemTag=exports2.CompletionItemTag||(exports2.CompletionItemTag={}));var InsertReplaceEdit;(function(InsertReplaceEdit2){function create(newText,insert,replace){return{newText,insert,replace}}InsertReplaceEdit2.create=create;function is(value){var candidate=value;return candidate&&Is.string(candidate.newText)&&Range.is(candidate.insert)&&Range.is(candidate.replace)}InsertReplaceEdit2.is=is})(InsertReplaceEdit=exports2.InsertReplaceEdit||(exports2.InsertReplaceEdit={}));var InsertTextMode;(function(InsertTextMode2){InsertTextMode2.asIs=1,InsertTextMode2.adjustIndentation=2})(InsertTextMode=exports2.InsertTextMode||(exports2.InsertTextMode={}));var CompletionItem;(function(CompletionItem2){function create(label){return{label}}CompletionItem2.create=create})(CompletionItem=exports2.CompletionItem||(exports2.CompletionItem={}));var CompletionList;(function(CompletionList2){function create(items,isIncomplete){return{items:items||[],isIncomplete:!!isIncomplete}}CompletionList2.create=create})(CompletionList=exports2.CompletionList||(exports2.CompletionList={}));var MarkedString;(function(MarkedString2){function fromPlainText(plainText){return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}MarkedString2.fromPlainText=fromPlainText;function is(value){var candidate=value;return Is.string(candidate)||Is.objectLiteral(candidate)&&Is.string(candidate.language)&&Is.string(candidate.value)}MarkedString2.is=is})(MarkedString=exports2.MarkedString||(exports2.MarkedString={}));var Hover;(function(Hover2){function is(value){var candidate=value;return!!candidate&&Is.objectLiteral(candidate)&&(MarkupContent.is(candidate.contents)||MarkedString.is(candidate.contents)||Is.typedArray(candidate.contents,MarkedString.is))&&(value.range===void 0||Range.is(value.range))}Hover2.is=is})(Hover=exports2.Hover||(exports2.Hover={}));var ParameterInformation;(function(ParameterInformation2){function create(label,documentation){return documentation?{label,documentation}:{label}}ParameterInformation2.create=create})(ParameterInformation=exports2.ParameterInformation||(exports2.ParameterInformation={}));var SignatureInformation;(function(SignatureInformation2){function create(label,documentation){for(var parameters=[],_i=2;_i<arguments.length;_i++)parameters[_i-2]=arguments[_i];var result={label};return Is.defined(documentation)&&(result.documentation=documentation),Is.defined(parameters)?result.parameters=parameters:result.parameters=[],result}SignatureInformation2.create=create})(SignatureInformation=exports2.SignatureInformation||(exports2.SignatureInformation={}));var DocumentHighlightKind;(function(DocumentHighlightKind2){DocumentHighlightKind2.Text=1,DocumentHighlightKind2.Read=2,DocumentHighlightKind2.Write=3})(DocumentHighlightKind=exports2.DocumentHighlightKind||(exports2.DocumentHighlightKind={}));var DocumentHighlight;(function(DocumentHighlight2){function create(range,kind){var result={range};return Is.number(kind)&&(result.kind=kind),result}DocumentHighlight2.create=create})(DocumentHighlight=exports2.DocumentHighlight||(exports2.DocumentHighlight={}));var SymbolKind;(function(SymbolKind2){SymbolKind2.File=1,SymbolKind2.Module=2,SymbolKind2.Namespace=3,SymbolKind2.Package=4,SymbolKind2.Class=5,SymbolKind2.Method=6,SymbolKind2.Property=7,SymbolKind2.Field=8,SymbolKind2.Constructor=9,SymbolKind2.Enum=10,SymbolKind2.Interface=11,SymbolKind2.Function=12,SymbolKind2.Variable=13,SymbolKind2.Constant=14,SymbolKind2.String=15,SymbolKind2.Number=16,SymbolKind2.Boolean=17,SymbolKind2.Array=18,SymbolKind2.Object=19,SymbolKind2.Key=20,SymbolKind2.Null=21,SymbolKind2.EnumMember=22,SymbolKind2.Struct=23,SymbolKind2.Event=24,SymbolKind2.Operator=25,SymbolKind2.TypeParameter=26})(SymbolKind=exports2.SymbolKind||(exports2.SymbolKind={}));var SymbolTag;(function(SymbolTag2){SymbolTag2.Deprecated=1})(SymbolTag=exports2.SymbolTag||(exports2.SymbolTag={}));var SymbolInformation;(function(SymbolInformation2){function create(name,kind,range,uri,containerName){var result={name,kind,location:{uri,range}};return containerName&&(result.containerName=containerName),result}SymbolInformation2.create=create})(SymbolInformation=exports2.SymbolInformation||(exports2.SymbolInformation={}));var DocumentSymbol;(function(DocumentSymbol2){function create(name,detail,kind,range,selectionRange,children){var result={name,detail,kind,range,selectionRange};return children!==void 0&&(result.children=children),result}DocumentSymbol2.create=create;function is(value){var candidate=value;return candidate&&Is.string(candidate.name)&&Is.number(candidate.kind)&&Range.is(candidate.range)&&Range.is(candidate.selectionRange)&&(candidate.detail===void 0||Is.string(candidate.detail))&&(candidate.deprecated===void 0||Is.boolean(candidate.deprecated))&&(candidate.children===void 0||Array.isArray(candidate.children))&&(candidate.tags===void 0||Array.isArray(candidate.tags))}DocumentSymbol2.is=is})(DocumentSymbol=exports2.DocumentSymbol||(exports2.DocumentSymbol={}));var CodeActionKind;(function(CodeActionKind2){CodeActionKind2.Empty="",CodeActionKind2.QuickFix="quickfix",CodeActionKind2.Refactor="refactor",CodeActionKind2.RefactorExtract="refactor.extract",CodeActionKind2.RefactorInline="refactor.inline",CodeActionKind2.RefactorRewrite="refactor.rewrite",CodeActionKind2.Source="source",CodeActionKind2.SourceOrganizeImports="source.organizeImports",CodeActionKind2.SourceFixAll="source.fixAll"})(CodeActionKind=exports2.CodeActionKind||(exports2.CodeActionKind={}));var CodeActionContext;(function(CodeActionContext2){function create(diagnostics,only){var result={diagnostics};return only!=null&&(result.only=only),result}CodeActionContext2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.typedArray(candidate.diagnostics,Diagnostic.is)&&(candidate.only===void 0||Is.typedArray(candidate.only,Is.string))}CodeActionContext2.is=is})(CodeActionContext=exports2.CodeActionContext||(exports2.CodeActionContext={}));var CodeAction;(function(CodeAction2){function create(title,kindOrCommandOrEdit,kind){var result={title},checkKind=!0;return typeof kindOrCommandOrEdit=="string"?(checkKind=!1,result.kind=kindOrCommandOrEdit):Command2.is(kindOrCommandOrEdit)?result.command=kindOrCommandOrEdit:result.edit=kindOrCommandOrEdit,checkKind&&kind!==void 0&&(result.kind=kind),result}CodeAction2.create=create;function is(value){var candidate=value;return candidate&&Is.string(candidate.title)&&(candidate.diagnostics===void 0||Is.typedArray(candidate.diagnostics,Diagnostic.is))&&(candidate.kind===void 0||Is.string(candidate.kind))&&(candidate.edit!==void 0||candidate.command!==void 0)&&(candidate.command===void 0||Command2.is(candidate.command))&&(candidate.isPreferred===void 0||Is.boolean(candidate.isPreferred))&&(candidate.edit===void 0||WorkspaceEdit.is(candidate.edit))}CodeAction2.is=is})(CodeAction=exports2.CodeAction||(exports2.CodeAction={}));var CodeLens;(function(CodeLens2){function create(range,data){var result={range};return Is.defined(data)&&(result.data=data),result}CodeLens2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.undefined(candidate.command)||Command2.is(candidate.command))}CodeLens2.is=is})(CodeLens=exports2.CodeLens||(exports2.CodeLens={}));var FormattingOptions;(function(FormattingOptions2){function create(tabSize,insertSpaces){return{tabSize,insertSpaces}}FormattingOptions2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.uinteger(candidate.tabSize)&&Is.boolean(candidate.insertSpaces)}FormattingOptions2.is=is})(FormattingOptions=exports2.FormattingOptions||(exports2.FormattingOptions={}));var DocumentLink;(function(DocumentLink2){function create(range,target,data){return{range,target,data}}DocumentLink2.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.undefined(candidate.target)||Is.string(candidate.target))}DocumentLink2.is=is})(DocumentLink=exports2.DocumentLink||(exports2.DocumentLink={}));var SelectionRange;(function(SelectionRange2){function create(range,parent){return{range,parent}}SelectionRange2.create=create;function is(value){var candidate=value;return candidate!==void 0&&Range.is(candidate.range)&&(candidate.parent===void 0||SelectionRange2.is(candidate.parent))}SelectionRange2.is=is})(SelectionRange=exports2.SelectionRange||(exports2.SelectionRange={})),exports2.EOL=[`
`,`\r
`,"\r"];var TextDocument2;(function(TextDocument3){function create(uri,languageId,version,content){return new FullTextDocument(uri,languageId,version,content)}TextDocument3.create=create;function is(value){var candidate=value;return!!(Is.defined(candidate)&&Is.string(candidate.uri)&&(Is.undefined(candidate.languageId)||Is.string(candidate.languageId))&&Is.uinteger(candidate.lineCount)&&Is.func(candidate.getText)&&Is.func(candidate.positionAt)&&Is.func(candidate.offsetAt))}TextDocument3.is=is;function applyEdits(document2,edits){for(var text=document2.getText(),sortedEdits=mergeSort(edits,function(a,b){var diff=a.range.start.line-b.range.start.line;return diff===0?a.range.start.character-b.range.start.character:diff}),lastModifiedOffset=text.length,i=sortedEdits.length-1;i>=0;i--){var e=sortedEdits[i],startOffset=document2.offsetAt(e.range.start),endOffset=document2.offsetAt(e.range.end);if(endOffset<=lastModifiedOffset)text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length);else throw new Error("Overlapping edit");lastModifiedOffset=startOffset}return text}TextDocument3.applyEdits=applyEdits;function mergeSort(data,compare){if(data.length<=1)return data;var p=data.length/2|0,left=data.slice(0,p),right=data.slice(p);mergeSort(left,compare),mergeSort(right,compare);for(var leftIdx=0,rightIdx=0,i=0;leftIdx<left.length&&rightIdx<right.length;){var ret=compare(left[leftIdx],right[rightIdx]);ret<=0?data[i++]=left[leftIdx++]:data[i++]=right[rightIdx++]}for(;leftIdx<left.length;)data[i++]=left[leftIdx++];for(;rightIdx<right.length;)data[i++]=right[rightIdx++];return data}})(TextDocument2=exports2.TextDocument||(exports2.TextDocument={}));var FullTextDocument=function(){function FullTextDocument2(uri,languageId,version,content){this._uri=uri,this._languageId=languageId,this._version=version,this._content=content,this._lineOffsets=void 0}return Object.defineProperty(FullTextDocument2.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(FullTextDocument2.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(FullTextDocument2.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),FullTextDocument2.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start),end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content},FullTextDocument2.prototype.update=function(event,version){this._content=event.text,this._version=version,this._lineOffsets=void 0},FullTextDocument2.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var lineOffsets=[],text=this._content,isLineStart=!0,i=0;i<text.length;i++){isLineStart&&(lineOffsets.push(i),isLineStart=!1);var ch=text.charAt(i);isLineStart=ch==="\r"||ch===`
`,ch==="\r"&&i+1<text.length&&text.charAt(i+1)===`
`&&i++}isLineStart&&text.length>0&&lineOffsets.push(text.length),this._lineOffsets=lineOffsets}return this._lineOffsets},FullTextDocument2.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets(),low=0,high=lineOffsets.length;if(high===0)return Position2.create(0,offset);for(;low<high;){var mid=Math.floor((low+high)/2);lineOffsets[mid]>offset?high=mid:low=mid+1}var line=low-1;return Position2.create(line,offset-lineOffsets[line])},FullTextDocument2.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length)return this._content.length;if(position.line<0)return 0;var lineOffset=lineOffsets[position.line],nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)},Object.defineProperty(FullTextDocument2.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),FullTextDocument2}(),Is;(function(Is2){var toString=Object.prototype.toString;function defined(value){return typeof value<"u"}Is2.defined=defined;function undefined2(value){return typeof value>"u"}Is2.undefined=undefined2;function boolean(value){return value===!0||value===!1}Is2.boolean=boolean;function string(value){return toString.call(value)==="[object String]"}Is2.string=string;function number(value){return toString.call(value)==="[object Number]"}Is2.number=number;function numberRange(value,min,max){return toString.call(value)==="[object Number]"&&min<=value&&value<=max}Is2.numberRange=numberRange;function integer2(value){return toString.call(value)==="[object Number]"&&-2147483648<=value&&value<=2147483647}Is2.integer=integer2;function uinteger2(value){return toString.call(value)==="[object Number]"&&0<=value&&value<=2147483647}Is2.uinteger=uinteger2;function func(value){return toString.call(value)==="[object Function]"}Is2.func=func;function objectLiteral(value){return value!==null&&typeof value=="object"}Is2.objectLiteral=objectLiteral;function typedArray(value,check){return Array.isArray(value)&&value.every(check)}Is2.typedArray=typedArray})(Is||(Is={}))})}});var require_messages2=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/messages.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ProtocolNotificationType=exports.ProtocolNotificationType0=exports.ProtocolRequestType=exports.ProtocolRequestType0=exports.RegistrationType=void 0;var vscode_jsonrpc_1=require_main(),RegistrationType=class{constructor(method){this.method=method}};exports.RegistrationType=RegistrationType;var ProtocolRequestType0=class extends vscode_jsonrpc_1.RequestType0{constructor(method){super(method)}};exports.ProtocolRequestType0=ProtocolRequestType0;var ProtocolRequestType=class extends vscode_jsonrpc_1.RequestType{constructor(method){super(method,vscode_jsonrpc_1.ParameterStructures.byName)}};exports.ProtocolRequestType=ProtocolRequestType;var ProtocolNotificationType0=class extends vscode_jsonrpc_1.NotificationType0{constructor(method){super(method)}};exports.ProtocolNotificationType0=ProtocolNotificationType0;var ProtocolNotificationType=class extends vscode_jsonrpc_1.NotificationType{constructor(method){super(method,vscode_jsonrpc_1.ParameterStructures.byName)}};exports.ProtocolNotificationType=ProtocolNotificationType}});var require_is4=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/utils/is.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.objectLiteral=exports.typedArray=exports.stringArray=exports.array=exports.func=exports.error=exports.number=exports.string=exports.boolean=void 0;function boolean(value){return value===!0||value===!1}exports.boolean=boolean;function string(value){return typeof value=="string"||value instanceof String}exports.string=string;function number(value){return typeof value=="number"||value instanceof Number}exports.number=number;function error(value){return value instanceof Error}exports.error=error;function func(value){return typeof value=="function"}exports.func=func;function array(value){return Array.isArray(value)}exports.array=array;function stringArray(value){return array(value)&&value.every(elem=>string(elem))}exports.stringArray=stringArray;function typedArray(value,check){return Array.isArray(value)&&value.every(check)}exports.typedArray=typedArray;function objectLiteral(value){return value!==null&&typeof value=="object"}exports.objectLiteral=objectLiteral}});var require_protocol_implementation=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ImplementationRequest=void 0;var messages_1=require_messages2(),ImplementationRequest;(function(ImplementationRequest2){ImplementationRequest2.method="textDocument/implementation",ImplementationRequest2.type=new messages_1.ProtocolRequestType(ImplementationRequest2.method)})(ImplementationRequest=exports.ImplementationRequest||(exports.ImplementationRequest={}))}});var require_protocol_typeDefinition=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.TypeDefinitionRequest=void 0;var messages_1=require_messages2(),TypeDefinitionRequest;(function(TypeDefinitionRequest2){TypeDefinitionRequest2.method="textDocument/typeDefinition",TypeDefinitionRequest2.type=new messages_1.ProtocolRequestType(TypeDefinitionRequest2.method)})(TypeDefinitionRequest=exports.TypeDefinitionRequest||(exports.TypeDefinitionRequest={}))}});var require_protocol_workspaceFolders=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.DidChangeWorkspaceFoldersNotification=exports.WorkspaceFoldersRequest=void 0;var messages_1=require_messages2(),WorkspaceFoldersRequest;(function(WorkspaceFoldersRequest2){WorkspaceFoldersRequest2.type=new messages_1.ProtocolRequestType0("workspace/workspaceFolders")})(WorkspaceFoldersRequest=exports.WorkspaceFoldersRequest||(exports.WorkspaceFoldersRequest={}));var DidChangeWorkspaceFoldersNotification;(function(DidChangeWorkspaceFoldersNotification2){DidChangeWorkspaceFoldersNotification2.type=new messages_1.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(DidChangeWorkspaceFoldersNotification=exports.DidChangeWorkspaceFoldersNotification||(exports.DidChangeWorkspaceFoldersNotification={}))}});var require_protocol_configuration=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ConfigurationRequest=void 0;var messages_1=require_messages2(),ConfigurationRequest;(function(ConfigurationRequest2){ConfigurationRequest2.type=new messages_1.ProtocolRequestType("workspace/configuration")})(ConfigurationRequest=exports.ConfigurationRequest||(exports.ConfigurationRequest={}))}});var require_protocol_colorProvider=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ColorPresentationRequest=exports.DocumentColorRequest=void 0;var messages_1=require_messages2(),DocumentColorRequest;(function(DocumentColorRequest2){DocumentColorRequest2.method="textDocument/documentColor",DocumentColorRequest2.type=new messages_1.ProtocolRequestType(DocumentColorRequest2.method)})(DocumentColorRequest=exports.DocumentColorRequest||(exports.DocumentColorRequest={}));var ColorPresentationRequest;(function(ColorPresentationRequest2){ColorPresentationRequest2.type=new messages_1.ProtocolRequestType("textDocument/colorPresentation")})(ColorPresentationRequest=exports.ColorPresentationRequest||(exports.ColorPresentationRequest={}))}});var require_protocol_foldingRange=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.FoldingRangeRequest=exports.FoldingRangeKind=void 0;var messages_1=require_messages2(),FoldingRangeKind;(function(FoldingRangeKind2){FoldingRangeKind2.Comment="comment",FoldingRangeKind2.Imports="imports",FoldingRangeKind2.Region="region"})(FoldingRangeKind=exports.FoldingRangeKind||(exports.FoldingRangeKind={}));var FoldingRangeRequest;(function(FoldingRangeRequest2){FoldingRangeRequest2.method="textDocument/foldingRange",FoldingRangeRequest2.type=new messages_1.ProtocolRequestType(FoldingRangeRequest2.method)})(FoldingRangeRequest=exports.FoldingRangeRequest||(exports.FoldingRangeRequest={}))}});var require_protocol_declaration=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.DeclarationRequest=void 0;var messages_1=require_messages2(),DeclarationRequest;(function(DeclarationRequest2){DeclarationRequest2.method="textDocument/declaration",DeclarationRequest2.type=new messages_1.ProtocolRequestType(DeclarationRequest2.method)})(DeclarationRequest=exports.DeclarationRequest||(exports.DeclarationRequest={}))}});var require_protocol_selectionRange=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SelectionRangeRequest=void 0;var messages_1=require_messages2(),SelectionRangeRequest;(function(SelectionRangeRequest2){SelectionRangeRequest2.method="textDocument/selectionRange",SelectionRangeRequest2.type=new messages_1.ProtocolRequestType(SelectionRangeRequest2.method)})(SelectionRangeRequest=exports.SelectionRangeRequest||(exports.SelectionRangeRequest={}))}});var require_protocol_progress=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WorkDoneProgressCancelNotification=exports.WorkDoneProgressCreateRequest=exports.WorkDoneProgress=void 0;var vscode_jsonrpc_1=require_main(),messages_1=require_messages2(),WorkDoneProgress;(function(WorkDoneProgress2){WorkDoneProgress2.type=new vscode_jsonrpc_1.ProgressType;function is(value){return value===WorkDoneProgress2.type}WorkDoneProgress2.is=is})(WorkDoneProgress=exports.WorkDoneProgress||(exports.WorkDoneProgress={}));var WorkDoneProgressCreateRequest;(function(WorkDoneProgressCreateRequest2){WorkDoneProgressCreateRequest2.type=new messages_1.ProtocolRequestType("window/workDoneProgress/create")})(WorkDoneProgressCreateRequest=exports.WorkDoneProgressCreateRequest||(exports.WorkDoneProgressCreateRequest={}));var WorkDoneProgressCancelNotification;(function(WorkDoneProgressCancelNotification2){WorkDoneProgressCancelNotification2.type=new messages_1.ProtocolNotificationType("window/workDoneProgress/cancel")})(WorkDoneProgressCancelNotification=exports.WorkDoneProgressCancelNotification||(exports.WorkDoneProgressCancelNotification={}))}});var require_protocol_callHierarchy=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.CallHierarchyOutgoingCallsRequest=exports.CallHierarchyIncomingCallsRequest=exports.CallHierarchyPrepareRequest=void 0;var messages_1=require_messages2(),CallHierarchyPrepareRequest;(function(CallHierarchyPrepareRequest2){CallHierarchyPrepareRequest2.method="textDocument/prepareCallHierarchy",CallHierarchyPrepareRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest2.method)})(CallHierarchyPrepareRequest=exports.CallHierarchyPrepareRequest||(exports.CallHierarchyPrepareRequest={}));var CallHierarchyIncomingCallsRequest;(function(CallHierarchyIncomingCallsRequest2){CallHierarchyIncomingCallsRequest2.method="callHierarchy/incomingCalls",CallHierarchyIncomingCallsRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest2.method)})(CallHierarchyIncomingCallsRequest=exports.CallHierarchyIncomingCallsRequest||(exports.CallHierarchyIncomingCallsRequest={}));var CallHierarchyOutgoingCallsRequest;(function(CallHierarchyOutgoingCallsRequest2){CallHierarchyOutgoingCallsRequest2.method="callHierarchy/outgoingCalls",CallHierarchyOutgoingCallsRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest2.method)})(CallHierarchyOutgoingCallsRequest=exports.CallHierarchyOutgoingCallsRequest||(exports.CallHierarchyOutgoingCallsRequest={}))}});var require_protocol_semanticTokens=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SemanticTokensRefreshRequest=exports.SemanticTokensRangeRequest=exports.SemanticTokensDeltaRequest=exports.SemanticTokensRequest=exports.SemanticTokensRegistrationType=exports.TokenFormat=exports.SemanticTokens=exports.SemanticTokenModifiers=exports.SemanticTokenTypes=void 0;var messages_1=require_messages2(),SemanticTokenTypes;(function(SemanticTokenTypes2){SemanticTokenTypes2.namespace="namespace",SemanticTokenTypes2.type="type",SemanticTokenTypes2.class="class",SemanticTokenTypes2.enum="enum",SemanticTokenTypes2.interface="interface",SemanticTokenTypes2.struct="struct",SemanticTokenTypes2.typeParameter="typeParameter",SemanticTokenTypes2.parameter="parameter",SemanticTokenTypes2.variable="variable",SemanticTokenTypes2.property="property",SemanticTokenTypes2.enumMember="enumMember",SemanticTokenTypes2.event="event",SemanticTokenTypes2.function="function",SemanticTokenTypes2.method="method",SemanticTokenTypes2.macro="macro",SemanticTokenTypes2.keyword="keyword",SemanticTokenTypes2.modifier="modifier",SemanticTokenTypes2.comment="comment",SemanticTokenTypes2.string="string",SemanticTokenTypes2.number="number",SemanticTokenTypes2.regexp="regexp",SemanticTokenTypes2.operator="operator"})(SemanticTokenTypes=exports.SemanticTokenTypes||(exports.SemanticTokenTypes={}));var SemanticTokenModifiers;(function(SemanticTokenModifiers2){SemanticTokenModifiers2.declaration="declaration",SemanticTokenModifiers2.definition="definition",SemanticTokenModifiers2.readonly="readonly",SemanticTokenModifiers2.static="static",SemanticTokenModifiers2.deprecated="deprecated",SemanticTokenModifiers2.abstract="abstract",SemanticTokenModifiers2.async="async",SemanticTokenModifiers2.modification="modification",SemanticTokenModifiers2.documentation="documentation",SemanticTokenModifiers2.defaultLibrary="defaultLibrary"})(SemanticTokenModifiers=exports.SemanticTokenModifiers||(exports.SemanticTokenModifiers={}));var SemanticTokens;(function(SemanticTokens2){function is(value){let candidate=value;return candidate!==void 0&&(candidate.resultId===void 0||typeof candidate.resultId=="string")&&Array.isArray(candidate.data)&&(candidate.data.length===0||typeof candidate.data[0]=="number")}SemanticTokens2.is=is})(SemanticTokens=exports.SemanticTokens||(exports.SemanticTokens={}));var TokenFormat;(function(TokenFormat2){TokenFormat2.Relative="relative"})(TokenFormat=exports.TokenFormat||(exports.TokenFormat={}));var SemanticTokensRegistrationType;(function(SemanticTokensRegistrationType2){SemanticTokensRegistrationType2.method="textDocument/semanticTokens",SemanticTokensRegistrationType2.type=new messages_1.RegistrationType(SemanticTokensRegistrationType2.method)})(SemanticTokensRegistrationType=exports.SemanticTokensRegistrationType||(exports.SemanticTokensRegistrationType={}));var SemanticTokensRequest;(function(SemanticTokensRequest2){SemanticTokensRequest2.method="textDocument/semanticTokens/full",SemanticTokensRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensRequest2.method)})(SemanticTokensRequest=exports.SemanticTokensRequest||(exports.SemanticTokensRequest={}));var SemanticTokensDeltaRequest;(function(SemanticTokensDeltaRequest2){SemanticTokensDeltaRequest2.method="textDocument/semanticTokens/full/delta",SemanticTokensDeltaRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest2.method)})(SemanticTokensDeltaRequest=exports.SemanticTokensDeltaRequest||(exports.SemanticTokensDeltaRequest={}));var SemanticTokensRangeRequest;(function(SemanticTokensRangeRequest2){SemanticTokensRangeRequest2.method="textDocument/semanticTokens/range",SemanticTokensRangeRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensRangeRequest2.method)})(SemanticTokensRangeRequest=exports.SemanticTokensRangeRequest||(exports.SemanticTokensRangeRequest={}));var SemanticTokensRefreshRequest;(function(SemanticTokensRefreshRequest2){SemanticTokensRefreshRequest2.method="workspace/semanticTokens/refresh",SemanticTokensRefreshRequest2.type=new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest2.method)})(SemanticTokensRefreshRequest=exports.SemanticTokensRefreshRequest||(exports.SemanticTokensRefreshRequest={}))}});var require_protocol_showDocument=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ShowDocumentRequest=void 0;var messages_1=require_messages2(),ShowDocumentRequest;(function(ShowDocumentRequest2){ShowDocumentRequest2.method="window/showDocument",ShowDocumentRequest2.type=new messages_1.ProtocolRequestType(ShowDocumentRequest2.method)})(ShowDocumentRequest=exports.ShowDocumentRequest||(exports.ShowDocumentRequest={}))}});var require_protocol_linkedEditingRange=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.LinkedEditingRangeRequest=void 0;var messages_1=require_messages2(),LinkedEditingRangeRequest;(function(LinkedEditingRangeRequest2){LinkedEditingRangeRequest2.method="textDocument/linkedEditingRange",LinkedEditingRangeRequest2.type=new messages_1.ProtocolRequestType(LinkedEditingRangeRequest2.method)})(LinkedEditingRangeRequest=exports.LinkedEditingRangeRequest||(exports.LinkedEditingRangeRequest={}))}});var require_protocol_fileOperations=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WillDeleteFilesRequest=exports.DidDeleteFilesNotification=exports.DidRenameFilesNotification=exports.WillRenameFilesRequest=exports.DidCreateFilesNotification=exports.WillCreateFilesRequest=exports.FileOperationPatternKind=void 0;var messages_1=require_messages2(),FileOperationPatternKind;(function(FileOperationPatternKind2){FileOperationPatternKind2.file="file",FileOperationPatternKind2.folder="folder"})(FileOperationPatternKind=exports.FileOperationPatternKind||(exports.FileOperationPatternKind={}));var WillCreateFilesRequest;(function(WillCreateFilesRequest2){WillCreateFilesRequest2.method="workspace/willCreateFiles",WillCreateFilesRequest2.type=new messages_1.ProtocolRequestType(WillCreateFilesRequest2.method)})(WillCreateFilesRequest=exports.WillCreateFilesRequest||(exports.WillCreateFilesRequest={}));var DidCreateFilesNotification;(function(DidCreateFilesNotification2){DidCreateFilesNotification2.method="workspace/didCreateFiles",DidCreateFilesNotification2.type=new messages_1.ProtocolNotificationType(DidCreateFilesNotification2.method)})(DidCreateFilesNotification=exports.DidCreateFilesNotification||(exports.DidCreateFilesNotification={}));var WillRenameFilesRequest;(function(WillRenameFilesRequest2){WillRenameFilesRequest2.method="workspace/willRenameFiles",WillRenameFilesRequest2.type=new messages_1.ProtocolRequestType(WillRenameFilesRequest2.method)})(WillRenameFilesRequest=exports.WillRenameFilesRequest||(exports.WillRenameFilesRequest={}));var DidRenameFilesNotification;(function(DidRenameFilesNotification2){DidRenameFilesNotification2.method="workspace/didRenameFiles",DidRenameFilesNotification2.type=new messages_1.ProtocolNotificationType(DidRenameFilesNotification2.method)})(DidRenameFilesNotification=exports.DidRenameFilesNotification||(exports.DidRenameFilesNotification={}));var DidDeleteFilesNotification;(function(DidDeleteFilesNotification2){DidDeleteFilesNotification2.method="workspace/didDeleteFiles",DidDeleteFilesNotification2.type=new messages_1.ProtocolNotificationType(DidDeleteFilesNotification2.method)})(DidDeleteFilesNotification=exports.DidDeleteFilesNotification||(exports.DidDeleteFilesNotification={}));var WillDeleteFilesRequest;(function(WillDeleteFilesRequest2){WillDeleteFilesRequest2.method="workspace/willDeleteFiles",WillDeleteFilesRequest2.type=new messages_1.ProtocolRequestType(WillDeleteFilesRequest2.method)})(WillDeleteFilesRequest=exports.WillDeleteFilesRequest||(exports.WillDeleteFilesRequest={}))}});var require_protocol_moniker=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.MonikerRequest=exports.MonikerKind=exports.UniquenessLevel=void 0;var messages_1=require_messages2(),UniquenessLevel;(function(UniquenessLevel2){UniquenessLevel2.document="document",UniquenessLevel2.project="project",UniquenessLevel2.group="group",UniquenessLevel2.scheme="scheme",UniquenessLevel2.global="global"})(UniquenessLevel=exports.UniquenessLevel||(exports.UniquenessLevel={}));var MonikerKind;(function(MonikerKind2){MonikerKind2.import="import",MonikerKind2.export="export",MonikerKind2.local="local"})(MonikerKind=exports.MonikerKind||(exports.MonikerKind={}));var MonikerRequest;(function(MonikerRequest2){MonikerRequest2.method="textDocument/moniker",MonikerRequest2.type=new messages_1.ProtocolRequestType(MonikerRequest2.method)})(MonikerRequest=exports.MonikerRequest||(exports.MonikerRequest={}))}});var require_protocol=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/protocol.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.DocumentLinkRequest=exports.CodeLensRefreshRequest=exports.CodeLensResolveRequest=exports.CodeLensRequest=exports.WorkspaceSymbolRequest=exports.CodeActionResolveRequest=exports.CodeActionRequest=exports.DocumentSymbolRequest=exports.DocumentHighlightRequest=exports.ReferencesRequest=exports.DefinitionRequest=exports.SignatureHelpRequest=exports.SignatureHelpTriggerKind=exports.HoverRequest=exports.CompletionResolveRequest=exports.CompletionRequest=exports.CompletionTriggerKind=exports.PublishDiagnosticsNotification=exports.WatchKind=exports.FileChangeType=exports.DidChangeWatchedFilesNotification=exports.WillSaveTextDocumentWaitUntilRequest=exports.WillSaveTextDocumentNotification=exports.TextDocumentSaveReason=exports.DidSaveTextDocumentNotification=exports.DidCloseTextDocumentNotification=exports.DidChangeTextDocumentNotification=exports.TextDocumentContentChangeEvent=exports.DidOpenTextDocumentNotification=exports.TextDocumentSyncKind=exports.TelemetryEventNotification=exports.LogMessageNotification=exports.ShowMessageRequest=exports.ShowMessageNotification=exports.MessageType=exports.DidChangeConfigurationNotification=exports.ExitNotification=exports.ShutdownRequest=exports.InitializedNotification=exports.InitializeError=exports.InitializeRequest=exports.WorkDoneProgressOptions=exports.TextDocumentRegistrationOptions=exports.StaticRegistrationOptions=exports.FailureHandlingKind=exports.ResourceOperationKind=exports.UnregistrationRequest=exports.RegistrationRequest=exports.DocumentSelector=exports.DocumentFilter=void 0;exports.MonikerRequest=exports.MonikerKind=exports.UniquenessLevel=exports.WillDeleteFilesRequest=exports.DidDeleteFilesNotification=exports.WillRenameFilesRequest=exports.DidRenameFilesNotification=exports.WillCreateFilesRequest=exports.DidCreateFilesNotification=exports.FileOperationPatternKind=exports.LinkedEditingRangeRequest=exports.ShowDocumentRequest=exports.SemanticTokensRegistrationType=exports.SemanticTokensRefreshRequest=exports.SemanticTokensRangeRequest=exports.SemanticTokensDeltaRequest=exports.SemanticTokensRequest=exports.TokenFormat=exports.SemanticTokens=exports.SemanticTokenModifiers=exports.SemanticTokenTypes=exports.CallHierarchyPrepareRequest=exports.CallHierarchyOutgoingCallsRequest=exports.CallHierarchyIncomingCallsRequest=exports.WorkDoneProgressCancelNotification=exports.WorkDoneProgressCreateRequest=exports.WorkDoneProgress=exports.SelectionRangeRequest=exports.DeclarationRequest=exports.FoldingRangeRequest=exports.ColorPresentationRequest=exports.DocumentColorRequest=exports.ConfigurationRequest=exports.DidChangeWorkspaceFoldersNotification=exports.WorkspaceFoldersRequest=exports.TypeDefinitionRequest=exports.ImplementationRequest=exports.ApplyWorkspaceEditRequest=exports.ExecuteCommandRequest=exports.PrepareRenameRequest=exports.RenameRequest=exports.PrepareSupportDefaultBehavior=exports.DocumentOnTypeFormattingRequest=exports.DocumentRangeFormattingRequest=exports.DocumentFormattingRequest=exports.DocumentLinkResolveRequest=void 0;var Is=require_is4(),messages_1=require_messages2(),protocol_implementation_1=require_protocol_implementation();Object.defineProperty(exports,"ImplementationRequest",{enumerable:!0,get:function(){return protocol_implementation_1.ImplementationRequest}});var protocol_typeDefinition_1=require_protocol_typeDefinition();Object.defineProperty(exports,"TypeDefinitionRequest",{enumerable:!0,get:function(){return protocol_typeDefinition_1.TypeDefinitionRequest}});var protocol_workspaceFolders_1=require_protocol_workspaceFolders();Object.defineProperty(exports,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return protocol_workspaceFolders_1.WorkspaceFoldersRequest}});Object.defineProperty(exports,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification}});var protocol_configuration_1=require_protocol_configuration();Object.defineProperty(exports,"ConfigurationRequest",{enumerable:!0,get:function(){return protocol_configuration_1.ConfigurationRequest}});var protocol_colorProvider_1=require_protocol_colorProvider();Object.defineProperty(exports,"DocumentColorRequest",{enumerable:!0,get:function(){return protocol_colorProvider_1.DocumentColorRequest}});Object.defineProperty(exports,"ColorPresentationRequest",{enumerable:!0,get:function(){return protocol_colorProvider_1.ColorPresentationRequest}});var protocol_foldingRange_1=require_protocol_foldingRange();Object.defineProperty(exports,"FoldingRangeRequest",{enumerable:!0,get:function(){return protocol_foldingRange_1.FoldingRangeRequest}});var protocol_declaration_1=require_protocol_declaration();Object.defineProperty(exports,"DeclarationRequest",{enumerable:!0,get:function(){return protocol_declaration_1.DeclarationRequest}});var protocol_selectionRange_1=require_protocol_selectionRange();Object.defineProperty(exports,"SelectionRangeRequest",{enumerable:!0,get:function(){return protocol_selectionRange_1.SelectionRangeRequest}});var protocol_progress_1=require_protocol_progress();Object.defineProperty(exports,"WorkDoneProgress",{enumerable:!0,get:function(){return protocol_progress_1.WorkDoneProgress}});Object.defineProperty(exports,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return protocol_progress_1.WorkDoneProgressCreateRequest}});Object.defineProperty(exports,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return protocol_progress_1.WorkDoneProgressCancelNotification}});var protocol_callHierarchy_1=require_protocol_callHierarchy();Object.defineProperty(exports,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest}});Object.defineProperty(exports,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(exports,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return protocol_callHierarchy_1.CallHierarchyPrepareRequest}});var protocol_semanticTokens_1=require_protocol_semanticTokens();Object.defineProperty(exports,"SemanticTokenTypes",{enumerable:!0,get:function(){return protocol_semanticTokens_1.SemanticTokenTypes}});Object.defineProperty(exports,"SemanticTokenModifiers",{enumerable:!0,get:function(){return protocol_semanticTokens_1.SemanticTokenModifiers}});Object.defineProperty(exports,"SemanticTokens",{enumerable:!0,get:function(){return protocol_semanticTokens_1.SemanticTokens}});Object.defineProperty(exports,"TokenFormat",{enumerable:!0,get:function(){return protocol_semanticTokens_1.TokenFormat}});Object.defineProperty(exports,"SemanticTokensRequest",{enumerable:!0,get:function(){return protocol_semanticTokens_1.SemanticTokensRequest}});Object.defineProperty(exports,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return protocol_semanticTokens_1.SemanticTokensDeltaRequest}});Object.defineProperty(exports,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return protocol_semanticTokens_1.SemanticTokensRangeRequest}});Object.defineProperty(exports,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return protocol_semanticTokens_1.SemanticTokensRefreshRequest}});Object.defineProperty(exports,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return protocol_semanticTokens_1.SemanticTokensRegistrationType}});var protocol_showDocument_1=require_protocol_showDocument();Object.defineProperty(exports,"ShowDocumentRequest",{enumerable:!0,get:function(){return protocol_showDocument_1.ShowDocumentRequest}});var protocol_linkedEditingRange_1=require_protocol_linkedEditingRange();Object.defineProperty(exports,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return protocol_linkedEditingRange_1.LinkedEditingRangeRequest}});var protocol_fileOperations_1=require_protocol_fileOperations();Object.defineProperty(exports,"FileOperationPatternKind",{enumerable:!0,get:function(){return protocol_fileOperations_1.FileOperationPatternKind}});Object.defineProperty(exports,"DidCreateFilesNotification",{enumerable:!0,get:function(){return protocol_fileOperations_1.DidCreateFilesNotification}});Object.defineProperty(exports,"WillCreateFilesRequest",{enumerable:!0,get:function(){return protocol_fileOperations_1.WillCreateFilesRequest}});Object.defineProperty(exports,"DidRenameFilesNotification",{enumerable:!0,get:function(){return protocol_fileOperations_1.DidRenameFilesNotification}});Object.defineProperty(exports,"WillRenameFilesRequest",{enumerable:!0,get:function(){return protocol_fileOperations_1.WillRenameFilesRequest}});Object.defineProperty(exports,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return protocol_fileOperations_1.DidDeleteFilesNotification}});Object.defineProperty(exports,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return protocol_fileOperations_1.WillDeleteFilesRequest}});var protocol_moniker_1=require_protocol_moniker();Object.defineProperty(exports,"UniquenessLevel",{enumerable:!0,get:function(){return protocol_moniker_1.UniquenessLevel}});Object.defineProperty(exports,"MonikerKind",{enumerable:!0,get:function(){return protocol_moniker_1.MonikerKind}});Object.defineProperty(exports,"MonikerRequest",{enumerable:!0,get:function(){return protocol_moniker_1.MonikerRequest}});var DocumentFilter;(function(DocumentFilter2){function is(value){let candidate=value;return Is.string(candidate.language)||Is.string(candidate.scheme)||Is.string(candidate.pattern)}DocumentFilter2.is=is})(DocumentFilter=exports.DocumentFilter||(exports.DocumentFilter={}));var DocumentSelector;(function(DocumentSelector2){function is(value){if(!Array.isArray(value))return!1;for(let elem of value)if(!Is.string(elem)&&!DocumentFilter.is(elem))return!1;return!0}DocumentSelector2.is=is})(DocumentSelector=exports.DocumentSelector||(exports.DocumentSelector={}));var RegistrationRequest;(function(RegistrationRequest2){RegistrationRequest2.type=new messages_1.ProtocolRequestType("client/registerCapability")})(RegistrationRequest=exports.RegistrationRequest||(exports.RegistrationRequest={}));var UnregistrationRequest;(function(UnregistrationRequest2){UnregistrationRequest2.type=new messages_1.ProtocolRequestType("client/unregisterCapability")})(UnregistrationRequest=exports.UnregistrationRequest||(exports.UnregistrationRequest={}));var ResourceOperationKind;(function(ResourceOperationKind2){ResourceOperationKind2.Create="create",ResourceOperationKind2.Rename="rename",ResourceOperationKind2.Delete="delete"})(ResourceOperationKind=exports.ResourceOperationKind||(exports.ResourceOperationKind={}));var FailureHandlingKind;(function(FailureHandlingKind2){FailureHandlingKind2.Abort="abort",FailureHandlingKind2.Transactional="transactional",FailureHandlingKind2.TextOnlyTransactional="textOnlyTransactional",FailureHandlingKind2.Undo="undo"})(FailureHandlingKind=exports.FailureHandlingKind||(exports.FailureHandlingKind={}));var StaticRegistrationOptions;(function(StaticRegistrationOptions2){function hasId(value){let candidate=value;return candidate&&Is.string(candidate.id)&&candidate.id.length>0}StaticRegistrationOptions2.hasId=hasId})(StaticRegistrationOptions=exports.StaticRegistrationOptions||(exports.StaticRegistrationOptions={}));var TextDocumentRegistrationOptions;(function(TextDocumentRegistrationOptions2){function is(value){let candidate=value;return candidate&&(candidate.documentSelector===null||DocumentSelector.is(candidate.documentSelector))}TextDocumentRegistrationOptions2.is=is})(TextDocumentRegistrationOptions=exports.TextDocumentRegistrationOptions||(exports.TextDocumentRegistrationOptions={}));var WorkDoneProgressOptions;(function(WorkDoneProgressOptions2){function is(value){let candidate=value;return Is.objectLiteral(candidate)&&(candidate.workDoneProgress===void 0||Is.boolean(candidate.workDoneProgress))}WorkDoneProgressOptions2.is=is;function hasWorkDoneProgress(value){let candidate=value;return candidate&&Is.boolean(candidate.workDoneProgress)}WorkDoneProgressOptions2.hasWorkDoneProgress=hasWorkDoneProgress})(WorkDoneProgressOptions=exports.WorkDoneProgressOptions||(exports.WorkDoneProgressOptions={}));var InitializeRequest;(function(InitializeRequest2){InitializeRequest2.type=new messages_1.ProtocolRequestType("initialize")})(InitializeRequest=exports.InitializeRequest||(exports.InitializeRequest={}));var InitializeError;(function(InitializeError2){InitializeError2.unknownProtocolVersion=1})(InitializeError=exports.InitializeError||(exports.InitializeError={}));var InitializedNotification;(function(InitializedNotification2){InitializedNotification2.type=new messages_1.ProtocolNotificationType("initialized")})(InitializedNotification=exports.InitializedNotification||(exports.InitializedNotification={}));var ShutdownRequest;(function(ShutdownRequest2){ShutdownRequest2.type=new messages_1.ProtocolRequestType0("shutdown")})(ShutdownRequest=exports.ShutdownRequest||(exports.ShutdownRequest={}));var ExitNotification;(function(ExitNotification2){ExitNotification2.type=new messages_1.ProtocolNotificationType0("exit")})(ExitNotification=exports.ExitNotification||(exports.ExitNotification={}));var DidChangeConfigurationNotification;(function(DidChangeConfigurationNotification2){DidChangeConfigurationNotification2.type=new messages_1.ProtocolNotificationType("workspace/didChangeConfiguration")})(DidChangeConfigurationNotification=exports.DidChangeConfigurationNotification||(exports.DidChangeConfigurationNotification={}));var MessageType;(function(MessageType2){MessageType2.Error=1,MessageType2.Warning=2,MessageType2.Info=3,MessageType2.Log=4})(MessageType=exports.MessageType||(exports.MessageType={}));var ShowMessageNotification;(function(ShowMessageNotification2){ShowMessageNotification2.type=new messages_1.ProtocolNotificationType("window/showMessage")})(ShowMessageNotification=exports.ShowMessageNotification||(exports.ShowMessageNotification={}));var ShowMessageRequest;(function(ShowMessageRequest2){ShowMessageRequest2.type=new messages_1.ProtocolRequestType("window/showMessageRequest")})(ShowMessageRequest=exports.ShowMessageRequest||(exports.ShowMessageRequest={}));var LogMessageNotification;(function(LogMessageNotification2){LogMessageNotification2.type=new messages_1.ProtocolNotificationType("window/logMessage")})(LogMessageNotification=exports.LogMessageNotification||(exports.LogMessageNotification={}));var TelemetryEventNotification;(function(TelemetryEventNotification2){TelemetryEventNotification2.type=new messages_1.ProtocolNotificationType("telemetry/event")})(TelemetryEventNotification=exports.TelemetryEventNotification||(exports.TelemetryEventNotification={}));var TextDocumentSyncKind;(function(TextDocumentSyncKind2){TextDocumentSyncKind2.None=0,TextDocumentSyncKind2.Full=1,TextDocumentSyncKind2.Incremental=2})(TextDocumentSyncKind=exports.TextDocumentSyncKind||(exports.TextDocumentSyncKind={}));var DidOpenTextDocumentNotification;(function(DidOpenTextDocumentNotification2){DidOpenTextDocumentNotification2.method="textDocument/didOpen",DidOpenTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification2.method)})(DidOpenTextDocumentNotification=exports.DidOpenTextDocumentNotification||(exports.DidOpenTextDocumentNotification={}));var TextDocumentContentChangeEvent;(function(TextDocumentContentChangeEvent2){function isIncremental(event){let candidate=event;return candidate!=null&&typeof candidate.text=="string"&&candidate.range!==void 0&&(candidate.rangeLength===void 0||typeof candidate.rangeLength=="number")}TextDocumentContentChangeEvent2.isIncremental=isIncremental;function isFull(event){let candidate=event;return candidate!=null&&typeof candidate.text=="string"&&candidate.range===void 0&&candidate.rangeLength===void 0}TextDocumentContentChangeEvent2.isFull=isFull})(TextDocumentContentChangeEvent=exports.TextDocumentContentChangeEvent||(exports.TextDocumentContentChangeEvent={}));var DidChangeTextDocumentNotification;(function(DidChangeTextDocumentNotification2){DidChangeTextDocumentNotification2.method="textDocument/didChange",DidChangeTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification2.method)})(DidChangeTextDocumentNotification=exports.DidChangeTextDocumentNotification||(exports.DidChangeTextDocumentNotification={}));var DidCloseTextDocumentNotification;(function(DidCloseTextDocumentNotification2){DidCloseTextDocumentNotification2.method="textDocument/didClose",DidCloseTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification2.method)})(DidCloseTextDocumentNotification=exports.DidCloseTextDocumentNotification||(exports.DidCloseTextDocumentNotification={}));var DidSaveTextDocumentNotification;(function(DidSaveTextDocumentNotification2){DidSaveTextDocumentNotification2.method="textDocument/didSave",DidSaveTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification2.method)})(DidSaveTextDocumentNotification=exports.DidSaveTextDocumentNotification||(exports.DidSaveTextDocumentNotification={}));var TextDocumentSaveReason;(function(TextDocumentSaveReason2){TextDocumentSaveReason2.Manual=1,TextDocumentSaveReason2.AfterDelay=2,TextDocumentSaveReason2.FocusOut=3})(TextDocumentSaveReason=exports.TextDocumentSaveReason||(exports.TextDocumentSaveReason={}));var WillSaveTextDocumentNotification;(function(WillSaveTextDocumentNotification2){WillSaveTextDocumentNotification2.method="textDocument/willSave",WillSaveTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification2.method)})(WillSaveTextDocumentNotification=exports.WillSaveTextDocumentNotification||(exports.WillSaveTextDocumentNotification={}));var WillSaveTextDocumentWaitUntilRequest;(function(WillSaveTextDocumentWaitUntilRequest2){WillSaveTextDocumentWaitUntilRequest2.method="textDocument/willSaveWaitUntil",WillSaveTextDocumentWaitUntilRequest2.type=new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest2.method)})(WillSaveTextDocumentWaitUntilRequest=exports.WillSaveTextDocumentWaitUntilRequest||(exports.WillSaveTextDocumentWaitUntilRequest={}));var DidChangeWatchedFilesNotification;(function(DidChangeWatchedFilesNotification2){DidChangeWatchedFilesNotification2.type=new messages_1.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(DidChangeWatchedFilesNotification=exports.DidChangeWatchedFilesNotification||(exports.DidChangeWatchedFilesNotification={}));var FileChangeType;(function(FileChangeType2){FileChangeType2.Created=1,FileChangeType2.Changed=2,FileChangeType2.Deleted=3})(FileChangeType=exports.FileChangeType||(exports.FileChangeType={}));var WatchKind;(function(WatchKind2){WatchKind2.Create=1,WatchKind2.Change=2,WatchKind2.Delete=4})(WatchKind=exports.WatchKind||(exports.WatchKind={}));var PublishDiagnosticsNotification;(function(PublishDiagnosticsNotification2){PublishDiagnosticsNotification2.type=new messages_1.ProtocolNotificationType("textDocument/publishDiagnostics")})(PublishDiagnosticsNotification=exports.PublishDiagnosticsNotification||(exports.PublishDiagnosticsNotification={}));var CompletionTriggerKind;(function(CompletionTriggerKind2){CompletionTriggerKind2.Invoked=1,CompletionTriggerKind2.TriggerCharacter=2,CompletionTriggerKind2.TriggerForIncompleteCompletions=3})(CompletionTriggerKind=exports.CompletionTriggerKind||(exports.CompletionTriggerKind={}));var CompletionRequest;(function(CompletionRequest2){CompletionRequest2.method="textDocument/completion",CompletionRequest2.type=new messages_1.ProtocolRequestType(CompletionRequest2.method)})(CompletionRequest=exports.CompletionRequest||(exports.CompletionRequest={}));var CompletionResolveRequest;(function(CompletionResolveRequest2){CompletionResolveRequest2.method="completionItem/resolve",CompletionResolveRequest2.type=new messages_1.ProtocolRequestType(CompletionResolveRequest2.method)})(CompletionResolveRequest=exports.CompletionResolveRequest||(exports.CompletionResolveRequest={}));var HoverRequest;(function(HoverRequest2){HoverRequest2.method="textDocument/hover",HoverRequest2.type=new messages_1.ProtocolRequestType(HoverRequest2.method)})(HoverRequest=exports.HoverRequest||(exports.HoverRequest={}));var SignatureHelpTriggerKind;(function(SignatureHelpTriggerKind2){SignatureHelpTriggerKind2.Invoked=1,SignatureHelpTriggerKind2.TriggerCharacter=2,SignatureHelpTriggerKind2.ContentChange=3})(SignatureHelpTriggerKind=exports.SignatureHelpTriggerKind||(exports.SignatureHelpTriggerKind={}));var SignatureHelpRequest;(function(SignatureHelpRequest2){SignatureHelpRequest2.method="textDocument/signatureHelp",SignatureHelpRequest2.type=new messages_1.ProtocolRequestType(SignatureHelpRequest2.method)})(SignatureHelpRequest=exports.SignatureHelpRequest||(exports.SignatureHelpRequest={}));var DefinitionRequest;(function(DefinitionRequest2){DefinitionRequest2.method="textDocument/definition",DefinitionRequest2.type=new messages_1.ProtocolRequestType(DefinitionRequest2.method)})(DefinitionRequest=exports.DefinitionRequest||(exports.DefinitionRequest={}));var ReferencesRequest;(function(ReferencesRequest2){ReferencesRequest2.method="textDocument/references",ReferencesRequest2.type=new messages_1.ProtocolRequestType(ReferencesRequest2.method)})(ReferencesRequest=exports.ReferencesRequest||(exports.ReferencesRequest={}));var DocumentHighlightRequest;(function(DocumentHighlightRequest2){DocumentHighlightRequest2.method="textDocument/documentHighlight",DocumentHighlightRequest2.type=new messages_1.ProtocolRequestType(DocumentHighlightRequest2.method)})(DocumentHighlightRequest=exports.DocumentHighlightRequest||(exports.DocumentHighlightRequest={}));var DocumentSymbolRequest;(function(DocumentSymbolRequest2){DocumentSymbolRequest2.method="textDocument/documentSymbol",DocumentSymbolRequest2.type=new messages_1.ProtocolRequestType(DocumentSymbolRequest2.method)})(DocumentSymbolRequest=exports.DocumentSymbolRequest||(exports.DocumentSymbolRequest={}));var CodeActionRequest;(function(CodeActionRequest2){CodeActionRequest2.method="textDocument/codeAction",CodeActionRequest2.type=new messages_1.ProtocolRequestType(CodeActionRequest2.method)})(CodeActionRequest=exports.CodeActionRequest||(exports.CodeActionRequest={}));var CodeActionResolveRequest;(function(CodeActionResolveRequest2){CodeActionResolveRequest2.method="codeAction/resolve",CodeActionResolveRequest2.type=new messages_1.ProtocolRequestType(CodeActionResolveRequest2.method)})(CodeActionResolveRequest=exports.CodeActionResolveRequest||(exports.CodeActionResolveRequest={}));var WorkspaceSymbolRequest;(function(WorkspaceSymbolRequest2){WorkspaceSymbolRequest2.method="workspace/symbol",WorkspaceSymbolRequest2.type=new messages_1.ProtocolRequestType(WorkspaceSymbolRequest2.method)})(WorkspaceSymbolRequest=exports.WorkspaceSymbolRequest||(exports.WorkspaceSymbolRequest={}));var CodeLensRequest;(function(CodeLensRequest2){CodeLensRequest2.method="textDocument/codeLens",CodeLensRequest2.type=new messages_1.ProtocolRequestType(CodeLensRequest2.method)})(CodeLensRequest=exports.CodeLensRequest||(exports.CodeLensRequest={}));var CodeLensResolveRequest;(function(CodeLensResolveRequest2){CodeLensResolveRequest2.method="codeLens/resolve",CodeLensResolveRequest2.type=new messages_1.ProtocolRequestType(CodeLensResolveRequest2.method)})(CodeLensResolveRequest=exports.CodeLensResolveRequest||(exports.CodeLensResolveRequest={}));var CodeLensRefreshRequest;(function(CodeLensRefreshRequest2){CodeLensRefreshRequest2.method="workspace/codeLens/refresh",CodeLensRefreshRequest2.type=new messages_1.ProtocolRequestType0(CodeLensRefreshRequest2.method)})(CodeLensRefreshRequest=exports.CodeLensRefreshRequest||(exports.CodeLensRefreshRequest={}));var DocumentLinkRequest;(function(DocumentLinkRequest2){DocumentLinkRequest2.method="textDocument/documentLink",DocumentLinkRequest2.type=new messages_1.ProtocolRequestType(DocumentLinkRequest2.method)})(DocumentLinkRequest=exports.DocumentLinkRequest||(exports.DocumentLinkRequest={}));var DocumentLinkResolveRequest;(function(DocumentLinkResolveRequest2){DocumentLinkResolveRequest2.method="documentLink/resolve",DocumentLinkResolveRequest2.type=new messages_1.ProtocolRequestType(DocumentLinkResolveRequest2.method)})(DocumentLinkResolveRequest=exports.DocumentLinkResolveRequest||(exports.DocumentLinkResolveRequest={}));var DocumentFormattingRequest;(function(DocumentFormattingRequest2){DocumentFormattingRequest2.method="textDocument/formatting",DocumentFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentFormattingRequest2.method)})(DocumentFormattingRequest=exports.DocumentFormattingRequest||(exports.DocumentFormattingRequest={}));var DocumentRangeFormattingRequest;(function(DocumentRangeFormattingRequest2){DocumentRangeFormattingRequest2.method="textDocument/rangeFormatting",DocumentRangeFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest2.method)})(DocumentRangeFormattingRequest=exports.DocumentRangeFormattingRequest||(exports.DocumentRangeFormattingRequest={}));var DocumentOnTypeFormattingRequest;(function(DocumentOnTypeFormattingRequest2){DocumentOnTypeFormattingRequest2.method="textDocument/onTypeFormatting",DocumentOnTypeFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest2.method)})(DocumentOnTypeFormattingRequest=exports.DocumentOnTypeFormattingRequest||(exports.DocumentOnTypeFormattingRequest={}));var PrepareSupportDefaultBehavior;(function(PrepareSupportDefaultBehavior2){PrepareSupportDefaultBehavior2.Identifier=1})(PrepareSupportDefaultBehavior=exports.PrepareSupportDefaultBehavior||(exports.PrepareSupportDefaultBehavior={}));var RenameRequest;(function(RenameRequest2){RenameRequest2.method="textDocument/rename",RenameRequest2.type=new messages_1.ProtocolRequestType(RenameRequest2.method)})(RenameRequest=exports.RenameRequest||(exports.RenameRequest={}));var PrepareRenameRequest;(function(PrepareRenameRequest2){PrepareRenameRequest2.method="textDocument/prepareRename",PrepareRenameRequest2.type=new messages_1.ProtocolRequestType(PrepareRenameRequest2.method)})(PrepareRenameRequest=exports.PrepareRenameRequest||(exports.PrepareRenameRequest={}));var ExecuteCommandRequest;(function(ExecuteCommandRequest2){ExecuteCommandRequest2.type=new messages_1.ProtocolRequestType("workspace/executeCommand")})(ExecuteCommandRequest=exports.ExecuteCommandRequest||(exports.ExecuteCommandRequest={}));var ApplyWorkspaceEditRequest;(function(ApplyWorkspaceEditRequest2){ApplyWorkspaceEditRequest2.type=new messages_1.ProtocolRequestType("workspace/applyEdit")})(ApplyWorkspaceEditRequest=exports.ApplyWorkspaceEditRequest||(exports.ApplyWorkspaceEditRequest={}))}});var require_connection2=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/connection.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.createProtocolConnection=void 0;var vscode_jsonrpc_1=require_main();function createProtocolConnection(input,output,logger,options){return vscode_jsonrpc_1.ConnectionStrategy.is(options)&&(options={connectionStrategy:options}),vscode_jsonrpc_1.createMessageConnection(input,output,logger,options)}exports.createProtocolConnection=createProtocolConnection}});var require_api3=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/common/api.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]}),__exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p)&&__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:!0});exports.LSPErrorCodes=exports.createProtocolConnection=void 0;__exportStar(require_main(),exports);__exportStar(require_main2(),exports);__exportStar(require_messages2(),exports);__exportStar(require_protocol(),exports);var connection_1=require_connection2();Object.defineProperty(exports,"createProtocolConnection",{enumerable:!0,get:function(){return connection_1.createProtocolConnection}});var LSPErrorCodes;(function(LSPErrorCodes2){LSPErrorCodes2.lspReservedErrorRangeStart=-32899,LSPErrorCodes2.ContentModified=-32801,LSPErrorCodes2.RequestCancelled=-32800,LSPErrorCodes2.lspReservedErrorRangeEnd=-32800})(LSPErrorCodes=exports.LSPErrorCodes||(exports.LSPErrorCodes={}))}});var require_main3=__commonJS({"../node_modules/vscode-languageserver-protocol/lib/node/main.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]}),__exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p)&&__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:!0});exports.createProtocolConnection=void 0;var node_1=require_node3();__exportStar(require_node3(),exports);__exportStar(require_api3(),exports);function createProtocolConnection(input,output,logger,options){return node_1.createMessageConnection(input,output,logger,options)}exports.createProtocolConnection=createProtocolConnection}});var require_configuration=__commonJS({"../node_modules/vscode-languageclient/lib/common/configuration.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.toJSONObject=exports.ConfigurationFeature=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),ConfigurationFeature=class{constructor(_client){this._client=_client}fillClientCapabilities(capabilities){capabilities.workspace=capabilities.workspace||{},capabilities.workspace.configuration=!0}initialize(){let client=this._client;client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type,(params,token)=>{let configuration=params2=>{let result=[];for(let item of params2.items){let resource=item.scopeUri!==void 0&&item.scopeUri!==null?this._client.protocol2CodeConverter.asUri(item.scopeUri):void 0;result.push(this.getConfiguration(resource,item.section!==null?item.section:void 0))}return result},middleware=client.clientOptions.middleware.workspace;return middleware&&middleware.configuration?middleware.configuration(params,token,configuration):configuration(params,token)})}getConfiguration(resource,section){let result=null;if(section){let index=section.lastIndexOf(".");if(index===-1)result=toJSONObject(vscode_1.workspace.getConfiguration(void 0,resource).get(section));else{let config=vscode_1.workspace.getConfiguration(section.substr(0,index),resource);config&&(result=toJSONObject(config.get(section.substr(index+1))))}}else{let config=vscode_1.workspace.getConfiguration(void 0,resource);result={};for(let key of Object.keys(config))config.has(key)&&(result[key]=toJSONObject(config.get(key)))}return result===void 0&&(result=null),result}dispose(){}};exports.ConfigurationFeature=ConfigurationFeature;function toJSONObject(obj){if(obj){if(Array.isArray(obj))return obj.map(toJSONObject);if(typeof obj=="object"){let res=Object.create(null);for(let key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(res[key]=toJSONObject(obj[key]));return res}}return obj}exports.toJSONObject=toJSONObject}});var require_protocolCompletionItem=__commonJS({"../node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var code=require("vscode"),ProtocolCompletionItem=class extends code.CompletionItem{constructor(label){super(label)}};exports.default=ProtocolCompletionItem}});var require_protocolCodeLens=__commonJS({"../node_modules/vscode-languageclient/lib/common/protocolCodeLens.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var code=require("vscode"),ProtocolCodeLens=class extends code.CodeLens{constructor(range){super(range)}};exports.default=ProtocolCodeLens}});var require_protocolDocumentLink=__commonJS({"../node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var code=require("vscode"),ProtocolDocumentLink=class extends code.DocumentLink{constructor(range,target){super(range,target)}};exports.default=ProtocolDocumentLink}});var require_protocolCodeAction=__commonJS({"../node_modules/vscode-languageclient/lib/common/protocolCodeAction.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var vscode10=require("vscode"),ProtocolCodeAction=class extends vscode10.CodeAction{constructor(title,data){super(title);this.data=data}};exports.default=ProtocolCodeAction}});var require_protocolDiagnostic=__commonJS({"../node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ProtocolDiagnostic=exports.DiagnosticCode=void 0;var vscode10=require("vscode"),Is=require_is2(),DiagnosticCode;(function(DiagnosticCode2){function is(value){let candidate=value;return candidate!=null&&(Is.number(candidate.value)||Is.string(candidate.value))&&Is.string(candidate.target)}DiagnosticCode2.is=is})(DiagnosticCode=exports.DiagnosticCode||(exports.DiagnosticCode={}));var ProtocolDiagnostic=class extends vscode10.Diagnostic{constructor(range,message,severity,data){super(range,message,severity);this.data=data,this.hasDiagnosticCode=!1}};exports.ProtocolDiagnostic=ProtocolDiagnostic}});var require_protocolCallHierarchyItem=__commonJS({"../node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var code=require("vscode"),ProtocolCallHierarchyItem=class extends code.CallHierarchyItem{constructor(kind,name,detail,uri,range,selectionRange,data){super(kind,name,detail,uri,range,selectionRange);data!==void 0&&(this.data=data)}};exports.default=ProtocolCallHierarchyItem}});var require_codeConverter=__commonJS({"../node_modules/vscode-languageclient/lib/common/codeConverter.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.createConverter=void 0;var code=require("vscode"),proto=require_main3(),Is=require_is2(),protocolCompletionItem_1=require_protocolCompletionItem(),protocolCodeLens_1=require_protocolCodeLens(),protocolDocumentLink_1=require_protocolDocumentLink(),protocolCodeAction_1=require_protocolCodeAction(),protocolDiagnostic_1=require_protocolDiagnostic(),protocolCallHierarchyItem_1=require_protocolCallHierarchyItem(),vscode_languageserver_protocol_1=require_main3(),InsertReplaceRange;(function(InsertReplaceRange2){function is(value){let candidate=value;return candidate&&!!candidate.inserting&&!!candidate.replacing}InsertReplaceRange2.is=is})(InsertReplaceRange||(InsertReplaceRange={}));function createConverter(uriConverter){let _uriConverter=uriConverter||(value=>value.toString());function asUri(value){return _uriConverter(value)}function asTextDocumentIdentifier(textDocument){return{uri:_uriConverter(textDocument.uri)}}function asVersionedTextDocumentIdentifier(textDocument){return{uri:_uriConverter(textDocument.uri),version:textDocument.version}}function asOpenTextDocumentParams(textDocument){return{textDocument:{uri:_uriConverter(textDocument.uri),languageId:textDocument.languageId,version:textDocument.version,text:textDocument.getText()}}}function isTextDocumentChangeEvent(value){let candidate=value;return!!candidate.document&&!!candidate.contentChanges}function isTextDocument(value){let candidate=value;return!!candidate.uri&&!!candidate.version}function asChangeTextDocumentParams(arg){if(isTextDocument(arg))return{textDocument:{uri:_uriConverter(arg.uri),version:arg.version},contentChanges:[{text:arg.getText()}]};if(isTextDocumentChangeEvent(arg)){let document2=arg.document;return{textDocument:{uri:_uriConverter(document2.uri),version:document2.version},contentChanges:arg.contentChanges.map(change=>{let range=change.range;return{range:{start:{line:range.start.line,character:range.start.character},end:{line:range.end.line,character:range.end.character}},rangeLength:change.rangeLength,text:change.text}})}}else throw Error("Unsupported text document change parameter")}function asCloseTextDocumentParams(textDocument){return{textDocument:asTextDocumentIdentifier(textDocument)}}function asSaveTextDocumentParams(textDocument,includeContent=!1){let result={textDocument:asTextDocumentIdentifier(textDocument)};return includeContent&&(result.text=textDocument.getText()),result}function asTextDocumentSaveReason(reason){switch(reason){case code.TextDocumentSaveReason.Manual:return proto.TextDocumentSaveReason.Manual;case code.TextDocumentSaveReason.AfterDelay:return proto.TextDocumentSaveReason.AfterDelay;case code.TextDocumentSaveReason.FocusOut:return proto.TextDocumentSaveReason.FocusOut}return proto.TextDocumentSaveReason.Manual}function asWillSaveTextDocumentParams(event){return{textDocument:asTextDocumentIdentifier(event.document),reason:asTextDocumentSaveReason(event.reason)}}function asDidCreateFilesParams(event){return{files:event.files.map(fileUri=>({uri:_uriConverter(fileUri)}))}}function asDidRenameFilesParams(event){return{files:event.files.map(file=>({oldUri:_uriConverter(file.oldUri),newUri:_uriConverter(file.newUri)}))}}function asDidDeleteFilesParams(event){return{files:event.files.map(fileUri=>({uri:_uriConverter(fileUri)}))}}function asWillCreateFilesParams(event){return{files:event.files.map(fileUri=>({uri:_uriConverter(fileUri)}))}}function asWillRenameFilesParams(event){return{files:event.files.map(file=>({oldUri:_uriConverter(file.oldUri),newUri:_uriConverter(file.newUri)}))}}function asWillDeleteFilesParams(event){return{files:event.files.map(fileUri=>({uri:_uriConverter(fileUri)}))}}function asTextDocumentPositionParams(textDocument,position){return{textDocument:asTextDocumentIdentifier(textDocument),position:asWorkerPosition(position)}}function asCompletionTriggerKind(triggerKind){switch(triggerKind){case code.CompletionTriggerKind.TriggerCharacter:return proto.CompletionTriggerKind.TriggerCharacter;case code.CompletionTriggerKind.TriggerForIncompleteCompletions:return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return proto.CompletionTriggerKind.Invoked}}function asCompletionParams(textDocument,position,context){return{textDocument:asTextDocumentIdentifier(textDocument),position:asWorkerPosition(position),context:{triggerKind:asCompletionTriggerKind(context.triggerKind),triggerCharacter:context.triggerCharacter}}}function asSignatureHelpTriggerKind(triggerKind){switch(triggerKind){case code.SignatureHelpTriggerKind.Invoke:return proto.SignatureHelpTriggerKind.Invoked;case code.SignatureHelpTriggerKind.TriggerCharacter:return proto.SignatureHelpTriggerKind.TriggerCharacter;case code.SignatureHelpTriggerKind.ContentChange:return proto.SignatureHelpTriggerKind.ContentChange}}function asParameterInformation(value){return{label:value.label}}function asParameterInformations(values){return values.map(asParameterInformation)}function asSignatureInformation(value){return{label:value.label,parameters:asParameterInformations(value.parameters)}}function asSignatureInformations(values){return values.map(asSignatureInformation)}function asSignatureHelp(value){return value===void 0?value:{signatures:asSignatureInformations(value.signatures),activeSignature:value.activeSignature,activeParameter:value.activeParameter}}function asSignatureHelpParams(textDocument,position,context){return{textDocument:asTextDocumentIdentifier(textDocument),position:asWorkerPosition(position),context:{isRetrigger:context.isRetrigger,triggerCharacter:context.triggerCharacter,triggerKind:asSignatureHelpTriggerKind(context.triggerKind),activeSignatureHelp:asSignatureHelp(context.activeSignatureHelp)}}}function asWorkerPosition(position){return{line:position.line,character:position.character}}function asPosition(value){return value==null?value:{line:value.line,character:value.character}}function asPositions(value){let result=[];for(let elem of value)result.push(asPosition(elem));return result}function asRange(value){return value==null?value:{start:asPosition(value.start),end:asPosition(value.end)}}function asLocation(value){return value==null?value:proto.Location.create(asUri(value.uri),asRange(value.range))}function asDiagnosticSeverity(value){switch(value){case code.DiagnosticSeverity.Error:return proto.DiagnosticSeverity.Error;case code.DiagnosticSeverity.Warning:return proto.DiagnosticSeverity.Warning;case code.DiagnosticSeverity.Information:return proto.DiagnosticSeverity.Information;case code.DiagnosticSeverity.Hint:return proto.DiagnosticSeverity.Hint}}function asDiagnosticTags(tags){if(!tags)return;let result=[];for(let tag of tags){let converted=asDiagnosticTag(tag);converted!==void 0&&result.push(converted)}return result.length>0?result:void 0}function asDiagnosticTag(tag){switch(tag){case code.DiagnosticTag.Unnecessary:return proto.DiagnosticTag.Unnecessary;case code.DiagnosticTag.Deprecated:return proto.DiagnosticTag.Deprecated;default:return}}function asRelatedInformation(item){return{message:item.message,location:asLocation(item.location)}}function asRelatedInformations(items){return items.map(asRelatedInformation)}function asDiagnosticCode(value){if(value!=null)return Is.number(value)||Is.string(value)?value:{value:value.value,target:asUri(value.target)}}function asDiagnostic(item){let result=proto.Diagnostic.create(asRange(item.range),item.message),protocolDiagnostic=item instanceof protocolDiagnostic_1.ProtocolDiagnostic?item:void 0;protocolDiagnostic!==void 0&&protocolDiagnostic.data!==void 0&&(result.data=protocolDiagnostic.data);let code2=asDiagnosticCode(item.code);return protocolDiagnostic_1.DiagnosticCode.is(code2)?protocolDiagnostic!==void 0&&protocolDiagnostic.hasDiagnosticCode?result.code=code2:(result.code=code2.value,result.codeDescription={href:code2.target}):result.code=code2,Is.number(item.severity)&&(result.severity=asDiagnosticSeverity(item.severity)),Array.isArray(item.tags)&&(result.tags=asDiagnosticTags(item.tags)),item.relatedInformation&&(result.relatedInformation=asRelatedInformations(item.relatedInformation)),item.source&&(result.source=item.source),result}function asDiagnostics(items){return items==null?items:items.map(asDiagnostic)}function asDocumentation(format,documentation){switch(format){case"$string":return documentation;case proto.MarkupKind.PlainText:return{kind:format,value:documentation};case proto.MarkupKind.Markdown:return{kind:format,value:documentation.value};default:return`Unsupported Markup content received. Kind is: ${format}`}}function asCompletionItemTag(tag){switch(tag){case code.CompletionItemTag.Deprecated:return proto.CompletionItemTag.Deprecated}}function asCompletionItemTags(tags){if(tags===void 0)return tags;let result=[];for(let tag of tags){let converted=asCompletionItemTag(tag);converted!==void 0&&result.push(converted)}return result}function asCompletionItemKind(value,original){return original!==void 0?original:value+1}function asCompletionItem(item){let result={label:item.label},protocolItem=item instanceof protocolCompletionItem_1.default?item:void 0;item.detail&&(result.detail=item.detail),item.documentation&&(!protocolItem||protocolItem.documentationFormat==="$string"?result.documentation=item.documentation:result.documentation=asDocumentation(protocolItem.documentationFormat,item.documentation)),item.filterText&&(result.filterText=item.filterText),fillPrimaryInsertText(result,item),Is.number(item.kind)&&(result.kind=asCompletionItemKind(item.kind,protocolItem&&protocolItem.originalItemKind)),item.sortText&&(result.sortText=item.sortText),item.additionalTextEdits&&(result.additionalTextEdits=asTextEdits(item.additionalTextEdits)),item.commitCharacters&&(result.commitCharacters=item.commitCharacters.slice()),item.command&&(result.command=asCommand(item.command)),(item.preselect===!0||item.preselect===!1)&&(result.preselect=item.preselect);let tags=asCompletionItemTags(item.tags);if(protocolItem){if(protocolItem.data!==void 0&&(result.data=protocolItem.data),protocolItem.deprecated===!0||protocolItem.deprecated===!1){if(protocolItem.deprecated===!0&&tags!==void 0&&tags.length>0){let index=tags.indexOf(code.CompletionItemTag.Deprecated);index!==-1&&tags.splice(index,1)}result.deprecated=protocolItem.deprecated}protocolItem.insertTextMode!==void 0&&(result.insertTextMode=protocolItem.insertTextMode)}return tags!==void 0&&tags.length>0&&(result.tags=tags),result.insertTextMode===void 0&&item.keepWhitespace===!0&&(result.insertTextMode=vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation),result}function fillPrimaryInsertText(target,source){let format=proto.InsertTextFormat.PlainText,text,range;source.textEdit?(text=source.textEdit.newText,range=source.textEdit.range):source.insertText instanceof code.SnippetString?(format=proto.InsertTextFormat.Snippet,text=source.insertText.value):text=source.insertText,source.range&&(range=source.range),target.insertTextFormat=format,source.fromEdit&&text!==void 0&&range!==void 0?target.textEdit=asCompletionTextEdit(text,range):target.insertText=text}function asCompletionTextEdit(newText,range){return InsertReplaceRange.is(range)?proto.InsertReplaceEdit.create(newText,asRange(range.inserting),asRange(range.replacing)):{newText,range:asRange(range)}}function asTextEdit(edit){return{range:asRange(edit.range),newText:edit.newText}}function asTextEdits(edits){return edits==null?edits:edits.map(asTextEdit)}function asSymbolKind(item){return item<=code.SymbolKind.TypeParameter?item+1:proto.SymbolKind.Property}function asSymbolTag(item){return item}function asSymbolTags(items){return items.map(asSymbolTag)}function asReferenceParams(textDocument,position,options){return{textDocument:asTextDocumentIdentifier(textDocument),position:asWorkerPosition(position),context:{includeDeclaration:options.includeDeclaration}}}function asCodeAction(item){let result=proto.CodeAction.create(item.title);if(item instanceof protocolCodeAction_1.default&&item.data!==void 0&&(result.data=item.data),item.kind!==void 0&&(result.kind=asCodeActionKind(item.kind)),item.diagnostics!==void 0&&(result.diagnostics=asDiagnostics(item.diagnostics)),item.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return item.command!==void 0&&(result.command=asCommand(item.command)),item.isPreferred!==void 0&&(result.isPreferred=item.isPreferred),item.disabled!==void 0&&(result.disabled={reason:item.disabled.reason}),result}function asCodeActionContext(context){if(context==null)return context;let only;return context.only&&Is.string(context.only.value)&&(only=[context.only.value]),proto.CodeActionContext.create(asDiagnostics(context.diagnostics),only)}function asCodeActionKind(item){if(item!=null)return item.value}function asCommand(item){let result=proto.Command.create(item.title,item.command);return item.arguments&&(result.arguments=item.arguments),result}function asCodeLens(item){let result=proto.CodeLens.create(asRange(item.range));return item.command&&(result.command=asCommand(item.command)),item instanceof protocolCodeLens_1.default&&item.data&&(result.data=item.data),result}function asFormattingOptions(options,fileOptions){let result={tabSize:options.tabSize,insertSpaces:options.insertSpaces};return fileOptions.trimTrailingWhitespace&&(result.trimTrailingWhitespace=!0),fileOptions.trimFinalNewlines&&(result.trimFinalNewlines=!0),fileOptions.insertFinalNewline&&(result.insertFinalNewline=!0),result}function asDocumentSymbolParams(textDocument){return{textDocument:asTextDocumentIdentifier(textDocument)}}function asCodeLensParams(textDocument){return{textDocument:asTextDocumentIdentifier(textDocument)}}function asDocumentLink(item){let result=proto.DocumentLink.create(asRange(item.range));item.target&&(result.target=asUri(item.target)),item.tooltip!==void 0&&(result.tooltip=item.tooltip);let protocolItem=item instanceof protocolDocumentLink_1.default?item:void 0;return protocolItem&&protocolItem.data&&(result.data=protocolItem.data),result}function asDocumentLinkParams(textDocument){return{textDocument:asTextDocumentIdentifier(textDocument)}}function asCallHierarchyItem(value){let result={name:value.name,kind:asSymbolKind(value.kind),uri:asUri(value.uri),range:asRange(value.range),selectionRange:asRange(value.selectionRange)};return value.detail!==void 0&&value.detail.length>0&&(result.detail=value.detail),value.tags!==void 0&&(result.tags=asSymbolTags(value.tags)),value instanceof protocolCallHierarchyItem_1.default&&value.data!==void 0&&(result.data=value.data),result}return{asUri,asTextDocumentIdentifier,asVersionedTextDocumentIdentifier,asOpenTextDocumentParams,asChangeTextDocumentParams,asCloseTextDocumentParams,asSaveTextDocumentParams,asWillSaveTextDocumentParams,asDidCreateFilesParams,asDidRenameFilesParams,asDidDeleteFilesParams,asWillCreateFilesParams,asWillRenameFilesParams,asWillDeleteFilesParams,asTextDocumentPositionParams,asCompletionParams,asSignatureHelpParams,asWorkerPosition,asRange,asPosition,asPositions,asLocation,asDiagnosticSeverity,asDiagnosticTag,asDiagnostic,asDiagnostics,asCompletionItem,asTextEdit,asSymbolKind,asSymbolTag,asSymbolTags,asReferenceParams,asCodeAction,asCodeActionContext,asCommand,asCodeLens,asFormattingOptions,asDocumentSymbolParams,asCodeLensParams,asDocumentLink,asDocumentLinkParams,asCallHierarchyItem}}exports.createConverter=createConverter}});var require_protocolConverter=__commonJS({"../node_modules/vscode-languageclient/lib/common/protocolConverter.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.createConverter=void 0;var code=require("vscode"),ls=require_main3(),Is=require_is2(),protocolCompletionItem_1=require_protocolCompletionItem(),protocolCodeLens_1=require_protocolCodeLens(),protocolDocumentLink_1=require_protocolDocumentLink(),protocolCodeAction_1=require_protocolCodeAction(),protocolDiagnostic_1=require_protocolDiagnostic(),protocolCallHierarchyItem_1=require_protocolCallHierarchyItem(),vscode_languageserver_protocol_1=require_main3(),CodeBlock;(function(CodeBlock2){function is(value){let candidate=value;return candidate&&Is.string(candidate.language)&&Is.string(candidate.value)}CodeBlock2.is=is})(CodeBlock||(CodeBlock={}));function createConverter(uriConverter,trustMarkdown){let _uriConverter=uriConverter||(value=>code.Uri.parse(value));function asUri(value){return _uriConverter(value)}function asDiagnostics(diagnostics){return diagnostics.map(asDiagnostic)}function asDiagnostic(diagnostic){let result=new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range),diagnostic.message,asDiagnosticSeverity(diagnostic.severity),diagnostic.data);return diagnostic.code!==void 0&&(ls.CodeDescription.is(diagnostic.codeDescription)?result.code={value:diagnostic.code,target:asUri(diagnostic.codeDescription.href)}:protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)?(result.hasDiagnosticCode=!0,result.code={value:diagnostic.code.value,target:asUri(diagnostic.code.target)}):result.code=diagnostic.code),diagnostic.source&&(result.source=diagnostic.source),diagnostic.relatedInformation&&(result.relatedInformation=asRelatedInformation(diagnostic.relatedInformation)),Array.isArray(diagnostic.tags)&&(result.tags=asDiagnosticTags(diagnostic.tags)),result}function asRelatedInformation(relatedInformation){return relatedInformation.map(asDiagnosticRelatedInformation)}function asDiagnosticRelatedInformation(information){return new code.DiagnosticRelatedInformation(asLocation(information.location),information.message)}function asDiagnosticTags(tags){if(!tags)return;let result=[];for(let tag of tags){let converted=asDiagnosticTag(tag);converted!==void 0&&result.push(converted)}return result.length>0?result:void 0}function asDiagnosticTag(tag){switch(tag){case ls.DiagnosticTag.Unnecessary:return code.DiagnosticTag.Unnecessary;case ls.DiagnosticTag.Deprecated:return code.DiagnosticTag.Deprecated;default:return}}function asPosition(value){if(!!value)return new code.Position(value.line,value.character)}function asRange(value){if(!!value)return new code.Range(asPosition(value.start),asPosition(value.end))}function asRanges(value){return value.map(value2=>asRange(value2))}function asDiagnosticSeverity(value){if(value==null)return code.DiagnosticSeverity.Error;switch(value){case ls.DiagnosticSeverity.Error:return code.DiagnosticSeverity.Error;case ls.DiagnosticSeverity.Warning:return code.DiagnosticSeverity.Warning;case ls.DiagnosticSeverity.Information:return code.DiagnosticSeverity.Information;case ls.DiagnosticSeverity.Hint:return code.DiagnosticSeverity.Hint}return code.DiagnosticSeverity.Error}function asHoverContent(value){if(Is.string(value))return asMarkdownString(value);if(CodeBlock.is(value))return asMarkdownString().appendCodeblock(value.value,value.language);if(Array.isArray(value)){let result=[];for(let element of value){let item=asMarkdownString();CodeBlock.is(element)?item.appendCodeblock(element.value,element.language):item.appendMarkdown(element),result.push(item)}return result}else{let result;switch(value.kind){case ls.MarkupKind.Markdown:return asMarkdownString(value.value);case ls.MarkupKind.PlainText:return result=asMarkdownString(),result.appendText(value.value),result;default:return result=asMarkdownString(),result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`),result}}}function asDocumentation(value){if(Is.string(value))return value;switch(value.kind){case ls.MarkupKind.Markdown:return asMarkdownString(value.value);case ls.MarkupKind.PlainText:return value.value;default:return`Unsupported Markup content received. Kind is: ${value.kind}`}}function asMarkdownString(value){let result=new code.MarkdownString(value);return trustMarkdown===!0&&(result.isTrusted=trustMarkdown),result}function asHover(hover){if(!!hover)return new code.Hover(asHoverContent(hover.contents),asRange(hover.range))}function asCompletionResult(result){if(!result)return;if(Array.isArray(result))return result.map(asCompletionItem);let list=result;return new code.CompletionList(list.items.map(asCompletionItem),list.isIncomplete)}function asCompletionItemKind(value){return ls.CompletionItemKind.Text<=value&&value<=ls.CompletionItemKind.TypeParameter?[value-1,void 0]:[code.CompletionItemKind.Text,value]}function asCompletionItemTag(tag){switch(tag){case ls.CompletionItemTag.Deprecated:return code.CompletionItemTag.Deprecated}}function asCompletionItemTags(tags){if(tags==null)return[];let result=[];for(let tag of tags){let converted=asCompletionItemTag(tag);converted!==void 0&&result.push(converted)}return result}function asCompletionItem(item){let tags=asCompletionItemTags(item.tags),result=new protocolCompletionItem_1.default(item.label);item.detail&&(result.detail=item.detail),item.documentation&&(result.documentation=asDocumentation(item.documentation),result.documentationFormat=Is.string(item.documentation)?"$string":item.documentation.kind),item.filterText&&(result.filterText=item.filterText);let insertText=asCompletionInsertText(item);if(insertText&&(result.insertText=insertText.text,result.range=insertText.range,result.fromEdit=insertText.fromEdit),Is.number(item.kind)){let[itemKind,original]=asCompletionItemKind(item.kind);result.kind=itemKind,original&&(result.originalItemKind=original)}return item.sortText&&(result.sortText=item.sortText),item.additionalTextEdits&&(result.additionalTextEdits=asTextEdits(item.additionalTextEdits)),Is.stringArray(item.commitCharacters)&&(result.commitCharacters=item.commitCharacters.slice()),item.command&&(result.command=asCommand(item.command)),(item.deprecated===!0||item.deprecated===!1)&&(result.deprecated=item.deprecated,item.deprecated===!0&&tags.push(code.CompletionItemTag.Deprecated)),(item.preselect===!0||item.preselect===!1)&&(result.preselect=item.preselect),item.data!==void 0&&(result.data=item.data),tags.length>0&&(result.tags=tags),item.insertTextMode!==void 0&&(result.insertTextMode=item.insertTextMode,item.insertTextMode===vscode_languageserver_protocol_1.InsertTextMode.asIs&&(result.keepWhitespace=!0)),result}function asCompletionInsertText(item){return item.textEdit?item.insertTextFormat===ls.InsertTextFormat.Snippet?{text:new code.SnippetString(item.textEdit.newText),range:asCompletionRange(item.textEdit),fromEdit:!0}:{text:item.textEdit.newText,range:asCompletionRange(item.textEdit),fromEdit:!0}:item.insertText?item.insertTextFormat===ls.InsertTextFormat.Snippet?{text:new code.SnippetString(item.insertText),fromEdit:!1}:{text:item.insertText,fromEdit:!1}:void 0}function asCompletionRange(value){return ls.InsertReplaceEdit.is(value)?{inserting:asRange(value.insert),replacing:asRange(value.replace)}:asRange(value.range)}function asTextEdit(edit){if(!!edit)return new code.TextEdit(asRange(edit.range),edit.newText)}function asTextEdits(items){if(!!items)return items.map(asTextEdit)}function asSignatureHelp(item){if(!item)return;let result=new code.SignatureHelp;return Is.number(item.activeSignature)?result.activeSignature=item.activeSignature:result.activeSignature=0,Is.number(item.activeParameter)?result.activeParameter=item.activeParameter:result.activeParameter=0,item.signatures&&(result.signatures=asSignatureInformations(item.signatures)),result}function asSignatureInformations(items){return items.map(asSignatureInformation)}function asSignatureInformation(item){let result=new code.SignatureInformation(item.label);return item.documentation!==void 0&&(result.documentation=asDocumentation(item.documentation)),item.parameters!==void 0&&(result.parameters=asParameterInformations(item.parameters)),item.activeParameter!==void 0&&(result.activeParameter=item.activeParameter),result}function asParameterInformations(item){return item.map(asParameterInformation)}function asParameterInformation(item){let result=new code.ParameterInformation(item.label);return item.documentation&&(result.documentation=asDocumentation(item.documentation)),result}function asLocation(item){if(!!item)return new code.Location(_uriConverter(item.uri),asRange(item.range))}function asDeclarationResult(item){if(!!item)return asLocationResult(item)}function asDefinitionResult(item){if(!!item)return asLocationResult(item)}function asLocationLink(item){if(!item)return;let result={targetUri:_uriConverter(item.targetUri),targetRange:asRange(item.targetRange),originSelectionRange:asRange(item.originSelectionRange),targetSelectionRange:asRange(item.targetSelectionRange)};if(!result.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return result}function asLocationResult(item){if(!!item)return Is.array(item)?item.length===0?[]:ls.LocationLink.is(item[0])?item.map(link=>asLocationLink(link)):item.map(location=>asLocation(location)):ls.LocationLink.is(item)?[asLocationLink(item)]:asLocation(item)}function asReferences(values){if(!!values)return values.map(location=>asLocation(location))}function asDocumentHighlights(values){if(!!values)return values.map(asDocumentHighlight)}function asDocumentHighlight(item){let result=new code.DocumentHighlight(asRange(item.range));return Is.number(item.kind)&&(result.kind=asDocumentHighlightKind(item.kind)),result}function asDocumentHighlightKind(item){switch(item){case ls.DocumentHighlightKind.Text:return code.DocumentHighlightKind.Text;case ls.DocumentHighlightKind.Read:return code.DocumentHighlightKind.Read;case ls.DocumentHighlightKind.Write:return code.DocumentHighlightKind.Write}return code.DocumentHighlightKind.Text}function asSymbolInformations(values,uri){if(!!values)return values.map(information=>asSymbolInformation(information,uri))}function asSymbolKind(item){return item<=ls.SymbolKind.TypeParameter?item-1:code.SymbolKind.Property}function asSymbolTag(value){switch(value){case ls.SymbolTag.Deprecated:return code.SymbolTag.Deprecated;default:return}}function asSymbolTags(items){if(items==null)return;let result=[];for(let item of items){let converted=asSymbolTag(item);converted!==void 0&&result.push(converted)}return result.length===0?void 0:result}function asSymbolInformation(item,uri){let result=new code.SymbolInformation(item.name,asSymbolKind(item.kind),asRange(item.location.range),item.location.uri?_uriConverter(item.location.uri):uri);return fillTags(result,item),item.containerName&&(result.containerName=item.containerName),result}function asDocumentSymbols(values){if(values!=null)return values.map(asDocumentSymbol)}function asDocumentSymbol(value){let result=new code.DocumentSymbol(value.name,value.detail||"",asSymbolKind(value.kind),asRange(value.range),asRange(value.selectionRange));if(fillTags(result,value),value.children!==void 0&&value.children.length>0){let children=[];for(let child of value.children)children.push(asDocumentSymbol(child));result.children=children}return result}function fillTags(result,value){result.tags=asSymbolTags(value.tags),value.deprecated&&(result.tags?result.tags.includes(code.SymbolTag.Deprecated)||(result.tags=result.tags.concat(code.SymbolTag.Deprecated)):result.tags=[code.SymbolTag.Deprecated])}function asCommand(item){let result={title:item.title,command:item.command};return item.arguments&&(result.arguments=item.arguments),result}function asCommands(items){if(!!items)return items.map(asCommand)}let kindMapping=new Map;kindMapping.set(ls.CodeActionKind.Empty,code.CodeActionKind.Empty),kindMapping.set(ls.CodeActionKind.QuickFix,code.CodeActionKind.QuickFix),kindMapping.set(ls.CodeActionKind.Refactor,code.CodeActionKind.Refactor),kindMapping.set(ls.CodeActionKind.RefactorExtract,code.CodeActionKind.RefactorExtract),kindMapping.set(ls.CodeActionKind.RefactorInline,code.CodeActionKind.RefactorInline),kindMapping.set(ls.CodeActionKind.RefactorRewrite,code.CodeActionKind.RefactorRewrite),kindMapping.set(ls.CodeActionKind.Source,code.CodeActionKind.Source),kindMapping.set(ls.CodeActionKind.SourceOrganizeImports,code.CodeActionKind.SourceOrganizeImports);function asCodeActionKind(item){if(item==null)return;let result=kindMapping.get(item);if(result)return result;let parts=item.split(".");result=code.CodeActionKind.Empty;for(let part of parts)result=result.append(part);return result}function asCodeActionKinds(items){if(items!=null)return items.map(kind=>asCodeActionKind(kind))}function asCodeAction(item){if(item==null)return;let result=new protocolCodeAction_1.default(item.title,item.data);return item.kind!==void 0&&(result.kind=asCodeActionKind(item.kind)),item.diagnostics!==void 0&&(result.diagnostics=asDiagnostics(item.diagnostics)),item.edit!==void 0&&(result.edit=asWorkspaceEdit(item.edit)),item.command!==void 0&&(result.command=asCommand(item.command)),item.isPreferred!==void 0&&(result.isPreferred=item.isPreferred),item.disabled!==void 0&&(result.disabled={reason:item.disabled.reason}),result}function asCodeLens(item){if(!item)return;let result=new protocolCodeLens_1.default(asRange(item.range));return item.command&&(result.command=asCommand(item.command)),item.data!==void 0&&item.data!==null&&(result.data=item.data),result}function asCodeLenses(items){if(!!items)return items.map(codeLens=>asCodeLens(codeLens))}function asWorkspaceEdit(item){if(!item)return;let sharedMetadata=new Map;if(item.changeAnnotations!==void 0)for(let key of Object.keys(item.changeAnnotations)){let metaData=asWorkspaceEditEntryMetadata(item.changeAnnotations[key]);sharedMetadata.set(key,metaData)}let asMetadata=annotation=>{if(annotation!==void 0)return sharedMetadata.get(annotation)},result=new code.WorkspaceEdit;if(item.documentChanges)for(let change of item.documentChanges)if(ls.CreateFile.is(change))result.createFile(_uriConverter(change.uri),change.options,asMetadata(change.annotationId));else if(ls.RenameFile.is(change))result.renameFile(_uriConverter(change.oldUri),_uriConverter(change.newUri),change.options,asMetadata(change.annotationId));else if(ls.DeleteFile.is(change))result.deleteFile(_uriConverter(change.uri),change.options,asMetadata(change.annotationId));else if(ls.TextDocumentEdit.is(change)){let uri=_uriConverter(change.textDocument.uri);for(let edit of change.edits)vscode_languageserver_protocol_1.AnnotatedTextEdit.is(edit)?result.replace(uri,asRange(edit.range),edit.newText,asMetadata(edit.annotationId)):result.replace(uri,asRange(edit.range),edit.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(change,void 0,4)}`);else item.changes&&Object.keys(item.changes).forEach(key=>{result.set(_uriConverter(key),asTextEdits(item.changes[key]))});return result}function asWorkspaceEditEntryMetadata(annotation){if(annotation!==void 0)return{label:annotation.label,needsConfirmation:!!annotation.needsConfirmation,description:annotation.description}}function asDocumentLink(item){let range=asRange(item.range),target=item.target?asUri(item.target):void 0,link=new protocolDocumentLink_1.default(range,target);return item.tooltip!==void 0&&(link.tooltip=item.tooltip),item.data!==void 0&&item.data!==null&&(link.data=item.data),link}function asDocumentLinks(items){if(!!items)return items.map(asDocumentLink)}function asColor(color){return new code.Color(color.red,color.green,color.blue,color.alpha)}function asColorInformation(ci){return new code.ColorInformation(asRange(ci.range),asColor(ci.color))}function asColorInformations(colorInformation){if(Array.isArray(colorInformation))return colorInformation.map(asColorInformation)}function asColorPresentation(cp){let presentation=new code.ColorPresentation(cp.label);return presentation.additionalTextEdits=asTextEdits(cp.additionalTextEdits),cp.textEdit&&(presentation.textEdit=asTextEdit(cp.textEdit)),presentation}function asColorPresentations(colorPresentations){if(Array.isArray(colorPresentations))return colorPresentations.map(asColorPresentation)}function asFoldingRangeKind(kind){if(kind)switch(kind){case ls.FoldingRangeKind.Comment:return code.FoldingRangeKind.Comment;case ls.FoldingRangeKind.Imports:return code.FoldingRangeKind.Imports;case ls.FoldingRangeKind.Region:return code.FoldingRangeKind.Region}}function asFoldingRange(r){return new code.FoldingRange(r.startLine,r.endLine,asFoldingRangeKind(r.kind))}function asFoldingRanges(foldingRanges){if(Array.isArray(foldingRanges))return foldingRanges.map(asFoldingRange)}function asSelectionRange(selectionRange){return new code.SelectionRange(asRange(selectionRange.range),selectionRange.parent?asSelectionRange(selectionRange.parent):void 0)}function asSelectionRanges(selectionRanges){if(!Array.isArray(selectionRanges))return[];let result=[];for(let range of selectionRanges)result.push(asSelectionRange(range));return result}function asCallHierarchyItem(item){if(item===null)return;let result=new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind),item.name,item.detail||"",asUri(item.uri),asRange(item.range),asRange(item.selectionRange),item.data);return item.tags!==void 0&&(result.tags=asSymbolTags(item.tags)),result}function asCallHierarchyItems(items){if(items!==null)return items.map(item=>asCallHierarchyItem(item))}function asCallHierarchyIncomingCall(item){return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from),asRanges(item.fromRanges))}function asCallHierarchyIncomingCalls(items){if(items!==null)return items.map(item=>asCallHierarchyIncomingCall(item))}function asCallHierarchyOutgoingCall(item){return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to),asRanges(item.fromRanges))}function asCallHierarchyOutgoingCalls(items){if(items!==null)return items.map(item=>asCallHierarchyOutgoingCall(item))}function asSemanticTokens(value){if(value!=null)return new code.SemanticTokens(new Uint32Array(value.data),value.resultId)}function asSemanticTokensEdit(value){return new code.SemanticTokensEdit(value.start,value.deleteCount,value.data!==void 0?new Uint32Array(value.data):void 0)}function asSemanticTokensEdits(value){if(value!=null)return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit),value.resultId)}function asSemanticTokensLegend(value){return value}function asLinkedEditingRanges(value){if(value!=null)return new code.LinkedEditingRanges(asRanges(value.ranges),asRegularExpression(value.wordPattern))}function asRegularExpression(value){if(value!=null)return new RegExp(value)}return{asUri,asDiagnostics,asDiagnostic,asRange,asRanges,asPosition,asDiagnosticSeverity,asDiagnosticTag,asHover,asCompletionResult,asCompletionItem,asTextEdit,asTextEdits,asSignatureHelp,asSignatureInformations,asSignatureInformation,asParameterInformations,asParameterInformation,asDeclarationResult,asDefinitionResult,asLocation,asReferences,asDocumentHighlights,asDocumentHighlight,asDocumentHighlightKind,asSymbolKind,asSymbolTag,asSymbolTags,asSymbolInformations,asSymbolInformation,asDocumentSymbols,asDocumentSymbol,asCommand,asCommands,asCodeAction,asCodeActionKind,asCodeActionKinds,asCodeLens,asCodeLenses,asWorkspaceEdit,asDocumentLink,asDocumentLinks,asFoldingRangeKind,asFoldingRange,asFoldingRanges,asColor,asColorInformation,asColorInformations,asColorPresentation,asColorPresentations,asSelectionRange,asSelectionRanges,asSemanticTokensLegend,asSemanticTokens,asSemanticTokensEdit,asSemanticTokensEdits,asCallHierarchyItem,asCallHierarchyItems,asCallHierarchyIncomingCall,asCallHierarchyIncomingCalls,asCallHierarchyOutgoingCall,asCallHierarchyOutgoingCalls,asLinkedEditingRanges}}exports.createConverter=createConverter}});var require_async2=__commonJS({"../node_modules/vscode-languageclient/lib/common/utils/async.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Delayer=void 0;var vscode_languageserver_protocol_1=require_main3(),Delayer=class{constructor(defaultDelay){this.defaultDelay=defaultDelay,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(task,delay=this.defaultDelay){return this.task=task,delay>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(resolve=>{this.onSuccess=resolve}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var result=this.task();return this.task=void 0,result})),(delay>=0||this.timeout===void 0)&&(this.timeout=vscode_languageserver_protocol_1.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},delay>=0?delay:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let result=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,result}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(vscode_languageserver_protocol_1.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};exports.Delayer=Delayer}});var require_uuid=__commonJS({"../node_modules/vscode-languageclient/lib/common/utils/uuid.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.generateUuid=exports.parse=exports.isUUID=exports.v4=exports.empty=void 0;var ValueUUID=class{constructor(_value){this._value=_value}asHex(){return this._value}equals(other){return this.asHex()===other.asHex()}},V4UUID=class extends ValueUUID{constructor(){super([V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-","4",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._oneOf(V4UUID._timeHighBits),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex()].join(""))}static _oneOf(array){return array[Math.floor(array.length*Math.random())]}static _randomHex(){return V4UUID._oneOf(V4UUID._chars)}};V4UUID._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];V4UUID._timeHighBits=["8","9","a","b"];exports.empty=new ValueUUID("00000000-0000-0000-0000-000000000000");function v4(){return new V4UUID}exports.v4=v4;var _UUIDPattern=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function isUUID(value){return _UUIDPattern.test(value)}exports.isUUID=isUUID;function parse(value){if(!isUUID(value))throw new Error("invalid uuid");return new ValueUUID(value)}exports.parse=parse;function generateUuid(){return v4().asHex()}exports.generateUuid=generateUuid}});var require_progressPart=__commonJS({"../node_modules/vscode-languageclient/lib/common/progressPart.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ProgressPart=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),Is=require_is2(),ProgressPart=class{constructor(_client,_token,done){this._client=_client,this._token=_token,this._reported=0,this._disposable=this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type,this._token,value=>{switch(value.kind){case"begin":this.begin(value);break;case"report":this.report(value);break;case"end":this.done(),done&&done(this);break}})}begin(params){vscode_1.window.withProgress({location:vscode_1.ProgressLocation.Window,cancellable:params.cancellable,title:params.title},async(progress,cancellationToken)=>(this._progress=progress,this._infinite=params.percentage===void 0,this._cancellationToken=cancellationToken,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(params),new Promise((resolve,reject)=>{this._resolve=resolve,this._reject=reject})))}report(params){if(this._infinite&&Is.string(params.message))this._progress.report({message:params.message});else if(Is.number(params.percentage)){let percentage=Math.max(0,Math.min(params.percentage,100)),delta=Math.max(0,percentage-this._reported);this._progress.report({message:params.message,increment:delta}),this._reported+=delta}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};exports.ProgressPart=ProgressPart}});var require_client2=__commonJS({"../node_modules/vscode-languageclient/lib/common/client.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.BaseLanguageClient=exports.MessageTransports=exports.TextDocumentFeature=exports.State=exports.RevealOutputChannelOn=exports.CloseAction=exports.ErrorAction=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),configuration_1=require_configuration(),c2p=require_codeConverter(),p2c=require_protocolConverter(),Is=require_is2(),async_1=require_async2(),UUID=require_uuid(),progressPart_1=require_progressPart(),ConsoleLogger=class{error(message){vscode_languageserver_protocol_1.RAL().console.error(message)}warn(message){vscode_languageserver_protocol_1.RAL().console.warn(message)}info(message){vscode_languageserver_protocol_1.RAL().console.info(message)}log(message){vscode_languageserver_protocol_1.RAL().console.log(message)}};function createConnection(input,output,errorHandler,closeHandler,options){let logger=new ConsoleLogger,connection=vscode_languageserver_protocol_1.createProtocolConnection(input,output,logger,options);return connection.onError(data=>{errorHandler(data[0],data[1],data[2])}),connection.onClose(closeHandler),{listen:()=>connection.listen(),sendRequest:(type,...params)=>connection.sendRequest(Is.string(type)?type:type.method,...params),onRequest:(type,handler)=>connection.onRequest(Is.string(type)?type:type.method,handler),sendNotification:(type,params)=>connection.sendNotification(Is.string(type)?type:type.method,params),onNotification:(type,handler)=>connection.onNotification(Is.string(type)?type:type.method,handler),onProgress:connection.onProgress,sendProgress:connection.sendProgress,trace:(value,tracer,sendNotificationOrTraceOptions)=>{let defaultTraceOptions={sendNotification:!1,traceFormat:vscode_languageserver_protocol_1.TraceFormat.Text};sendNotificationOrTraceOptions===void 0?connection.trace(value,tracer,defaultTraceOptions):(Is.boolean(sendNotificationOrTraceOptions),connection.trace(value,tracer,sendNotificationOrTraceOptions))},initialize:params=>connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type,params),shutdown:()=>connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type,void 0),exit:()=>connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type),onLogMessage:handler=>connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type,handler),onShowMessage:handler=>connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type,handler),onTelemetry:handler=>connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type,handler),didChangeConfiguration:params=>connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type,params),didChangeWatchedFiles:params=>connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type,params),didOpenTextDocument:params=>connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type,params),didChangeTextDocument:params=>connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,params),didCloseTextDocument:params=>connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type,params),didSaveTextDocument:params=>connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type,params),onDiagnostics:handler=>connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type,handler),end:()=>connection.end(),dispose:()=>connection.dispose()}}var ErrorAction;(function(ErrorAction2){ErrorAction2[ErrorAction2.Continue=1]="Continue",ErrorAction2[ErrorAction2.Shutdown=2]="Shutdown"})(ErrorAction=exports.ErrorAction||(exports.ErrorAction={}));var CloseAction;(function(CloseAction2){CloseAction2[CloseAction2.DoNotRestart=1]="DoNotRestart",CloseAction2[CloseAction2.Restart=2]="Restart"})(CloseAction=exports.CloseAction||(exports.CloseAction={}));var DefaultErrorHandler=class{constructor(name,maxRestartCount){this.name=name,this.maxRestartCount=maxRestartCount,this.restarts=[]}error(_error,_message,count){return count&&count<=3?ErrorAction.Continue:ErrorAction.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?CloseAction.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(vscode_1.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),CloseAction.DoNotRestart):(this.restarts.shift(),CloseAction.Restart)}},RevealOutputChannelOn;(function(RevealOutputChannelOn2){RevealOutputChannelOn2[RevealOutputChannelOn2.Info=1]="Info",RevealOutputChannelOn2[RevealOutputChannelOn2.Warn=2]="Warn",RevealOutputChannelOn2[RevealOutputChannelOn2.Error=3]="Error",RevealOutputChannelOn2[RevealOutputChannelOn2.Never=4]="Never"})(RevealOutputChannelOn=exports.RevealOutputChannelOn||(exports.RevealOutputChannelOn={}));var State;(function(State2){State2[State2.Stopped=1]="Stopped",State2[State2.Starting=3]="Starting",State2[State2.Running=2]="Running"})(State=exports.State||(exports.State={}));var ClientState;(function(ClientState2){ClientState2[ClientState2.Initial=0]="Initial",ClientState2[ClientState2.Starting=1]="Starting",ClientState2[ClientState2.StartFailed=2]="StartFailed",ClientState2[ClientState2.Running=3]="Running",ClientState2[ClientState2.Stopping=4]="Stopping",ClientState2[ClientState2.Stopped=5]="Stopped"})(ClientState||(ClientState={}));var SupportedSymbolKinds=[vscode_languageserver_protocol_1.SymbolKind.File,vscode_languageserver_protocol_1.SymbolKind.Module,vscode_languageserver_protocol_1.SymbolKind.Namespace,vscode_languageserver_protocol_1.SymbolKind.Package,vscode_languageserver_protocol_1.SymbolKind.Class,vscode_languageserver_protocol_1.SymbolKind.Method,vscode_languageserver_protocol_1.SymbolKind.Property,vscode_languageserver_protocol_1.SymbolKind.Field,vscode_languageserver_protocol_1.SymbolKind.Constructor,vscode_languageserver_protocol_1.SymbolKind.Enum,vscode_languageserver_protocol_1.SymbolKind.Interface,vscode_languageserver_protocol_1.SymbolKind.Function,vscode_languageserver_protocol_1.SymbolKind.Variable,vscode_languageserver_protocol_1.SymbolKind.Constant,vscode_languageserver_protocol_1.SymbolKind.String,vscode_languageserver_protocol_1.SymbolKind.Number,vscode_languageserver_protocol_1.SymbolKind.Boolean,vscode_languageserver_protocol_1.SymbolKind.Array,vscode_languageserver_protocol_1.SymbolKind.Object,vscode_languageserver_protocol_1.SymbolKind.Key,vscode_languageserver_protocol_1.SymbolKind.Null,vscode_languageserver_protocol_1.SymbolKind.EnumMember,vscode_languageserver_protocol_1.SymbolKind.Struct,vscode_languageserver_protocol_1.SymbolKind.Event,vscode_languageserver_protocol_1.SymbolKind.Operator,vscode_languageserver_protocol_1.SymbolKind.TypeParameter],SupportedCompletionItemKinds=[vscode_languageserver_protocol_1.CompletionItemKind.Text,vscode_languageserver_protocol_1.CompletionItemKind.Method,vscode_languageserver_protocol_1.CompletionItemKind.Function,vscode_languageserver_protocol_1.CompletionItemKind.Constructor,vscode_languageserver_protocol_1.CompletionItemKind.Field,vscode_languageserver_protocol_1.CompletionItemKind.Variable,vscode_languageserver_protocol_1.CompletionItemKind.Class,vscode_languageserver_protocol_1.CompletionItemKind.Interface,vscode_languageserver_protocol_1.CompletionItemKind.Module,vscode_languageserver_protocol_1.CompletionItemKind.Property,vscode_languageserver_protocol_1.CompletionItemKind.Unit,vscode_languageserver_protocol_1.CompletionItemKind.Value,vscode_languageserver_protocol_1.CompletionItemKind.Enum,vscode_languageserver_protocol_1.CompletionItemKind.Keyword,vscode_languageserver_protocol_1.CompletionItemKind.Snippet,vscode_languageserver_protocol_1.CompletionItemKind.Color,vscode_languageserver_protocol_1.CompletionItemKind.File,vscode_languageserver_protocol_1.CompletionItemKind.Reference,vscode_languageserver_protocol_1.CompletionItemKind.Folder,vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,vscode_languageserver_protocol_1.CompletionItemKind.Constant,vscode_languageserver_protocol_1.CompletionItemKind.Struct,vscode_languageserver_protocol_1.CompletionItemKind.Event,vscode_languageserver_protocol_1.CompletionItemKind.Operator,vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter],SupportedSymbolTags=[vscode_languageserver_protocol_1.SymbolTag.Deprecated];function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var FileFormattingOptions;(function(FileFormattingOptions2){function fromConfiguration(document2){let filesConfig=vscode_1.workspace.getConfiguration("files",document2);return{trimTrailingWhitespace:filesConfig.get("trimTrailingWhitespace"),trimFinalNewlines:filesConfig.get("trimFinalNewlines"),insertFinalNewline:filesConfig.get("insertFinalNewline")}}FileFormattingOptions2.fromConfiguration=fromConfiguration})(FileFormattingOptions||(FileFormattingOptions={}));var DynamicFeature;(function(DynamicFeature2){function is(value){let candidate=value;return candidate&&Is.func(candidate.register)&&Is.func(candidate.unregister)&&Is.func(candidate.dispose)&&candidate.registrationType!==void 0}DynamicFeature2.is=is})(DynamicFeature||(DynamicFeature={}));var DocumentNotifications=class{constructor(_client,_event,_type,_middleware,_createParams,_selectorFilter){this._client=_client,this._event=_event,this._type=_type,this._middleware=_middleware,this._createParams=_createParams,this._selectorFilter=_selectorFilter,this._selectors=new Map}static textDocumentFilter(selectors,textDocument){for(let selector of selectors)if(vscode_1.languages.match(selector,textDocument))return!0;return!1}register(data){!data.registerOptions.documentSelector||(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(data.id,data.registerOptions.documentSelector))}callback(data){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),data))&&(this._middleware?this._middleware(data,data2=>this._client.sendNotification(this._type,this._createParams(data2))):this._client.sendNotification(this._type,this._createParams(data)),this.notificationSent(data))}notificationSent(_data){}unregister(id){this._selectors.delete(id),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(document2){for(let selector of this._selectors.values())if(vscode_1.languages.match(selector,document2))return{send:data=>{this.callback(data)}}}},DidOpenTextDocumentFeature=class extends DocumentNotifications{constructor(client,_syncedDocuments){super(client,vscode_1.workspace.onDidOpenTextDocument,vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type,client.clientOptions.middleware.didOpen,textDocument=>client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument),DocumentNotifications.textDocumentFilter);this._syncedDocuments=_syncedDocuments}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(capabilities,documentSelector){let textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.openClose&&this.register({id:UUID.generateUuid(),registerOptions:{documentSelector}})}get registrationType(){return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type}register(data){if(super.register(data),!data.registerOptions.documentSelector)return;let documentSelector=data.registerOptions.documentSelector;vscode_1.workspace.textDocuments.forEach(textDocument=>{let uri=textDocument.uri.toString();if(!this._syncedDocuments.has(uri)&&vscode_1.languages.match(documentSelector,textDocument)){let middleware=this._client.clientOptions.middleware,didOpen=textDocument2=>{this._client.sendNotification(this._type,this._createParams(textDocument2))};middleware.didOpen?middleware.didOpen(textDocument,didOpen):didOpen(textDocument),this._syncedDocuments.set(uri,textDocument)}})}notificationSent(textDocument){super.notificationSent(textDocument),this._syncedDocuments.set(textDocument.uri.toString(),textDocument)}},DidCloseTextDocumentFeature=class extends DocumentNotifications{constructor(client,_syncedDocuments){super(client,vscode_1.workspace.onDidCloseTextDocument,vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type,client.clientOptions.middleware.didClose,textDocument=>client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument),DocumentNotifications.textDocumentFilter);this._syncedDocuments=_syncedDocuments}get registrationType(){return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(capabilities,documentSelector){let textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.openClose&&this.register({id:UUID.generateUuid(),registerOptions:{documentSelector}})}notificationSent(textDocument){super.notificationSent(textDocument),this._syncedDocuments.delete(textDocument.uri.toString())}unregister(id){let selector=this._selectors.get(id);super.unregister(id);let selectors=this._selectors.values();this._syncedDocuments.forEach(textDocument=>{if(vscode_1.languages.match(selector,textDocument)&&!this._selectorFilter(selectors,textDocument)){let middleware=this._client.clientOptions.middleware,didClose=textDocument2=>{this._client.sendNotification(this._type,this._createParams(textDocument2))};this._syncedDocuments.delete(textDocument.uri.toString()),middleware.didClose?middleware.didClose(textDocument,didClose):didClose(textDocument)}})}},DidChangeTextDocumentFeature=class{constructor(_client){this._client=_client,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(capabilities,documentSelector){let textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.change!==void 0&&textDocumentSyncOptions.change!==vscode_languageserver_protocol_1.TextDocumentSyncKind.None&&this.register({id:UUID.generateUuid(),registerOptions:Object.assign({},{documentSelector},{syncKind:textDocumentSyncOptions.change})})}register(data){!data.registerOptions.documentSelector||(this._listener||(this._listener=vscode_1.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(data.id,{documentSelector:data.registerOptions.documentSelector,syncKind:data.registerOptions.syncKind}))}callback(event){if(event.contentChanges.length!==0){for(let changeData of this._changeData.values())if(vscode_1.languages.match(changeData.documentSelector,event.document)){let middleware=this._client.clientOptions.middleware;if(changeData.syncKind===vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental){let params=this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);middleware.didChange?middleware.didChange(event,()=>this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,params)):this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,params)}else if(changeData.syncKind===vscode_languageserver_protocol_1.TextDocumentSyncKind.Full){let didChange=event2=>{this._changeDelayer?(this._changeDelayer.uri!==event2.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=event2.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(event2.document))})):(this._changeDelayer={uri:event2.document.uri.toString(),delayer:new async_1.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(event2.document))},-1))};middleware.didChange?middleware.didChange(event,didChange):didChange(event)}}}}unregister(id){this._changeData.delete(id),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(document2){for(let changeData of this._changeData.values())if(vscode_1.languages.match(changeData.documentSelector,document2))return{send:event=>{this.callback(event)}}}},WillSaveFeature=class extends DocumentNotifications{constructor(client){super(client,vscode_1.workspace.onWillSaveTextDocument,vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type,client.clientOptions.middleware.willSave,willSaveEvent=>client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent),(selectors,willSaveEvent)=>DocumentNotifications.textDocumentFilter(selectors,willSaveEvent.document))}get registrationType(){return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type}fillClientCapabilities(capabilities){let value=ensure(ensure(capabilities,"textDocument"),"synchronization");value.willSave=!0}initialize(capabilities,documentSelector){let textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.willSave&&this.register({id:UUID.generateUuid(),registerOptions:{documentSelector}})}},WillSaveWaitUntilFeature=class{constructor(_client){this._client=_client,this._selectors=new Map}get registrationType(){return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(capabilities){let value=ensure(ensure(capabilities,"textDocument"),"synchronization");value.willSaveWaitUntil=!0}initialize(capabilities,documentSelector){let textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.willSaveWaitUntil&&this.register({id:UUID.generateUuid(),registerOptions:{documentSelector}})}register(data){!data.registerOptions.documentSelector||(this._listener||(this._listener=vscode_1.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(data.id,data.registerOptions.documentSelector))}callback(event){if(DocumentNotifications.textDocumentFilter(this._selectors.values(),event.document)){let middleware=this._client.clientOptions.middleware,willSaveWaitUntil=event2=>this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event2)).then(edits=>{let vEdits=this._client.protocol2CodeConverter.asTextEdits(edits);return vEdits===void 0?[]:vEdits});event.waitUntil(middleware.willSaveWaitUntil?middleware.willSaveWaitUntil(event,willSaveWaitUntil):willSaveWaitUntil(event))}}unregister(id){this._selectors.delete(id),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},DidSaveTextDocumentFeature=class extends DocumentNotifications{constructor(client){super(client,vscode_1.workspace.onDidSaveTextDocument,vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type,client.clientOptions.middleware.didSave,textDocument=>client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument,this._includeText),DocumentNotifications.textDocumentFilter);this._includeText=!1}get registrationType(){return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"synchronization").didSave=!0}initialize(capabilities,documentSelector){let textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;if(documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.save){let saveOptions=typeof textDocumentSyncOptions.save=="boolean"?{includeText:!1}:{includeText:!!textDocumentSyncOptions.save.includeText};this.register({id:UUID.generateUuid(),registerOptions:Object.assign({},{documentSelector},saveOptions)})}}register(data){this._includeText=!!data.registerOptions.includeText,super.register(data)}},FileSystemWatcherFeature=class{constructor(_client,_notifyFileEvent){this._client=_client,this._notifyFileEvent=_notifyFileEvent,this._watchers=new Map}get registrationType(){return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(_capabilities,_documentSelector){}register(data){if(!Array.isArray(data.registerOptions.watchers))return;let disposables=[];for(let watcher of data.registerOptions.watchers){if(!Is.string(watcher.globPattern))continue;let watchCreate=!0,watchChange=!0,watchDelete=!0;watcher.kind!==void 0&&watcher.kind!==null&&(watchCreate=(watcher.kind&vscode_languageserver_protocol_1.WatchKind.Create)!==0,watchChange=(watcher.kind&vscode_languageserver_protocol_1.WatchKind.Change)!==0,watchDelete=(watcher.kind&vscode_languageserver_protocol_1.WatchKind.Delete)!==0);let fileSystemWatcher=vscode_1.workspace.createFileSystemWatcher(watcher.globPattern,!watchCreate,!watchChange,!watchDelete);this.hookListeners(fileSystemWatcher,watchCreate,watchChange,watchDelete),disposables.push(fileSystemWatcher)}this._watchers.set(data.id,disposables)}registerRaw(id,fileSystemWatchers){let disposables=[];for(let fileSystemWatcher of fileSystemWatchers)this.hookListeners(fileSystemWatcher,!0,!0,!0,disposables);this._watchers.set(id,disposables)}hookListeners(fileSystemWatcher,watchCreate,watchChange,watchDelete,listeners){watchCreate&&fileSystemWatcher.onDidCreate(resource=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(resource),type:vscode_languageserver_protocol_1.FileChangeType.Created}),null,listeners),watchChange&&fileSystemWatcher.onDidChange(resource=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(resource),type:vscode_languageserver_protocol_1.FileChangeType.Changed}),null,listeners),watchDelete&&fileSystemWatcher.onDidDelete(resource=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(resource),type:vscode_languageserver_protocol_1.FileChangeType.Deleted}),null,listeners)}unregister(id){let disposables=this._watchers.get(id);if(disposables)for(let disposable of disposables)disposable.dispose()}dispose(){this._watchers.forEach(disposables=>{for(let disposable of disposables)disposable.dispose()}),this._watchers.clear()}},TextDocumentFeature=class{constructor(_client,_registrationType){this._client=_client,this._registrationType=_registrationType,this._registrations=new Map}get registrationType(){return this._registrationType}register(data){if(!data.registerOptions.documentSelector)return;let registration=this.registerLanguageProvider(data.registerOptions);this._registrations.set(data.id,{disposable:registration[0],data,provider:registration[1]})}unregister(id){let registration=this._registrations.get(id);registration!==void 0&&registration.disposable.dispose()}dispose(){this._registrations.forEach(value=>{value.disposable.dispose()}),this._registrations.clear()}getRegistration(documentSelector,capability){if(capability){if(vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)){let id=vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability)?capability.id:UUID.generateUuid(),selector=capability.documentSelector||documentSelector;if(selector)return[id,Object.assign({},capability,{documentSelector:selector})]}else if(Is.boolean(capability)&&capability===!0||vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)){if(!documentSelector)return[void 0,void 0];let options=Is.boolean(capability)&&capability===!0?{documentSelector}:Object.assign({},capability,{documentSelector});return[UUID.generateUuid(),options]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(documentSelector,capability){if(!(!documentSelector||!capability))return Is.boolean(capability)&&capability===!0?{documentSelector}:Object.assign({},capability,{documentSelector})}getProvider(textDocument){for(let registration of this._registrations.values()){let selector=registration.data.registerOptions.documentSelector;if(selector!==null&&vscode_1.languages.match(selector,textDocument))return registration.provider}}getAllProviders(){let result=[];for(let item of this._registrations.values())result.push(item.provider);return result}};exports.TextDocumentFeature=TextDocumentFeature;var WorkspaceFeature=class{constructor(_client,_registrationType){this._client=_client,this._registrationType=_registrationType,this._registrations=new Map}get registrationType(){return this._registrationType}register(data){let registration=this.registerLanguageProvider(data.registerOptions);this._registrations.set(data.id,{disposable:registration[0],provider:registration[1]})}unregister(id){let registration=this._registrations.get(id);registration!==void 0&&registration.disposable.dispose()}dispose(){this._registrations.forEach(registration=>{registration.disposable.dispose()}),this._registrations.clear()}getProviders(){let result=[];for(let registration of this._registrations.values())result.push(registration.provider);return result}},CompletionItemFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.CompletionRequest.type)}fillClientCapabilities(capabilities){let completion=ensure(ensure(capabilities,"textDocument"),"completion");completion.dynamicRegistration=!0,completion.contextSupport=!0,completion.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[vscode_languageserver_protocol_1.MarkupKind.Markdown,vscode_languageserver_protocol_1.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[vscode_languageserver_protocol_1.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[vscode_languageserver_protocol_1.InsertTextMode.asIs,vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation]}},completion.completionItemKind={valueSet:SupportedCompletionItemKinds}}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.completionProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let triggerCharacters=options.triggerCharacters||[],provider={provideCompletionItems:(document2,position,token,context)=>{let client=this._client,middleware=this._client.clientOptions.middleware,provideCompletionItems=(document3,position2,context2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type,client.code2ProtocolConverter.asCompletionParams(document3,position2,context2),token2).then(client.protocol2CodeConverter.asCompletionResult,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type,error,null));return middleware.provideCompletionItem?middleware.provideCompletionItem(document2,position,context,token,provideCompletionItems):provideCompletionItems(document2,position,context,token)},resolveCompletionItem:options.resolveProvider?(item,token)=>{let client=this._client,middleware=this._client.clientOptions.middleware,resolveCompletionItem=(item2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type,client.code2ProtocolConverter.asCompletionItem(item2),token2).then(client.protocol2CodeConverter.asCompletionItem,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type,error,item2));return middleware.resolveCompletionItem?middleware.resolveCompletionItem(item,token,resolveCompletionItem):resolveCompletionItem(item,token)}:void 0};return[vscode_1.languages.registerCompletionItemProvider(options.documentSelector,provider,...triggerCharacters),provider]}},HoverFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.HoverRequest.type)}fillClientCapabilities(capabilities){let hoverCapability=ensure(ensure(capabilities,"textDocument"),"hover");hoverCapability.dynamicRegistration=!0,hoverCapability.contentFormat=[vscode_languageserver_protocol_1.MarkupKind.Markdown,vscode_languageserver_protocol_1.MarkupKind.PlainText]}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.hoverProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideHover:(document2,position,token)=>{let client=this._client,provideHover=(document3,position2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asHover,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideHover?middleware.provideHover(document2,position,token,provideHover):provideHover(document2,position,token)}};return[vscode_1.languages.registerHoverProvider(options.documentSelector,provider),provider]}},SignatureHelpFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.SignatureHelpRequest.type)}fillClientCapabilities(capabilities){let config=ensure(ensure(capabilities,"textDocument"),"signatureHelp");config.dynamicRegistration=!0,config.signatureInformation={documentationFormat:[vscode_languageserver_protocol_1.MarkupKind.Markdown,vscode_languageserver_protocol_1.MarkupKind.PlainText]},config.signatureInformation.parameterInformation={labelOffsetSupport:!0},config.signatureInformation.activeParameterSupport=!0,config.contextSupport=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.signatureHelpProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideSignatureHelp:(document2,position,token,context)=>{let client=this._client,providerSignatureHelp=(document3,position2,context2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type,client.code2ProtocolConverter.asSignatureHelpParams(document3,position2,context2),token2).then(client.protocol2CodeConverter.asSignatureHelp,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideSignatureHelp?middleware.provideSignatureHelp(document2,position,context,token,providerSignatureHelp):providerSignatureHelp(document2,position,context,token)}},disposable;if(options.retriggerCharacters===void 0){let triggerCharacters=options.triggerCharacters||[];disposable=vscode_1.languages.registerSignatureHelpProvider(options.documentSelector,provider,...triggerCharacters)}else{let metaData={triggerCharacters:options.triggerCharacters||[],retriggerCharacters:options.retriggerCharacters||[]};disposable=vscode_1.languages.registerSignatureHelpProvider(options.documentSelector,provider,metaData)}return[disposable,provider]}},DefinitionFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DefinitionRequest.type)}fillClientCapabilities(capabilities){let definitionSupport=ensure(ensure(capabilities,"textDocument"),"definition");definitionSupport.dynamicRegistration=!0,definitionSupport.linkSupport=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.definitionProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideDefinition:(document2,position,token)=>{let client=this._client,provideDefinition=(document3,position2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDefinitionResult,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideDefinition?middleware.provideDefinition(document2,position,token,provideDefinition):provideDefinition(document2,position,token)}};return[vscode_1.languages.registerDefinitionProvider(options.documentSelector,provider),provider]}},ReferencesFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.ReferencesRequest.type)}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"references").dynamicRegistration=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.referencesProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideReferences:(document2,position,options2,token)=>{let client=this._client,_providerReferences=(document3,position2,options3,token2)=>client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type,client.code2ProtocolConverter.asReferenceParams(document3,position2,options3),token2).then(client.protocol2CodeConverter.asReferences,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideReferences?middleware.provideReferences(document2,position,options2,token,_providerReferences):_providerReferences(document2,position,options2,token)}};return[vscode_1.languages.registerReferenceProvider(options.documentSelector,provider),provider]}},DocumentHighlightFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DocumentHighlightRequest.type)}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.documentHighlightProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideDocumentHighlights:(document2,position,token)=>{let client=this._client,_provideDocumentHighlights=(document3,position2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDocumentHighlights,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideDocumentHighlights?middleware.provideDocumentHighlights(document2,position,token,_provideDocumentHighlights):_provideDocumentHighlights(document2,position,token)}};return[vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector,provider),provider]}},DocumentSymbolFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DocumentSymbolRequest.type)}fillClientCapabilities(capabilities){let symbolCapabilities=ensure(ensure(capabilities,"textDocument"),"documentSymbol");symbolCapabilities.dynamicRegistration=!0,symbolCapabilities.symbolKind={valueSet:SupportedSymbolKinds},symbolCapabilities.hierarchicalDocumentSymbolSupport=!0,symbolCapabilities.tagSupport={valueSet:SupportedSymbolTags},symbolCapabilities.labelSupport=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.documentSymbolProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideDocumentSymbols:(document2,token)=>{let client=this._client,_provideDocumentSymbols=(document3,token2)=>client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type,client.code2ProtocolConverter.asDocumentSymbolParams(document3),token2).then(data=>{if(data!==null){if(data.length===0)return[];{let element=data[0];return vscode_languageserver_protocol_1.DocumentSymbol.is(element)?client.protocol2CodeConverter.asDocumentSymbols(data):client.protocol2CodeConverter.asSymbolInformations(data)}}},error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideDocumentSymbols?middleware.provideDocumentSymbols(document2,token,_provideDocumentSymbols):_provideDocumentSymbols(document2,token)}},metaData=options.label!==void 0?{label:options.label}:void 0;return[vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector,provider,metaData),provider]}},WorkspaceSymbolFeature=class extends WorkspaceFeature{constructor(client){super(client,vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type)}fillClientCapabilities(capabilities){let symbolCapabilities=ensure(ensure(capabilities,"workspace"),"symbol");symbolCapabilities.dynamicRegistration=!0,symbolCapabilities.symbolKind={valueSet:SupportedSymbolKinds},symbolCapabilities.tagSupport={valueSet:SupportedSymbolTags}}initialize(capabilities){!capabilities.workspaceSymbolProvider||this.register({id:UUID.generateUuid(),registerOptions:capabilities.workspaceSymbolProvider===!0?{workDoneProgress:!1}:capabilities.workspaceSymbolProvider})}registerLanguageProvider(_options){let provider={provideWorkspaceSymbols:(query,token)=>{let client=this._client,provideWorkspaceSymbols=(query2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type,{query:query2},token2).then(client.protocol2CodeConverter.asSymbolInformations,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideWorkspaceSymbols?middleware.provideWorkspaceSymbols(query,token,provideWorkspaceSymbols):provideWorkspaceSymbols(query,token)}};return[vscode_1.languages.registerWorkspaceSymbolProvider(provider),provider]}},CodeActionFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.CodeActionRequest.type)}fillClientCapabilities(capabilities){let cap=ensure(ensure(capabilities,"textDocument"),"codeAction");cap.dynamicRegistration=!0,cap.isPreferredSupport=!0,cap.disabledSupport=!0,cap.dataSupport=!0,cap.resolveSupport={properties:["edit"]},cap.codeActionLiteralSupport={codeActionKind:{valueSet:[vscode_languageserver_protocol_1.CodeActionKind.Empty,vscode_languageserver_protocol_1.CodeActionKind.QuickFix,vscode_languageserver_protocol_1.CodeActionKind.Refactor,vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,vscode_languageserver_protocol_1.CodeActionKind.Source,vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports]}},cap.honorsChangeAnnotations=!1}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.codeActionProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideCodeActions:(document2,range,context,token)=>{let client=this._client,_provideCodeActions=(document3,range2,context2,token2)=>{let params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),range:client.code2ProtocolConverter.asRange(range2),context:client.code2ProtocolConverter.asCodeActionContext(context2)};return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type,params,token2).then(values=>{if(values===null)return;let result=[];for(let item of values)vscode_languageserver_protocol_1.Command.is(item)?result.push(client.protocol2CodeConverter.asCommand(item)):result.push(client.protocol2CodeConverter.asCodeAction(item));return result},error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideCodeActions?middleware.provideCodeActions(document2,range,context,token,_provideCodeActions):_provideCodeActions(document2,range,context,token)},resolveCodeAction:options.resolveProvider?(item,token)=>{let client=this._client,middleware=this._client.clientOptions.middleware,resolveCodeAction=(item2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type,client.code2ProtocolConverter.asCodeAction(item2),token2).then(client.protocol2CodeConverter.asCodeAction,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type,error,item2));return middleware.resolveCodeAction?middleware.resolveCodeAction(item,token,resolveCodeAction):resolveCodeAction(item,token)}:void 0};return[vscode_1.languages.registerCodeActionsProvider(options.documentSelector,provider,options.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds)}:void 0),provider]}},CodeLensFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.CodeLensRequest.type)}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"codeLens").dynamicRegistration=!0,ensure(ensure(capabilities,"workspace"),"codeLens").refreshSupport=!0}initialize(capabilities,documentSelector){this._client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type,async()=>{for(let provider of this.getAllProviders())provider.onDidChangeCodeLensEmitter.fire()});let options=this.getRegistrationOptions(documentSelector,capabilities.codeLensProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let eventEmitter=new vscode_1.EventEmitter,provider={onDidChangeCodeLenses:eventEmitter.event,provideCodeLenses:(document2,token)=>{let client=this._client,provideCodeLenses=(document3,token2)=>client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type,client.code2ProtocolConverter.asCodeLensParams(document3),token2).then(client.protocol2CodeConverter.asCodeLenses,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideCodeLenses?middleware.provideCodeLenses(document2,token,provideCodeLenses):provideCodeLenses(document2,token)},resolveCodeLens:options.resolveProvider?(codeLens,token)=>{let client=this._client,resolveCodeLens=(codeLens2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type,client.code2ProtocolConverter.asCodeLens(codeLens2),token2).then(client.protocol2CodeConverter.asCodeLens,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type,error,codeLens2)),middleware=client.clientOptions.middleware;return middleware.resolveCodeLens?middleware.resolveCodeLens(codeLens,token,resolveCodeLens):resolveCodeLens(codeLens,token)}:void 0};return[vscode_1.languages.registerCodeLensProvider(options.documentSelector,provider),{provider,onDidChangeCodeLensEmitter:eventEmitter}]}},DocumentFormattingFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DocumentFormattingRequest.type)}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"formatting").dynamicRegistration=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.documentFormattingProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideDocumentFormattingEdits:(document2,options2,token)=>{let client=this._client,provideDocumentFormattingEdits=(document3,options3,token2)=>{let params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),options:client.code2ProtocolConverter.asFormattingOptions(options3,FileFormattingOptions.fromConfiguration(document3))};return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type,params,token2).then(client.protocol2CodeConverter.asTextEdits,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideDocumentFormattingEdits?middleware.provideDocumentFormattingEdits(document2,options2,token,provideDocumentFormattingEdits):provideDocumentFormattingEdits(document2,options2,token)}};return[vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector,provider),provider]}},DocumentRangeFormattingFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type)}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.documentRangeFormattingProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideDocumentRangeFormattingEdits:(document2,range,options2,token)=>{let client=this._client,provideDocumentRangeFormattingEdits=(document3,range2,options3,token2)=>{let params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),range:client.code2ProtocolConverter.asRange(range2),options:client.code2ProtocolConverter.asFormattingOptions(options3,FileFormattingOptions.fromConfiguration(document3))};return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type,params,token2).then(client.protocol2CodeConverter.asTextEdits,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideDocumentRangeFormattingEdits?middleware.provideDocumentRangeFormattingEdits(document2,range,options2,token,provideDocumentRangeFormattingEdits):provideDocumentRangeFormattingEdits(document2,range,options2,token)}};return[vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector,provider),provider]}},DocumentOnTypeFormattingFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.documentOnTypeFormattingProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideOnTypeFormattingEdits:(document2,position,ch,options2,token)=>{let client=this._client,provideOnTypeFormattingEdits=(document3,position2,ch2,options3,token2)=>{let params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),position:client.code2ProtocolConverter.asPosition(position2),ch:ch2,options:client.code2ProtocolConverter.asFormattingOptions(options3,FileFormattingOptions.fromConfiguration(document3))};return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type,params,token2).then(client.protocol2CodeConverter.asTextEdits,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideOnTypeFormattingEdits?middleware.provideOnTypeFormattingEdits(document2,position,ch,options2,token,provideOnTypeFormattingEdits):provideOnTypeFormattingEdits(document2,position,ch,options2,token)}},moreTriggerCharacter=options.moreTriggerCharacter||[];return[vscode_1.languages.registerOnTypeFormattingEditProvider(options.documentSelector,provider,options.firstTriggerCharacter,...moreTriggerCharacter),provider]}},RenameFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.RenameRequest.type)}fillClientCapabilities(capabilities){let rename=ensure(ensure(capabilities,"textDocument"),"rename");rename.dynamicRegistration=!0,rename.prepareSupport=!0,rename.prepareSupportDefaultBehavior=vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier,rename.honorsChangeAnnotations=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.renameProvider);!options||(Is.boolean(capabilities.renameProvider)&&(options.prepareProvider=!1),this.register({id:UUID.generateUuid(),registerOptions:options}))}registerLanguageProvider(options){let provider={provideRenameEdits:(document2,position,newName,token)=>{let client=this._client,provideRenameEdits=(document3,position2,newName2,token2)=>{let params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),position:client.code2ProtocolConverter.asPosition(position2),newName:newName2};return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type,params,token2).then(client.protocol2CodeConverter.asWorkspaceEdit,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideRenameEdits?middleware.provideRenameEdits(document2,position,newName,token,provideRenameEdits):provideRenameEdits(document2,position,newName,token)},prepareRename:options.prepareProvider?(document2,position,token)=>{let client=this._client,prepareRename=(document3,position2,token2)=>{let params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),position:client.code2ProtocolConverter.asPosition(position2)};return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type,params,token2).then(result=>vscode_languageserver_protocol_1.Range.is(result)?client.protocol2CodeConverter.asRange(result):this.isDefaultBehavior(result)?result.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):result&&vscode_languageserver_protocol_1.Range.is(result.range)?{range:client.protocol2CodeConverter.asRange(result.range),placeholder:result.placeholder}:Promise.reject(new Error("The element can't be renamed.")),error=>client.handleFailedRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type,error,void 0))},middleware=client.clientOptions.middleware;return middleware.prepareRename?middleware.prepareRename(document2,position,token,prepareRename):prepareRename(document2,position,token)}:void 0};return[vscode_1.languages.registerRenameProvider(options.documentSelector,provider),provider]}isDefaultBehavior(value){let candidate=value;return candidate&&Is.boolean(candidate.defaultBehavior)}},DocumentLinkFeature=class extends TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DocumentLinkRequest.type)}fillClientCapabilities(capabilities){let documentLinkCapabilities=ensure(ensure(capabilities,"textDocument"),"documentLink");documentLinkCapabilities.dynamicRegistration=!0,documentLinkCapabilities.tooltipSupport=!0}initialize(capabilities,documentSelector){let options=this.getRegistrationOptions(documentSelector,capabilities.documentLinkProvider);!options||this.register({id:UUID.generateUuid(),registerOptions:options})}registerLanguageProvider(options){let provider={provideDocumentLinks:(document2,token)=>{let client=this._client,provideDocumentLinks=(document3,token2)=>client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type,client.code2ProtocolConverter.asDocumentLinkParams(document3),token2).then(client.protocol2CodeConverter.asDocumentLinks,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideDocumentLinks?middleware.provideDocumentLinks(document2,token,provideDocumentLinks):provideDocumentLinks(document2,token)},resolveDocumentLink:options.resolveProvider?(link,token)=>{let client=this._client,resolveDocumentLink=(link2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type,client.code2ProtocolConverter.asDocumentLink(link2),token2).then(client.protocol2CodeConverter.asDocumentLink,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type,error,link2)),middleware=client.clientOptions.middleware;return middleware.resolveDocumentLink?middleware.resolveDocumentLink(link,token,resolveDocumentLink):resolveDocumentLink(link,token)}:void 0};return[vscode_1.languages.registerDocumentLinkProvider(options.documentSelector,provider),provider]}},ConfigurationFeature=class{constructor(_client){this._client=_client,this._listeners=new Map}get registrationType(){return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let section=this._client.clientOptions.synchronize.configurationSection;section!==void 0&&this.register({id:UUID.generateUuid(),registerOptions:{section}})}register(data){let disposable=vscode_1.workspace.onDidChangeConfiguration(event=>{this.onDidChangeConfiguration(data.registerOptions.section,event)});this._listeners.set(data.id,disposable),data.registerOptions.section!==void 0&&this.onDidChangeConfiguration(data.registerOptions.section,void 0)}unregister(id){let disposable=this._listeners.get(id);disposable&&(this._listeners.delete(id),disposable.dispose())}dispose(){for(let disposable of this._listeners.values())disposable.dispose();this._listeners.clear()}onDidChangeConfiguration(configurationSection,event){let sections;if(Is.string(configurationSection)?sections=[configurationSection]:sections=configurationSection,sections!==void 0&&event!==void 0&&!sections.some(section=>event.affectsConfiguration(section)))return;let didChangeConfiguration=sections2=>{if(sections2===void 0){this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(sections2)})},middleware=this.getMiddleware();middleware?middleware(sections,didChangeConfiguration):didChangeConfiguration(sections)}extractSettingsInformation(keys){function ensurePath(config,path4){let current=config;for(let i=0;i<path4.length-1;i++){let obj=current[path4[i]];obj||(obj=Object.create(null),current[path4[i]]=obj),current=obj}return current}let resource=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,result=Object.create(null);for(let i=0;i<keys.length;i++){let key=keys[i],index=key.indexOf("."),config=null;if(index>=0?config=vscode_1.workspace.getConfiguration(key.substr(0,index),resource).get(key.substr(index+1)):config=vscode_1.workspace.getConfiguration(void 0,resource).get(key),config){let path4=keys[i].split(".");ensurePath(result,path4)[path4[path4.length-1]]=configuration_1.toJSONObject(config)}}return result}getMiddleware(){let middleware=this._client.clientOptions.middleware;if(middleware.workspace&&middleware.workspace.didChangeConfiguration)return middleware.workspace.didChangeConfiguration}},ExecuteCommandFeature=class{constructor(_client){this._client=_client,this._commands=new Map}get registrationType(){return vscode_languageserver_protocol_1.ExecuteCommandRequest.type}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(capabilities){!capabilities.executeCommandProvider||this.register({id:UUID.generateUuid(),registerOptions:Object.assign({},capabilities.executeCommandProvider)})}register(data){let client=this._client,middleware=client.clientOptions.middleware,executeCommand=(command,args)=>{let params={command,arguments:args};return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type,params).then(void 0,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type,error,void 0))};if(data.registerOptions.commands){let disposables=[];for(let command of data.registerOptions.commands)disposables.push(vscode_1.commands.registerCommand(command,(...args)=>middleware.executeCommand?middleware.executeCommand(command,args,executeCommand):executeCommand(command,args)));this._commands.set(data.id,disposables)}}unregister(id){let disposables=this._commands.get(id);disposables&&disposables.forEach(disposable=>disposable.dispose())}dispose(){this._commands.forEach(value=>{value.forEach(disposable=>disposable.dispose())}),this._commands.clear()}},MessageTransports;(function(MessageTransports2){function is(value){return value&&vscode_languageserver_protocol_1.MessageReader.is(value.reader)&&vscode_languageserver_protocol_1.MessageWriter.is(value.writer)}MessageTransports2.is=is})(MessageTransports=exports.MessageTransports||(exports.MessageTransports={}));var OnReady=class{constructor(_resolve,_reject){this._resolve=_resolve,this._reject=_reject,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(error){this._used=!0,this._reject(error)}},BaseLanguageClient=class{constructor(id,name,clientOptions){var _a;this._traceFormat=vscode_languageserver_protocol_1.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=id,this._name=name,clientOptions=clientOptions||{};let markdown={isTrusted:!1};clientOptions.markdown!==void 0&&clientOptions.markdown.isTrusted===!0&&(markdown.isTrusted=!0),this._clientOptions={documentSelector:clientOptions.documentSelector||[],synchronize:clientOptions.synchronize||{},diagnosticCollectionName:clientOptions.diagnosticCollectionName,outputChannelName:clientOptions.outputChannelName||this._name,revealOutputChannelOn:clientOptions.revealOutputChannelOn||RevealOutputChannelOn.Error,stdioEncoding:clientOptions.stdioEncoding||"utf8",initializationOptions:clientOptions.initializationOptions,initializationFailedHandler:clientOptions.initializationFailedHandler,progressOnInitialization:!!clientOptions.progressOnInitialization,errorHandler:clientOptions.errorHandler||this.createDefaultErrorHandler((_a=clientOptions.connectionOptions)===null||_a===void 0?void 0:_a.maxRestartCount),middleware:clientOptions.middleware||{},uriConverters:clientOptions.uriConverters,workspaceFolder:clientOptions.workspaceFolder,connectionOptions:clientOptions.connectionOptions,markdown},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=ClientState.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,clientOptions.outputChannel?(this._outputChannel=clientOptions.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=clientOptions.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new async_1.Delayer(250),this._onReady=new Promise((resolve,reject)=>{this._onReadyCallbacks=new OnReady(resolve,reject)}),this._onStop=void 0,this._telemetryEmitter=new vscode_languageserver_protocol_1.Emitter,this._stateChangeEmitter=new vscode_languageserver_protocol_1.Emitter,this._trace=vscode_languageserver_protocol_1.Trace.Off,this._tracer={log:(messageOrDataObject,data)=>{Is.string(messageOrDataObject)?this.logTrace(messageOrDataObject,data):this.logObjectTrace(messageOrDataObject)}},this._c2p=c2p.createConverter(clientOptions.uriConverters?clientOptions.uriConverters.code2Protocol:void 0),this._p2c=p2c.createConverter(clientOptions.uriConverters?clientOptions.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(value){let oldState=this.getPublicState();this._state=value;let newState=this.getPublicState();newState!==oldState&&this._stateChangeEmitter.fire({oldState,newState})}getPublicState(){return this.state===ClientState.Running?State.Running:this.state===ClientState.Starting?State.Starting:State.Stopped}get initializeResult(){return this._initializeResult}sendRequest(type,...params){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(type,...params)}catch(error){throw this.error(`Sending request ${Is.string(type)?type:type.method} failed.`,error),error}}onRequest(type,handler){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(type,handler)}catch(error){throw this.error(`Registering request handler ${Is.string(type)?type:type.method} failed.`,error),error}}sendNotification(type,params){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(type,params)}catch(error){throw this.error(`Sending notification ${Is.string(type)?type:type.method} failed.`,error),error}}onNotification(type,handler){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(type,handler)}catch(error){throw this.error(`Registering notification handler ${Is.string(type)?type:type.method} failed.`,error),error}}onProgress(type,token,handler){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(vscode_languageserver_protocol_1.WorkDoneProgress.is(type)){let handleWorkDoneProgress=this._clientOptions.middleware.handleWorkDoneProgress;if(handleWorkDoneProgress!==void 0)return this._resolvedConnection.onProgress(type,token,params=>{handleWorkDoneProgress(token,params,()=>handler(params))})}return this._resolvedConnection.onProgress(type,token,handler)}catch(error){throw this.error(`Registering progress handler for token ${token} failed.`,error),error}}sendProgress(type,token,value){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(type,token,value)}catch(error){throw this.error(`Sending progress for token ${token} failed.`,error),error}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(maxRestartCount){if(maxRestartCount!==void 0&&maxRestartCount<0)throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);return new DefaultErrorHandler(this._name,maxRestartCount??4)}set trace(value){this._trace=value,this.onReady().then(()=>{this.resolveConnection().then(connection=>{connection.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(data){if(data instanceof vscode_languageserver_protocol_1.ResponseError){let responseError=data;return`  Message: ${responseError.message}
  Code: ${responseError.code} ${responseError.data?`
`+responseError.data.toString():""}`}return data instanceof Error?Is.string(data.stack)?data.stack:data.message:Is.string(data)?data:data.toString()}info(message,data,showNotification=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${message}`),data&&this.outputChannel.appendLine(this.data2String(data)),showNotification&&this._clientOptions.revealOutputChannelOn<=RevealOutputChannelOn.Info&&this.showNotificationMessage()}warn(message,data,showNotification=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${message}`),data&&this.outputChannel.appendLine(this.data2String(data)),showNotification&&this._clientOptions.revealOutputChannelOn<=RevealOutputChannelOn.Warn&&this.showNotificationMessage()}error(message,data,showNotification=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${message}`),data&&this.outputChannel.appendLine(this.data2String(data)),showNotification&&this._clientOptions.revealOutputChannelOn<=RevealOutputChannelOn.Error&&this.showNotificationMessage()}showNotificationMessage(){vscode_1.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(message,data){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${message}`),data&&this.traceOutputChannel.appendLine(this.data2String(data))}logObjectTrace(data){data.isLSPMessage&&data.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),data&&this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`)}needsStart(){return this.state===ClientState.Initial||this.state===ClientState.Stopping||this.state===ClientState.Stopped}needsStop(){return this.state===ClientState.Starting||this.state===ClientState.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===ClientState.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((resolve,reject)=>{this._onReadyCallbacks=new OnReady(resolve,reject)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):vscode_1.languages.createDiagnosticCollection()),this.state=ClientState.Starting,this.resolveConnection().then(connection=>(connection.onLogMessage(message=>{switch(message.type){case vscode_languageserver_protocol_1.MessageType.Error:this.error(message.message,void 0,!1);break;case vscode_languageserver_protocol_1.MessageType.Warning:this.warn(message.message,void 0,!1);break;case vscode_languageserver_protocol_1.MessageType.Info:this.info(message.message,void 0,!1);break;default:this.outputChannel.appendLine(message.message)}}),connection.onShowMessage(message=>{switch(message.type){case vscode_languageserver_protocol_1.MessageType.Error:vscode_1.window.showErrorMessage(message.message);break;case vscode_languageserver_protocol_1.MessageType.Warning:vscode_1.window.showWarningMessage(message.message);break;case vscode_languageserver_protocol_1.MessageType.Info:vscode_1.window.showInformationMessage(message.message);break;default:vscode_1.window.showInformationMessage(message.message)}}),connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type,params=>{let messageFunc;switch(params.type){case vscode_languageserver_protocol_1.MessageType.Error:messageFunc=vscode_1.window.showErrorMessage;break;case vscode_languageserver_protocol_1.MessageType.Warning:messageFunc=vscode_1.window.showWarningMessage;break;case vscode_languageserver_protocol_1.MessageType.Info:messageFunc=vscode_1.window.showInformationMessage;break;default:messageFunc=vscode_1.window.showInformationMessage}let actions=params.actions||[];return messageFunc(params.message,...actions)}),connection.onTelemetry(data=>{this._telemetryEmitter.fire(data)}),connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type,async params=>{var _a;let showDocument=async params2=>{let uri=this.protocol2CodeConverter.asUri(params2.uri);try{if(params2.external===!0)return{success:await vscode_1.env.openExternal(uri)};{let options={};return params2.selection!==void 0&&(options.selection=this.protocol2CodeConverter.asRange(params2.selection)),params2.takeFocus===void 0||params2.takeFocus===!1?options.preserveFocus=!0:params2.takeFocus===!0&&(options.preserveFocus=!1),await vscode_1.window.showTextDocument(uri,options),{success:!0}}}catch{return{success:!0}}},middleware=(_a=this._clientOptions.middleware.window)===null||_a===void 0?void 0:_a.showDocument;return middleware!==void 0?middleware(params,showDocument):showDocument(params)}),connection.listen(),this.initialize(connection))).then(void 0,error=>{this.state=ClientState.StartFailed,this._onReadyCallbacks.reject(error),this.error("Starting client failed",error),vscode_1.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new vscode_1.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(connection){this.refreshTrace(connection,!1);let initOption=this._clientOptions.initializationOptions,rootPath=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),initParams={processId:null,clientInfo:{name:vscode_1.env.appName,version:vscode_1.version},locale:this.getLocale(),rootPath:rootPath||null,rootUri:rootPath?this._c2p.asUri(vscode_1.Uri.file(rootPath)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Is.func(initOption)?initOption():initOption,trace:vscode_languageserver_protocol_1.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(initParams),this._clientOptions.progressOnInitialization){let token=UUID.generateUuid(),part=new progressPart_1.ProgressPart(connection,token);return initParams.workDoneToken=token,this.doInitialize(connection,initParams).then(result=>(part.done(),result),error=>{throw part.cancel(),error})}else return this.doInitialize(connection,initParams)}doInitialize(connection,initParams){return connection.initialize(initParams).then(result=>{this._resolvedConnection=connection,this._initializeResult=result,this.state=ClientState.Running;let textDocumentSyncOptions;return Is.number(result.capabilities.textDocumentSync)?result.capabilities.textDocumentSync===vscode_languageserver_protocol_1.TextDocumentSyncKind.None?textDocumentSyncOptions={openClose:!1,change:vscode_languageserver_protocol_1.TextDocumentSyncKind.None,save:void 0}:textDocumentSyncOptions={openClose:!0,change:result.capabilities.textDocumentSync,save:{includeText:!1}}:result.capabilities.textDocumentSync!==void 0&&result.capabilities.textDocumentSync!==null&&(textDocumentSyncOptions=result.capabilities.textDocumentSync),this._capabilities=Object.assign({},result.capabilities,{resolvedTextDocumentSync:textDocumentSyncOptions}),connection.onDiagnostics(params=>this.handleDiagnostics(params)),connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type,params=>this.handleRegistrationRequest(params)),connection.onRequest("client/registerFeature",params=>this.handleRegistrationRequest(params)),connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type,params=>this.handleUnregistrationRequest(params)),connection.onRequest("client/unregisterFeature",params=>this.handleUnregistrationRequest(params)),connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type,params=>this.handleApplyWorkspaceEdit(params)),connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type,{}),this.hookFileEvents(connection),this.hookConfigurationChanged(connection),this.initializeFeatures(connection),this._onReadyCallbacks.resolve(),result}).then(void 0,error=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(error)?this.initialize(connection):(this.stop(),this._onReadyCallbacks.reject(error)):error instanceof vscode_languageserver_protocol_1.ResponseError&&error.data&&error.data.retry?vscode_1.window.showErrorMessage(error.message,{title:"Retry",id:"retry"}).then(item=>{item&&item.id==="retry"?this.initialize(connection):(this.stop(),this._onReadyCallbacks.reject(error))}):(error&&error.message&&vscode_1.window.showErrorMessage(error.message),this.error("Server initialization failed.",error),this.stop(),this._onReadyCallbacks.reject(error)),error})}_clientGetRootPath(){let folders=vscode_1.workspace.workspaceFolders;if(!folders||folders.length===0)return;let folder=folders[0];if(folder.uri.scheme==="file")return folder.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===ClientState.Stopping&&this._onStop?this._onStop:(this.state=ClientState.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(connection=>connection.shutdown().then(()=>{connection.exit(),connection.end(),connection.dispose(),this.state=ClientState.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=ClientState.Stopped,Promise.resolve())}cleanUp(channel=!0,diagnostics=!0){this._listeners&&(this._listeners.forEach(listener=>listener.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(provider=>provider.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let feature of this._features.values())feature.dispose();channel&&this.cleanUpChannel(),diagnostics&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(event){var _a;let client=this;function didChangeWatchedFile(event2){client._fileEvents.push(event2),client._fileEventDelayer.trigger(()=>{client.onReady().then(()=>{client.resolveConnection().then(connection=>{client.isConnectionActive()&&(client.forceDocumentSync(),connection.didChangeWatchedFiles({changes:client._fileEvents})),client._fileEvents=[]})},error=>{client.error("Notify file events failed.",error)})})}let workSpaceMiddleware=(_a=this.clientOptions.middleware)===null||_a===void 0?void 0:_a.workspace;(workSpaceMiddleware==null?void 0:workSpaceMiddleware.didChangeWatchedFile)?workSpaceMiddleware.didChangeWatchedFile(event,didChangeWatchedFile):didChangeWatchedFile(event)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(params){if(!this._diagnostics)return;let uri=this._p2c.asUri(params.uri),diagnostics=this._p2c.asDiagnostics(params.diagnostics),middleware=this.clientOptions.middleware;middleware.handleDiagnostics?middleware.handleDiagnostics(uri,diagnostics,(uri2,diagnostics2)=>this.setDiagnostics(uri2,diagnostics2)):this.setDiagnostics(uri,diagnostics)}setDiagnostics(uri,diagnostics){!this._diagnostics||this._diagnostics.set(uri,diagnostics)}createConnection(){let errorHandler=(error,message,count)=>{this.handleConnectionError(error,message,count)},closeHandler=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(transports=>createConnection(transports.reader,transports.writer,errorHandler,closeHandler,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===ClientState.Stopping||this.state===ClientState.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let action=CloseAction.DoNotRestart;try{action=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,action===CloseAction.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===ClientState.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=ClientState.StartFailed):this.state=ClientState.Stopped,this.cleanUp(!1,!0)):action===CloseAction.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=ClientState.Initial,this.start())}handleConnectionError(error,message,count){this._clientOptions.errorHandler.error(error,message,count)===ErrorAction.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(connection){vscode_1.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(connection,!0)})}refreshTrace(connection,sendNotification=!1){let config=vscode_1.workspace.getConfiguration(this._id),trace=vscode_languageserver_protocol_1.Trace.Off,traceFormat=vscode_languageserver_protocol_1.TraceFormat.Text;if(config){let traceConfig=config.get("trace.server","off");typeof traceConfig=="string"?trace=vscode_languageserver_protocol_1.Trace.fromString(traceConfig):(trace=vscode_languageserver_protocol_1.Trace.fromString(config.get("trace.server.verbosity","off")),traceFormat=vscode_languageserver_protocol_1.TraceFormat.fromString(config.get("trace.server.format","text")))}this._trace=trace,this._traceFormat=traceFormat,connection.trace(this._trace,this._tracer,{sendNotification,traceFormat:this._traceFormat})}hookFileEvents(_connection){let fileEvents=this._clientOptions.synchronize.fileEvents;if(!fileEvents)return;let watchers;Is.array(fileEvents)?watchers=fileEvents:watchers=[fileEvents],!!watchers&&this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(),watchers)}registerFeatures(features){for(let feature of features)this.registerFeature(feature)}registerFeature(feature){if(this._features.push(feature),DynamicFeature.is(feature)){let registrationType=feature.registrationType;this._dynamicFeatures.set(registrationType.method,feature)}}getFeature(request){return this._dynamicFeatures.get(request)}registerBuiltinFeatures(){this.registerFeature(new ConfigurationFeature(this)),this.registerFeature(new DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new DidChangeTextDocumentFeature(this)),this.registerFeature(new WillSaveFeature(this)),this.registerFeature(new WillSaveWaitUntilFeature(this)),this.registerFeature(new DidSaveTextDocumentFeature(this)),this.registerFeature(new DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new FileSystemWatcherFeature(this,event=>this.notifyFileEvent(event))),this.registerFeature(new CompletionItemFeature(this)),this.registerFeature(new HoverFeature(this)),this.registerFeature(new SignatureHelpFeature(this)),this.registerFeature(new DefinitionFeature(this)),this.registerFeature(new ReferencesFeature(this)),this.registerFeature(new DocumentHighlightFeature(this)),this.registerFeature(new DocumentSymbolFeature(this)),this.registerFeature(new WorkspaceSymbolFeature(this)),this.registerFeature(new CodeActionFeature(this)),this.registerFeature(new CodeLensFeature(this)),this.registerFeature(new DocumentFormattingFeature(this)),this.registerFeature(new DocumentRangeFormattingFeature(this)),this.registerFeature(new DocumentOnTypeFormattingFeature(this)),this.registerFeature(new RenameFeature(this)),this.registerFeature(new DocumentLinkFeature(this)),this.registerFeature(new ExecuteCommandFeature(this))}fillInitializeParams(params){for(let feature of this._features)Is.func(feature.fillInitializeParams)&&feature.fillInitializeParams(params)}computeClientCapabilities(){let result={};ensure(result,"workspace").applyEdit=!0;let workspaceEdit=ensure(ensure(result,"workspace"),"workspaceEdit");workspaceEdit.documentChanges=!0,workspaceEdit.resourceOperations=[vscode_languageserver_protocol_1.ResourceOperationKind.Create,vscode_languageserver_protocol_1.ResourceOperationKind.Rename,vscode_languageserver_protocol_1.ResourceOperationKind.Delete],workspaceEdit.failureHandling=vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional,workspaceEdit.normalizesLineEndings=!0,workspaceEdit.changeAnnotationSupport={groupsOnLabel:!0};let diagnostics=ensure(ensure(result,"textDocument"),"publishDiagnostics");diagnostics.relatedInformation=!0,diagnostics.versionSupport=!1,diagnostics.tagSupport={valueSet:[vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary,vscode_languageserver_protocol_1.DiagnosticTag.Deprecated]},diagnostics.codeDescriptionSupport=!0,diagnostics.dataSupport=!0;let windowCapabilities=ensure(result,"window"),showMessage=ensure(windowCapabilities,"showMessage");showMessage.messageActionItem={additionalPropertiesSupport:!0};let showDocument=ensure(windowCapabilities,"showDocument");showDocument.support=!0;let generalCapabilities=ensure(result,"general");generalCapabilities.regularExpressions={engine:"ECMAScript",version:"ES2020"},generalCapabilities.markdown={parser:"marked",version:"1.1.0"};for(let feature of this._features)feature.fillClientCapabilities(result);return result}initializeFeatures(_connection){let documentSelector=this._clientOptions.documentSelector;for(let feature of this._features)feature.initialize(this._capabilities,documentSelector)}handleRegistrationRequest(params){return new Promise((resolve,reject)=>{for(let registration of params.registrations){let feature=this._dynamicFeatures.get(registration.method);if(feature===void 0){reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));return}let options=registration.registerOptions||{};options.documentSelector=options.documentSelector||this._clientOptions.documentSelector;let data={id:registration.id,registerOptions:options};try{feature.register(data)}catch(err){reject(err);return}}resolve()})}handleUnregistrationRequest(params){return new Promise((resolve,reject)=>{for(let unregistration of params.unregisterations){let feature=this._dynamicFeatures.get(unregistration.method);if(!feature){reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));return}feature.unregister(unregistration.id)}resolve()})}handleApplyWorkspaceEdit(params){let workspaceEdit=params.edit,openTextDocuments=new Map;vscode_1.workspace.textDocuments.forEach(document2=>openTextDocuments.set(document2.uri.toString(),document2));let versionMismatch=!1;if(workspaceEdit.documentChanges){for(let change of workspaceEdit.documentChanges)if(vscode_languageserver_protocol_1.TextDocumentEdit.is(change)&&change.textDocument.version&&change.textDocument.version>=0){let textDocument=openTextDocuments.get(change.textDocument.uri);if(textDocument&&textDocument.version!==change.textDocument.version){versionMismatch=!0;break}}}return versionMismatch?Promise.resolve({applied:!1}):Is.asPromise(vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then(value=>({applied:value})))}handleFailedRequest(type,error,defaultValue){if(error instanceof vscode_languageserver_protocol_1.ResponseError){if(error.code===vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(error.code===vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified)return defaultValue}throw this.error(`Request ${type.method} failed.`,error),error}makeCancelError(){let result=new Error(BaseLanguageClient.Canceled);return result.name=BaseLanguageClient.Canceled,result}};exports.BaseLanguageClient=BaseLanguageClient;BaseLanguageClient.Canceled="Canceled"}});var require_colorProvider=__commonJS({"../node_modules/vscode-languageclient/lib/common/colorProvider.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ColorProviderFeature=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),client_1=require_client2();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var ColorProviderFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DocumentColorRequest.type)}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(capabilities,documentSelector){let[id,options]=this.getRegistration(documentSelector,capabilities.colorProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let provider={provideColorPresentations:(color,context,token)=>{let client=this._client,provideColorPresentations=(color2,context2,token2)=>{let requestParams={color:color2,textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(context2.document),range:client.code2ProtocolConverter.asRange(context2.range)};return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type,requestParams,token2).then(this.asColorPresentations.bind(this),error=>client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideColorPresentations?middleware.provideColorPresentations(color,context,token,provideColorPresentations):provideColorPresentations(color,context,token)},provideDocumentColors:(document2,token)=>{let client=this._client,provideDocumentColors=(document3,token2)=>{let requestParams={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3)};return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type,requestParams,token2).then(this.asColorInformations.bind(this),error=>client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideDocumentColors?middleware.provideDocumentColors(document2,token,provideDocumentColors):provideDocumentColors(document2,token)}};return[vscode_1.languages.registerColorProvider(options.documentSelector,provider),provider]}asColor(color){return new vscode_1.Color(color.red,color.green,color.blue,color.alpha)}asColorInformations(colorInformation){return Array.isArray(colorInformation)?colorInformation.map(ci=>new vscode_1.ColorInformation(this._client.protocol2CodeConverter.asRange(ci.range),this.asColor(ci.color))):[]}asColorPresentations(colorPresentations){return Array.isArray(colorPresentations)?colorPresentations.map(cp=>{let presentation=new vscode_1.ColorPresentation(cp.label);return presentation.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits),presentation.textEdit=this._client.protocol2CodeConverter.asTextEdit(cp.textEdit),presentation}):[]}};exports.ColorProviderFeature=ColorProviderFeature}});var require_implementation=__commonJS({"../node_modules/vscode-languageclient/lib/common/implementation.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ImplementationFeature=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),client_1=require_client2();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var ImplementationFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.ImplementationRequest.type)}fillClientCapabilities(capabilities){let implementationSupport=ensure(ensure(capabilities,"textDocument"),"implementation");implementationSupport.dynamicRegistration=!0,implementationSupport.linkSupport=!0}initialize(capabilities,documentSelector){let[id,options]=this.getRegistration(documentSelector,capabilities.implementationProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let provider={provideImplementation:(document2,position,token)=>{let client=this._client,provideImplementation=(document3,position2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDefinitionResult,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideImplementation?middleware.provideImplementation(document2,position,token,provideImplementation):provideImplementation(document2,position,token)}};return[vscode_1.languages.registerImplementationProvider(options.documentSelector,provider),provider]}};exports.ImplementationFeature=ImplementationFeature}});var require_typeDefinition=__commonJS({"../node_modules/vscode-languageclient/lib/common/typeDefinition.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.TypeDefinitionFeature=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),client_1=require_client2();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var TypeDefinitionFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.TypeDefinitionRequest.type)}fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"typeDefinition").dynamicRegistration=!0;let typeDefinitionSupport=ensure(ensure(capabilities,"textDocument"),"typeDefinition");typeDefinitionSupport.dynamicRegistration=!0,typeDefinitionSupport.linkSupport=!0}initialize(capabilities,documentSelector){let[id,options]=this.getRegistration(documentSelector,capabilities.typeDefinitionProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let provider={provideTypeDefinition:(document2,position,token)=>{let client=this._client,provideTypeDefinition=(document3,position2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDefinitionResult,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideTypeDefinition?middleware.provideTypeDefinition(document2,position,token,provideTypeDefinition):provideTypeDefinition(document2,position,token)}};return[vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector,provider),provider]}};exports.TypeDefinitionFeature=TypeDefinitionFeature}});var require_workspaceFolders=__commonJS({"../node_modules/vscode-languageclient/lib/common/workspaceFolders.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WorkspaceFoldersFeature=exports.arrayDiff=void 0;var UUID=require_uuid(),vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3();function access(target,key){if(target!==void 0)return target[key]}function arrayDiff(left,right){return left.filter(element=>right.indexOf(element)<0)}exports.arrayDiff=arrayDiff;var WorkspaceFoldersFeature=class{constructor(_client){this._client=_client,this._listeners=new Map}get registrationType(){return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(params){let folders=vscode_1.workspace.workspaceFolders;this.initializeWithFolders(folders),folders===void 0?params.workspaceFolders=null:params.workspaceFolders=folders.map(folder=>this.asProtocol(folder))}initializeWithFolders(currentWorkspaceFolders){this._initialFolders=currentWorkspaceFolders}fillClientCapabilities(capabilities){capabilities.workspace=capabilities.workspace||{},capabilities.workspace.workspaceFolders=!0}initialize(capabilities){let client=this._client;client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type,token=>{let workspaceFolders=()=>{let folders=vscode_1.workspace.workspaceFolders;return folders===void 0?null:folders.map(folder=>this.asProtocol(folder))},middleware=client.clientOptions.middleware.workspace;return middleware&&middleware.workspaceFolders?middleware.workspaceFolders(token,workspaceFolders):workspaceFolders(token)});let value=access(access(access(capabilities,"workspace"),"workspaceFolders"),"changeNotifications"),id;typeof value=="string"?id=value:value===!0&&(id=UUID.generateUuid()),id&&this.register({id,registerOptions:void 0})}sendInitialEvent(currentWorkspaceFolders){if(this._initialFolders&&currentWorkspaceFolders){let removed=arrayDiff(this._initialFolders,currentWorkspaceFolders),added=arrayDiff(currentWorkspaceFolders,this._initialFolders);(added.length>0||removed.length>0)&&this.doSendEvent(added,removed)}else this._initialFolders?this.doSendEvent([],this._initialFolders):currentWorkspaceFolders&&this.doSendEvent(currentWorkspaceFolders,[])}doSendEvent(addedFolders,removedFolders){let params={event:{added:addedFolders.map(folder=>this.asProtocol(folder)),removed:removedFolders.map(folder=>this.asProtocol(folder))}};this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type,params)}register(data){let id=data.id,client=this._client,disposable=vscode_1.workspace.onDidChangeWorkspaceFolders(event=>{let didChangeWorkspaceFolders=event2=>{this.doSendEvent(event2.added,event2.removed)},middleware=client.clientOptions.middleware.workspace;middleware&&middleware.didChangeWorkspaceFolders?middleware.didChangeWorkspaceFolders(event,didChangeWorkspaceFolders):didChangeWorkspaceFolders(event)});this._listeners.set(id,disposable),this.sendInitialEvent(vscode_1.workspace.workspaceFolders)}unregister(id){let disposable=this._listeners.get(id);disposable!==void 0&&(this._listeners.delete(id),disposable.dispose())}dispose(){for(let disposable of this._listeners.values())disposable.dispose();this._listeners.clear()}asProtocol(workspaceFolder){return workspaceFolder===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(workspaceFolder.uri),name:workspaceFolder.name}}};exports.WorkspaceFoldersFeature=WorkspaceFoldersFeature}});var require_foldingRange=__commonJS({"../node_modules/vscode-languageclient/lib/common/foldingRange.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.FoldingRangeFeature=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),client_1=require_client2();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var FoldingRangeFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.FoldingRangeRequest.type)}fillClientCapabilities(capabilities){let capability=ensure(ensure(capabilities,"textDocument"),"foldingRange");capability.dynamicRegistration=!0,capability.rangeLimit=5e3,capability.lineFoldingOnly=!0}initialize(capabilities,documentSelector){let[id,options]=this.getRegistration(documentSelector,capabilities.foldingRangeProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let provider={provideFoldingRanges:(document2,context,token)=>{let client=this._client,provideFoldingRanges=(document3,_,token2)=>{let requestParams={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3)};return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type,requestParams,token2).then(FoldingRangeFeature.asFoldingRanges,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideFoldingRanges?middleware.provideFoldingRanges(document2,context,token,provideFoldingRanges):provideFoldingRanges(document2,context,token)}};return[vscode_1.languages.registerFoldingRangeProvider(options.documentSelector,provider),provider]}static asFoldingRangeKind(kind){if(kind)switch(kind){case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:return vscode_1.FoldingRangeKind.Comment;case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:return vscode_1.FoldingRangeKind.Imports;case vscode_languageserver_protocol_1.FoldingRangeKind.Region:return vscode_1.FoldingRangeKind.Region}}static asFoldingRanges(foldingRanges){return Array.isArray(foldingRanges)?foldingRanges.map(r=>new vscode_1.FoldingRange(r.startLine,r.endLine,FoldingRangeFeature.asFoldingRangeKind(r.kind))):[]}};exports.FoldingRangeFeature=FoldingRangeFeature}});var require_declaration=__commonJS({"../node_modules/vscode-languageclient/lib/common/declaration.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.DeclarationFeature=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),client_1=require_client2();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var DeclarationFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.DeclarationRequest.type)}fillClientCapabilities(capabilities){let declarationSupport=ensure(ensure(capabilities,"textDocument"),"declaration");declarationSupport.dynamicRegistration=!0,declarationSupport.linkSupport=!0}initialize(capabilities,documentSelector){let[id,options]=this.getRegistration(documentSelector,capabilities.declarationProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let provider={provideDeclaration:(document2,position,token)=>{let client=this._client,provideDeclaration=(document3,position2,token2)=>client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDeclarationResult,error=>client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideDeclaration?middleware.provideDeclaration(document2,position,token,provideDeclaration):provideDeclaration(document2,position,token)}};return[vscode_1.languages.registerDeclarationProvider(options.documentSelector,provider),provider]}};exports.DeclarationFeature=DeclarationFeature}});var require_selectionRange=__commonJS({"../node_modules/vscode-languageclient/lib/common/selectionRange.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SelectionRangeFeature=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),client_1=require_client2();function ensure(target,key){return target[key]===void 0&&(target[key]=Object.create(null)),target[key]}var SelectionRangeFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.SelectionRangeRequest.type)}fillClientCapabilities(capabilities){let capability=ensure(ensure(capabilities,"textDocument"),"selectionRange");capability.dynamicRegistration=!0}initialize(capabilities,documentSelector){let[id,options]=this.getRegistration(documentSelector,capabilities.selectionRangeProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let provider={provideSelectionRanges:(document2,positions,token)=>{let client=this._client,provideSelectionRanges=(document3,positions2,token2)=>{let requestParams={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),positions:client.code2ProtocolConverter.asPositions(positions2)};return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type,requestParams,token2).then(ranges=>client.protocol2CodeConverter.asSelectionRanges(ranges),error=>client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type,error,null))},middleware=client.clientOptions.middleware;return middleware.provideSelectionRanges?middleware.provideSelectionRanges(document2,positions,token,provideSelectionRanges):provideSelectionRanges(document2,positions,token)}};return[vscode_1.languages.registerSelectionRangeProvider(options.documentSelector,provider),provider]}};exports.SelectionRangeFeature=SelectionRangeFeature}});var require_progress=__commonJS({"../node_modules/vscode-languageclient/lib/common/progress.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ProgressFeature=void 0;var vscode_languageserver_protocol_1=require_main3(),progressPart_1=require_progressPart();function ensure(target,key){return target[key]===void 0&&(target[key]=Object.create(null)),target[key]}var ProgressFeature=class{constructor(_client){this._client=_client,this.activeParts=new Set}fillClientCapabilities(capabilities){ensure(capabilities,"window").workDoneProgress=!0}initialize(){let client=this._client,deleteHandler=part=>{this.activeParts.delete(part)},createHandler=params=>{this.activeParts.add(new progressPart_1.ProgressPart(this._client,params.token,deleteHandler))};client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type,createHandler)}dispose(){for(let part of this.activeParts)part.done();this.activeParts.clear()}};exports.ProgressFeature=ProgressFeature}});var require_callHierarchy=__commonJS({"../node_modules/vscode-languageclient/lib/common/callHierarchy.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.CallHierarchyFeature=void 0;var vscode_1=require("vscode"),vscode_languageserver_protocol_1=require_main3(),client_1=require_client2();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var CallHierarchyProvider=class{constructor(client){this.client=client,this.middleware=client.clientOptions.middleware}prepareCallHierarchy(document2,position,token){let client=this.client,middleware=this.middleware,prepareCallHierarchy=(document3,position2,token2)=>{let params=client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2);return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type,params,token2).then(result=>client.protocol2CodeConverter.asCallHierarchyItems(result),error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type,error,null))};return middleware.prepareCallHierarchy?middleware.prepareCallHierarchy(document2,position,token,prepareCallHierarchy):prepareCallHierarchy(document2,position,token)}provideCallHierarchyIncomingCalls(item,token){let client=this.client,middleware=this.middleware,provideCallHierarchyIncomingCalls=(item2,token2)=>{let params={item:client.code2ProtocolConverter.asCallHierarchyItem(item2)};return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type,params,token2).then(result=>client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result),error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type,error,null))};return middleware.provideCallHierarchyIncomingCalls?middleware.provideCallHierarchyIncomingCalls(item,token,provideCallHierarchyIncomingCalls):provideCallHierarchyIncomingCalls(item,token)}provideCallHierarchyOutgoingCalls(item,token){let client=this.client,middleware=this.middleware,provideCallHierarchyOutgoingCalls=(item2,token2)=>{let params={item:client.code2ProtocolConverter.asCallHierarchyItem(item2)};return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type,params,token2).then(result=>client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result),error=>client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type,error,null))};return middleware.provideCallHierarchyOutgoingCalls?middleware.provideCallHierarchyOutgoingCalls(item,token,provideCallHierarchyOutgoingCalls):provideCallHierarchyOutgoingCalls(item,token)}},CallHierarchyFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type)}fillClientCapabilities(cap){let capability=ensure(ensure(cap,"textDocument"),"callHierarchy");capability.dynamicRegistration=!0}initialize(capabilities,documentSelector){let[id,options]=this.getRegistration(documentSelector,capabilities.callHierarchyProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let client=this._client,provider=new CallHierarchyProvider(client);return[vscode_1.languages.registerCallHierarchyProvider(options.documentSelector,provider),provider]}};exports.CallHierarchyFeature=CallHierarchyFeature}});var require_semanticTokens=__commonJS({"../node_modules/vscode-languageclient/lib/common/semanticTokens.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SemanticTokensFeature=void 0;var vscode10=require("vscode"),client_1=require_client2(),vscode_languageserver_protocol_1=require_main3(),Is=require_is2();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var SemanticTokensFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type)}fillClientCapabilities(capabilities){let capability=ensure(ensure(capabilities,"textDocument"),"semanticTokens");capability.dynamicRegistration=!0,capability.tokenTypes=[vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,vscode_languageserver_protocol_1.SemanticTokenTypes.type,vscode_languageserver_protocol_1.SemanticTokenTypes.class,vscode_languageserver_protocol_1.SemanticTokenTypes.enum,vscode_languageserver_protocol_1.SemanticTokenTypes.interface,vscode_languageserver_protocol_1.SemanticTokenTypes.struct,vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,vscode_languageserver_protocol_1.SemanticTokenTypes.variable,vscode_languageserver_protocol_1.SemanticTokenTypes.property,vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,vscode_languageserver_protocol_1.SemanticTokenTypes.event,vscode_languageserver_protocol_1.SemanticTokenTypes.function,vscode_languageserver_protocol_1.SemanticTokenTypes.method,vscode_languageserver_protocol_1.SemanticTokenTypes.macro,vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,vscode_languageserver_protocol_1.SemanticTokenTypes.comment,vscode_languageserver_protocol_1.SemanticTokenTypes.string,vscode_languageserver_protocol_1.SemanticTokenTypes.number,vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,vscode_languageserver_protocol_1.SemanticTokenTypes.operator],capability.tokenModifiers=[vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,vscode_languageserver_protocol_1.SemanticTokenModifiers.static,vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,vscode_languageserver_protocol_1.SemanticTokenModifiers.async,vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary],capability.formats=[vscode_languageserver_protocol_1.TokenFormat.Relative],capability.requests={range:!0,full:{delta:!0}},capability.multilineTokenSupport=!1,capability.overlappingTokenSupport=!1,ensure(ensure(capabilities,"workspace"),"semanticTokens").refreshSupport=!0}initialize(capabilities,documentSelector){this._client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type,async()=>{for(let provider of this.getAllProviders())provider.onDidChangeSemanticTokensEmitter.fire()});let[id,options]=this.getRegistration(documentSelector,capabilities.semanticTokensProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let fullProvider=Is.boolean(options.full)?options.full:options.full!==void 0,hasEditProvider=options.full!==void 0&&typeof options.full!="boolean"&&options.full.delta===!0,eventEmitter=new vscode10.EventEmitter,documentProvider=fullProvider?{onDidChangeSemanticTokens:eventEmitter.event,provideDocumentSemanticTokens:(document2,token)=>{let client2=this._client,middleware=client2.clientOptions.middleware,provideDocumentSemanticTokens=(document3,token2)=>{let params={textDocument:client2.code2ProtocolConverter.asTextDocumentIdentifier(document3)};return client2.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type,params,token2).then(result=>client2.protocol2CodeConverter.asSemanticTokens(result),error=>client2.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type,error,null))};return middleware.provideDocumentSemanticTokens?middleware.provideDocumentSemanticTokens(document2,token,provideDocumentSemanticTokens):provideDocumentSemanticTokens(document2,token)},provideDocumentSemanticTokensEdits:hasEditProvider?(document2,previousResultId,token)=>{let client2=this._client,middleware=client2.clientOptions.middleware,provideDocumentSemanticTokensEdits=(document3,previousResultId2,token2)=>{let params={textDocument:client2.code2ProtocolConverter.asTextDocumentIdentifier(document3),previousResultId:previousResultId2};return client2.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type,params,token2).then(result=>vscode_languageserver_protocol_1.SemanticTokens.is(result)?client2.protocol2CodeConverter.asSemanticTokens(result):client2.protocol2CodeConverter.asSemanticTokensEdits(result),error=>client2.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type,error,null))};return middleware.provideDocumentSemanticTokensEdits?middleware.provideDocumentSemanticTokensEdits(document2,previousResultId,token,provideDocumentSemanticTokensEdits):provideDocumentSemanticTokensEdits(document2,previousResultId,token)}:void 0}:void 0,rangeProvider=options.range===!0?{provideDocumentRangeSemanticTokens:(document2,range,token)=>{let client2=this._client,middleware=client2.clientOptions.middleware,provideDocumentRangeSemanticTokens=(document3,range2,token2)=>{let params={textDocument:client2.code2ProtocolConverter.asTextDocumentIdentifier(document3),range:client2.code2ProtocolConverter.asRange(range2)};return client2.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type,params,token2).then(result=>client2.protocol2CodeConverter.asSemanticTokens(result),error=>client2.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type,error,null))};return middleware.provideDocumentRangeSemanticTokens?middleware.provideDocumentRangeSemanticTokens(document2,range,token,provideDocumentRangeSemanticTokens):provideDocumentRangeSemanticTokens(document2,range,token)}}:void 0,disposables=[],legend=this._client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);return documentProvider!==void 0&&disposables.push(vscode10.languages.registerDocumentSemanticTokensProvider(options.documentSelector,documentProvider,legend)),rangeProvider!==void 0&&disposables.push(vscode10.languages.registerDocumentRangeSemanticTokensProvider(options.documentSelector,rangeProvider,legend)),[new vscode10.Disposable(()=>disposables.forEach(item=>item.dispose())),{range:rangeProvider,full:documentProvider,onDidChangeSemanticTokensEmitter:eventEmitter}]}};exports.SemanticTokensFeature=SemanticTokensFeature}});var require_concat_map=__commonJS({"../node_modules/concat-map/index.js"(exports,module2){module2.exports=function(xs,fn){for(var res=[],i=0;i<xs.length;i++){var x=fn(xs[i],i);isArray(x)?res.push.apply(res,x):res.push(x)}return res};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}}});var require_balanced_match=__commonJS({"../node_modules/balanced-match/index.js"(exports,module2){"use strict";module2.exports=balanced;function balanced(a,b,str){a instanceof RegExp&&(a=maybeMatch(a,str)),b instanceof RegExp&&(b=maybeMatch(b,str));var r=range(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}function maybeMatch(reg,str){var m=str.match(reg);return m?m[0]:null}balanced.range=range;function range(a,b,str){var begs,beg,left,right,result,ai=str.indexOf(a),bi=str.indexOf(b,ai+1),i=ai;if(ai>=0&&bi>0){if(a===b)return[ai,bi];for(begs=[],left=str.length;i>=0&&!result;)i==ai?(begs.push(i),ai=str.indexOf(a,i+1)):begs.length==1?result=[begs.pop(),bi]:(beg=begs.pop(),beg<left&&(left=beg,right=bi),bi=str.indexOf(b,i+1)),i=ai<bi&&ai>=0?ai:bi;begs.length&&(result=[left,right])}return result}}});var require_brace_expansion=__commonJS({"../node_modules/brace-expansion/index.js"(exports,module2){var concatMap=require_concat_map(),balanced=require_balanced_match();module2.exports=expandTop;var escSlash="\0SLASH"+Math.random()+"\0",escOpen="\0OPEN"+Math.random()+"\0",escClose="\0CLOSE"+Math.random()+"\0",escComma="\0COMMA"+Math.random()+"\0",escPeriod="\0PERIOD"+Math.random()+"\0";function numeric(str){return parseInt(str,10)==str?parseInt(str,10):str.charCodeAt(0)}function escapeBraces(str){return str.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}function unescapeBraces(str){return str.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function parseCommaParts(str){if(!str)return[""];var parts=[],m=balanced("{","}",str);if(!m)return str.split(",");var pre=m.pre,body=m.body,post=m.post,p=pre.split(",");p[p.length-1]+="{"+body+"}";var postParts=parseCommaParts(post);return post.length&&(p[p.length-1]+=postParts.shift(),p.push.apply(p,postParts)),parts.push.apply(parts,p),parts}function expandTop(str){return str?(str.substr(0,2)==="{}"&&(str="\\{\\}"+str.substr(2)),expand(escapeBraces(str),!0).map(unescapeBraces)):[]}function embrace(str){return"{"+str+"}"}function isPadded(el){return/^-?0\d/.test(el)}function lte(i,y){return i<=y}function gte(i,y){return i>=y}function expand(str,isTop){var expansions=[],m=balanced("{","}",str);if(!m||/\$$/.test(m.pre))return[str];var isNumericSequence=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(m.body),isAlphaSequence=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(m.body),isSequence=isNumericSequence||isAlphaSequence,isOptions=m.body.indexOf(",")>=0;if(!isSequence&&!isOptions)return m.post.match(/,.*\}/)?(str=m.pre+"{"+m.body+escClose+m.post,expand(str)):[str];var n;if(isSequence)n=m.body.split(/\.\./);else if(n=parseCommaParts(m.body),n.length===1&&(n=expand(n[0],!1).map(embrace),n.length===1)){var post=m.post.length?expand(m.post,!1):[""];return post.map(function(p){return m.pre+n[0]+p})}var pre=m.pre,post=m.post.length?expand(m.post,!1):[""],N;if(isSequence){var x=numeric(n[0]),y=numeric(n[1]),width=Math.max(n[0].length,n[1].length),incr=n.length==3?Math.abs(numeric(n[2])):1,test=lte,reverse=y<x;reverse&&(incr*=-1,test=gte);var pad=n.some(isPadded);N=[];for(var i=x;test(i,y);i+=incr){var c;if(isAlphaSequence)c=String.fromCharCode(i),c==="\\"&&(c="");else if(c=String(i),pad){var need=width-c.length;if(need>0){var z=new Array(need+1).join("0");i<0?c="-"+z+c.slice(1):c=z+c}}N.push(c)}}else N=concatMap(n,function(el){return expand(el,!1)});for(var j=0;j<N.length;j++)for(var k=0;k<post.length;k++){var expansion=pre+N[j]+post[k];(!isTop||isSequence||expansion)&&expansions.push(expansion)}return expansions}}});var require_minimatch=__commonJS({"../node_modules/minimatch/minimatch.js"(exports,module2){module2.exports=minimatch;minimatch.Minimatch=Minimatch;var path4=function(){try{return require("path")}catch{}}()||{sep:"/"};minimatch.sep=path4.sep;var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},expand=require_brace_expansion(),plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",reSpecials=charSet("().*{}+?[]^$\\!");function charSet(s){return s.split("").reduce(function(set,c){return set[c]=!0,set},{})}var slashSplit=/\/+/;minimatch.filter=filter;function filter(pattern,options){return options=options||{},function(p,i,list){return minimatch(p,pattern,options)}}function ext(a,b){b=b||{};var t={};return Object.keys(a).forEach(function(k){t[k]=a[k]}),Object.keys(b).forEach(function(k){t[k]=b[k]}),t}minimatch.defaults=function(def){if(!def||typeof def!="object"||!Object.keys(def).length)return minimatch;var orig=minimatch,m=function(p,pattern,options){return orig(p,pattern,ext(def,options))};return m.Minimatch=function(pattern,options){return new orig.Minimatch(pattern,ext(def,options))},m.Minimatch.defaults=function(options){return orig.defaults(ext(def,options)).Minimatch},m.filter=function(pattern,options){return orig.filter(pattern,ext(def,options))},m.defaults=function(options){return orig.defaults(ext(def,options))},m.makeRe=function(pattern,options){return orig.makeRe(pattern,ext(def,options))},m.braceExpand=function(pattern,options){return orig.braceExpand(pattern,ext(def,options))},m.match=function(list,pattern,options){return orig.match(list,pattern,ext(def,options))},m};Minimatch.defaults=function(def){return minimatch.defaults(def).Minimatch};function minimatch(p,pattern,options){return assertValidPattern(pattern),options||(options={}),!options.nocomment&&pattern.charAt(0)==="#"?!1:new Minimatch(pattern,options).match(p)}function Minimatch(pattern,options){if(!(this instanceof Minimatch))return new Minimatch(pattern,options);assertValidPattern(pattern),options||(options={}),pattern=pattern.trim(),!options.allowWindowsEscape&&path4.sep!=="/"&&(pattern=pattern.split(path4.sep).join("/")),this.options=options,this.set=[],this.pattern=pattern,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!options.partial,this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){var pattern=this.pattern,options=this.options;if(!options.nocomment&&pattern.charAt(0)==="#"){this.comment=!0;return}if(!pattern){this.empty=!0;return}this.parseNegate();var set=this.globSet=this.braceExpand();options.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,set),set=this.globParts=set.map(function(s){return s.split(slashSplit)}),this.debug(this.pattern,set),set=set.map(function(s,si,set2){return s.map(this.parse,this)},this),this.debug(this.pattern,set),set=set.filter(function(s){return s.indexOf(!1)===-1}),this.debug(this.pattern,set),this.set=set}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var pattern=this.pattern,negate=!1,options=this.options,negateOffset=0;if(!options.nonegate){for(var i=0,l=pattern.length;i<l&&pattern.charAt(i)==="!";i++)negate=!negate,negateOffset++;negateOffset&&(this.pattern=pattern.substr(negateOffset)),this.negate=negate}}minimatch.braceExpand=function(pattern,options){return braceExpand(pattern,options)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(pattern,options){return options||(this instanceof Minimatch?options=this.options:options={}),pattern=typeof pattern>"u"?this.pattern:pattern,assertValidPattern(pattern),options.nobrace||!/\{(?:(?!\{).)*\}/.test(pattern)?[pattern]:expand(pattern)}var MAX_PATTERN_LENGTH=1024*64,assertValidPattern=function(pattern){if(typeof pattern!="string")throw new TypeError("invalid pattern");if(pattern.length>MAX_PATTERN_LENGTH)throw new TypeError("pattern is too long")};Minimatch.prototype.parse=parse;var SUBPARSE={};function parse(pattern,isSub){assertValidPattern(pattern);var options=this.options;if(pattern==="**")if(options.noglobstar)pattern="*";else return GLOBSTAR;if(pattern==="")return"";var re="",hasMagic=!!options.nocase,escaping=!1,patternListStack=[],negativeLists=[],stateChar,inClass=!1,reClassStart=-1,classStart=-1,patternStart=pattern.charAt(0)==="."?"":options.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",self2=this;function clearStateChar(){if(stateChar){switch(stateChar){case"*":re+=star,hasMagic=!0;break;case"?":re+=qmark,hasMagic=!0;break;default:re+="\\"+stateChar;break}self2.debug("clearStateChar %j %j",stateChar,re),stateChar=!1}}for(var i=0,len=pattern.length,c;i<len&&(c=pattern.charAt(i));i++){if(this.debug("%s	%s %s %j",pattern,i,re,c),escaping&&reSpecials[c]){re+="\\"+c,escaping=!1;continue}switch(c){case"/":return!1;case"\\":clearStateChar(),escaping=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",pattern,i,re,c),inClass){this.debug("  in class"),c==="!"&&i===classStart+1&&(c="^"),re+=c;continue}self2.debug("call clearStateChar %j",stateChar),clearStateChar(),stateChar=c,options.noext&&clearStateChar();continue;case"(":if(inClass){re+="(";continue}if(!stateChar){re+="\\(";continue}patternListStack.push({type:stateChar,start:i-1,reStart:re.length,open:plTypes[stateChar].open,close:plTypes[stateChar].close}),re+=stateChar==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",stateChar,re),stateChar=!1;continue;case")":if(inClass||!patternListStack.length){re+="\\)";continue}clearStateChar(),hasMagic=!0;var pl=patternListStack.pop();re+=pl.close,pl.type==="!"&&negativeLists.push(pl),pl.reEnd=re.length;continue;case"|":if(inClass||!patternListStack.length||escaping){re+="\\|",escaping=!1;continue}clearStateChar(),re+="|";continue;case"[":if(clearStateChar(),inClass){re+="\\"+c;continue}inClass=!0,classStart=i,reClassStart=re.length,re+=c;continue;case"]":if(i===classStart+1||!inClass){re+="\\"+c,escaping=!1;continue}var cs=pattern.substring(classStart+1,i);try{RegExp("["+cs+"]")}catch{var sp=this.parse(cs,SUBPARSE);re=re.substr(0,reClassStart)+"\\["+sp[0]+"\\]",hasMagic=hasMagic||sp[1],inClass=!1;continue}hasMagic=!0,inClass=!1,re+=c;continue;default:clearStateChar(),escaping?escaping=!1:reSpecials[c]&&!(c==="^"&&inClass)&&(re+="\\"),re+=c}}for(inClass&&(cs=pattern.substr(classStart+1),sp=this.parse(cs,SUBPARSE),re=re.substr(0,reClassStart)+"\\["+sp[0],hasMagic=hasMagic||sp[1]),pl=patternListStack.pop();pl;pl=patternListStack.pop()){var tail=re.slice(pl.reStart+pl.open.length);this.debug("setting tail",re,pl),tail=tail.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(_,$1,$2){return $2||($2="\\"),$1+$1+$2+"|"}),this.debug(`tail=%j
   %s`,tail,tail,pl,re);var t=pl.type==="*"?star:pl.type==="?"?qmark:"\\"+pl.type;hasMagic=!0,re=re.slice(0,pl.reStart)+t+"\\("+tail}clearStateChar(),escaping&&(re+="\\\\");var addPatternStart=!1;switch(re.charAt(0)){case"[":case".":case"(":addPatternStart=!0}for(var n=negativeLists.length-1;n>-1;n--){var nl=negativeLists[n],nlBefore=re.slice(0,nl.reStart),nlFirst=re.slice(nl.reStart,nl.reEnd-8),nlLast=re.slice(nl.reEnd-8,nl.reEnd),nlAfter=re.slice(nl.reEnd);nlLast+=nlAfter;var openParensBefore=nlBefore.split("(").length-1,cleanAfter=nlAfter;for(i=0;i<openParensBefore;i++)cleanAfter=cleanAfter.replace(/\)[+*?]?/,"");nlAfter=cleanAfter;var dollar="";nlAfter===""&&isSub!==SUBPARSE&&(dollar="$");var newRe=nlBefore+nlFirst+nlAfter+dollar+nlLast;re=newRe}if(re!==""&&hasMagic&&(re="(?=.)"+re),addPatternStart&&(re=patternStart+re),isSub===SUBPARSE)return[re,hasMagic];if(!hasMagic)return globUnescape(pattern);var flags=options.nocase?"i":"";try{var regExp=new RegExp("^"+re+"$",flags)}catch{return new RegExp("$.")}return regExp._glob=pattern,regExp._src=re,regExp}minimatch.makeRe=function(pattern,options){return new Minimatch(pattern,options||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;var set=this.set;if(!set.length)return this.regexp=!1,this.regexp;var options=this.options,twoStar=options.noglobstar?star:options.dot?twoStarDot:twoStarNoDot,flags=options.nocase?"i":"",re=set.map(function(pattern){return pattern.map(function(p){return p===GLOBSTAR?twoStar:typeof p=="string"?regExpEscape(p):p._src}).join("\\/")}).join("|");re="^(?:"+re+")$",this.negate&&(re="^(?!"+re+").*$");try{this.regexp=new RegExp(re,flags)}catch{this.regexp=!1}return this.regexp}minimatch.match=function(list,pattern,options){options=options||{};var mm=new Minimatch(pattern,options);return list=list.filter(function(f){return mm.match(f)}),mm.options.nonull&&!list.length&&list.push(pattern),list};Minimatch.prototype.match=function(f,partial){if(typeof partial>"u"&&(partial=this.partial),this.debug("match",f,this.pattern),this.comment)return!1;if(this.empty)return f==="";if(f==="/"&&partial)return!0;var options=this.options;path4.sep!=="/"&&(f=f.split(path4.sep).join("/")),f=f.split(slashSplit),this.debug(this.pattern,"split",f);var set=this.set;this.debug(this.pattern,"set",set);var filename,i;for(i=f.length-1;i>=0&&(filename=f[i],!filename);i--);for(i=0;i<set.length;i++){var pattern=set[i],file=f;options.matchBase&&pattern.length===1&&(file=[filename]);var hit=this.matchOne(file,pattern,partial);if(hit)return options.flipNegate?!0:!this.negate}return options.flipNegate?!1:this.negate};Minimatch.prototype.matchOne=function(file,pattern,partial){var options=this.options;this.debug("matchOne",{this:this,file,pattern}),this.debug("matchOne",file.length,pattern.length);for(var fi=0,pi=0,fl=file.length,pl=pattern.length;fi<fl&&pi<pl;fi++,pi++){this.debug("matchOne loop");var p=pattern[pi],f=file[fi];if(this.debug(pattern,p,f),p===!1)return!1;if(p===GLOBSTAR){this.debug("GLOBSTAR",[pattern,p,f]);var fr=fi,pr=pi+1;if(pr===pl){for(this.debug("** at the end");fi<fl;fi++)if(file[fi]==="."||file[fi]===".."||!options.dot&&file[fi].charAt(0)===".")return!1;return!0}for(;fr<fl;){var swallowee=file[fr];if(this.debug(`
globstar while`,file,fr,pattern,pr,swallowee),this.matchOne(file.slice(fr),pattern.slice(pr),partial))return this.debug("globstar found match!",fr,fl,swallowee),!0;if(swallowee==="."||swallowee===".."||!options.dot&&swallowee.charAt(0)==="."){this.debug("dot detected!",file,fr,pattern,pr);break}this.debug("globstar swallow a segment, and continue"),fr++}return!!(partial&&(this.debug(`
>>> no match, partial?`,file,fr,pattern,pr),fr===fl))}var hit;if(typeof p=="string"?(hit=f===p,this.debug("string match",p,f,hit)):(hit=f.match(p),this.debug("pattern match",p,f,hit)),!hit)return!1}if(fi===fl&&pi===pl)return!0;if(fi===fl)return partial;if(pi===pl)return fi===fl-1&&file[fi]==="";throw new Error("wtf?")};function globUnescape(s){return s.replace(/\\(.)/g,"$1")}function regExpEscape(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}});var require_fileOperations=__commonJS({"../node_modules/vscode-languageclient/lib/common/fileOperations.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WillDeleteFilesFeature=exports.WillRenameFilesFeature=exports.WillCreateFilesFeature=exports.DidDeleteFilesFeature=exports.DidRenameFilesFeature=exports.DidCreateFilesFeature=void 0;var code=require("vscode"),minimatch=require_minimatch(),proto=require_main3(),UUID=require_uuid();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}function access(target,key){return target[key]}function assign(target,key,value){target[key]=value}var FileOperationFeature=class{constructor(client,event,registrationType,clientCapability,serverCapability){this._filters=new Map,this._client=client,this._event=event,this._registrationType=registrationType,this._clientCapability=clientCapability,this._serverCapability=serverCapability}get registrationType(){return this._registrationType}fillClientCapabilities(capabilities){let value=ensure(ensure(capabilities,"workspace"),"fileOperations");assign(value,"dynamicRegistration",!0),assign(value,this._clientCapability,!0)}initialize(capabilities){var _a;let options=(_a=capabilities.workspace)===null||_a===void 0?void 0:_a.fileOperations,capability=options!==void 0?access(options,this._serverCapability):void 0;if((capability==null?void 0:capability.filters)!==void 0)try{this.register({id:UUID.generateUuid(),registerOptions:{filters:capability.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(data){this._listener||(this._listener=this._event(this.send,this));let minimatchFilter=data.registerOptions.filters.map(filter=>{let matcher=new minimatch.Minimatch(filter.pattern.glob,FileOperationFeature.asMinimatchOptions(filter.pattern.options));if(!matcher.makeRe())throw new Error(`Invalid pattern ${filter.pattern.glob}!`);return{scheme:filter.scheme,matcher,kind:filter.pattern.matches}});this._filters.set(data.id,minimatchFilter)}unregister(id){this._filters.delete(id),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(event,prop){let fileMatches=await Promise.all(event.files.map(async item=>{let uri=prop(item),path4=uri.fsPath.replace(/\\/g,"/");for(let filters of this._filters.values())for(let filter of filters)if(!(filter.scheme!==void 0&&filter.scheme!==uri.scheme)){if(filter.matcher.match(path4)){if(filter.kind===void 0)return!0;let fileType=await FileOperationFeature.getFileType(uri);if(fileType===void 0)return this._client.error(`Failed to determine file type for ${uri.toString()}.`),!0;if(fileType===code.FileType.File&&filter.kind===proto.FileOperationPatternKind.file||fileType===code.FileType.Directory&&filter.kind===proto.FileOperationPatternKind.folder)return!0}else if(filter.kind===proto.FileOperationPatternKind.folder&&await FileOperationFeature.getFileType(uri)===code.FileType.Directory&&filter.matcher.match(`${path4}/`))return!0}return!1})),files=event.files.filter((_,index)=>fileMatches[index]);return Object.assign(Object.assign({},event),{files})}static async getFileType(uri){try{return(await code.workspace.fs.stat(uri)).type}catch{return}}static asMinimatchOptions(options){if(options!==void 0&&options.ignoreCase===!0)return{nocase:!0}}},NotificationFileOperationFeature=class extends FileOperationFeature{constructor(client,event,notificationType,clientCapability,serverCapability,accessUri,createParams){super(client,event,notificationType,clientCapability,serverCapability);this._notificationType=notificationType,this._accessUri=accessUri,this._createParams=createParams}async send(originalEvent){let filteredEvent=await this.filter(originalEvent,this._accessUri);if(filteredEvent.files.length){let next=async event=>{this._client.sendNotification(this._notificationType,this._createParams(event))};this.doSend(filteredEvent,next)}}},DidCreateFilesFeature=class extends NotificationFileOperationFeature{constructor(client){super(client,code.workspace.onDidCreateFiles,proto.DidCreateFilesNotification.type,"didCreate","didCreate",i=>i,client.code2ProtocolConverter.asDidCreateFilesParams)}doSend(event,next){var _a;let middleware=(_a=this._client.clientOptions.middleware)===null||_a===void 0?void 0:_a.workspace;return(middleware==null?void 0:middleware.didCreateFiles)?middleware.didCreateFiles(event,next):next(event)}};exports.DidCreateFilesFeature=DidCreateFilesFeature;var DidRenameFilesFeature=class extends NotificationFileOperationFeature{constructor(client){super(client,code.workspace.onDidRenameFiles,proto.DidRenameFilesNotification.type,"didRename","didRename",i=>i.oldUri,client.code2ProtocolConverter.asDidRenameFilesParams)}doSend(event,next){var _a;let middleware=(_a=this._client.clientOptions.middleware)===null||_a===void 0?void 0:_a.workspace;return(middleware==null?void 0:middleware.didRenameFiles)?middleware.didRenameFiles(event,next):next(event)}};exports.DidRenameFilesFeature=DidRenameFilesFeature;var DidDeleteFilesFeature=class extends NotificationFileOperationFeature{constructor(client){super(client,code.workspace.onDidDeleteFiles,proto.DidDeleteFilesNotification.type,"didDelete","didDelete",i=>i,client.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(event,next){var _a;let middleware=(_a=this._client.clientOptions.middleware)===null||_a===void 0?void 0:_a.workspace;return(middleware==null?void 0:middleware.didDeleteFiles)?middleware.didDeleteFiles(event,next):next(event)}};exports.DidDeleteFilesFeature=DidDeleteFilesFeature;var RequestFileOperationFeature=class extends FileOperationFeature{constructor(client,event,requestType,clientCapability,serverCapability,accessUri,createParams){super(client,event,requestType,clientCapability,serverCapability);this._requestType=requestType,this._accessUri=accessUri,this._createParams=createParams}async send(originalEvent){let waitUntil=this.waitUntil(originalEvent);originalEvent.waitUntil(waitUntil)}async waitUntil(originalEvent){let filteredEvent=await this.filter(originalEvent,this._accessUri);if(filteredEvent.files.length){let next=event=>this._client.sendRequest(this._requestType,this._createParams(event)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(filteredEvent,next)}else return}},WillCreateFilesFeature=class extends RequestFileOperationFeature{constructor(client){super(client,code.workspace.onWillCreateFiles,proto.WillCreateFilesRequest.type,"willCreate","willCreate",i=>i,client.code2ProtocolConverter.asWillCreateFilesParams)}doSend(event,next){var _a;let middleware=(_a=this._client.clientOptions.middleware)===null||_a===void 0?void 0:_a.workspace;return(middleware==null?void 0:middleware.willCreateFiles)?middleware.willCreateFiles(event,next):next(event)}};exports.WillCreateFilesFeature=WillCreateFilesFeature;var WillRenameFilesFeature=class extends RequestFileOperationFeature{constructor(client){super(client,code.workspace.onWillRenameFiles,proto.WillRenameFilesRequest.type,"willRename","willRename",i=>i.oldUri,client.code2ProtocolConverter.asWillRenameFilesParams)}doSend(event,next){var _a;let middleware=(_a=this._client.clientOptions.middleware)===null||_a===void 0?void 0:_a.workspace;return(middleware==null?void 0:middleware.willRenameFiles)?middleware.willRenameFiles(event,next):next(event)}};exports.WillRenameFilesFeature=WillRenameFilesFeature;var WillDeleteFilesFeature=class extends RequestFileOperationFeature{constructor(client){super(client,code.workspace.onWillDeleteFiles,proto.WillDeleteFilesRequest.type,"willDelete","willDelete",i=>i,client.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(event,next){var _a;let middleware=(_a=this._client.clientOptions.middleware)===null||_a===void 0?void 0:_a.workspace;return(middleware==null?void 0:middleware.willDeleteFiles)?middleware.willDeleteFiles(event,next):next(event)}};exports.WillDeleteFilesFeature=WillDeleteFilesFeature}});var require_linkedEditingRange=__commonJS({"../node_modules/vscode-languageclient/lib/common/linkedEditingRange.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.LinkedEditingFeature=void 0;var code=require("vscode"),proto=require_main3(),client_1=require_client2();function ensure(target,key){return target[key]===void 0&&(target[key]={}),target[key]}var LinkedEditingFeature=class extends client_1.TextDocumentFeature{constructor(client){super(client,proto.LinkedEditingRangeRequest.type)}fillClientCapabilities(capabilities){let linkedEditingSupport=ensure(ensure(capabilities,"textDocument"),"linkedEditingRange");linkedEditingSupport.dynamicRegistration=!0}initialize(capabilities,documentSelector){let[id,options]=this.getRegistration(documentSelector,capabilities.linkedEditingRangeProvider);!id||!options||this.register({id,registerOptions:options})}registerLanguageProvider(options){let provider={provideLinkedEditingRanges:(document2,position,token)=>{let client=this._client,provideLinkedEditing=(document3,position2,token2)=>client.sendRequest(proto.LinkedEditingRangeRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asLinkedEditingRanges,error=>client.handleFailedRequest(proto.LinkedEditingRangeRequest.type,error,null)),middleware=client.clientOptions.middleware;return middleware.provideLinkedEditingRange?middleware.provideLinkedEditingRange(document2,position,token,provideLinkedEditing):provideLinkedEditing(document2,position,token)}};return[code.languages.registerLinkedEditingRangeProvider(options.documentSelector,provider),provider]}};exports.LinkedEditingFeature=LinkedEditingFeature}});var require_commonClient=__commonJS({"../node_modules/vscode-languageclient/lib/common/commonClient.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ProposedFeatures=exports.CommonLanguageClient=void 0;var client_1=require_client2(),colorProvider_1=require_colorProvider(),configuration_1=require_configuration(),implementation_1=require_implementation(),typeDefinition_1=require_typeDefinition(),workspaceFolders_1=require_workspaceFolders(),foldingRange_1=require_foldingRange(),declaration_1=require_declaration(),selectionRange_1=require_selectionRange(),progress_1=require_progress(),callHierarchy_1=require_callHierarchy(),semanticTokens_1=require_semanticTokens(),fileOperations_1=require_fileOperations(),linkedEditingRange_1=require_linkedEditingRange(),CommonLanguageClient=class extends client_1.BaseLanguageClient{constructor(id,name,clientOptions){super(id,name,clientOptions)}registerProposedFeatures(){this.registerFeatures(ProposedFeatures.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new configuration_1.ConfigurationFeature(this)),this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this)),this.registerFeature(new implementation_1.ImplementationFeature(this)),this.registerFeature(new colorProvider_1.ColorProviderFeature(this)),this.registerFeature(new workspaceFolders_1.WorkspaceFoldersFeature(this)),this.registerFeature(new foldingRange_1.FoldingRangeFeature(this)),this.registerFeature(new declaration_1.DeclarationFeature(this)),this.registerFeature(new selectionRange_1.SelectionRangeFeature(this)),this.registerFeature(new progress_1.ProgressFeature(this)),this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this)),this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this)),this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this)),this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this)),this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this)),this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this)),this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this)),this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this)),this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this))}};exports.CommonLanguageClient=CommonLanguageClient;var ProposedFeatures;(function(ProposedFeatures2){function createAll(_client){return[]}ProposedFeatures2.createAll=createAll})(ProposedFeatures=exports.ProposedFeatures||(exports.ProposedFeatures={}))}});var require_processes=__commonJS({"../node_modules/vscode-languageclient/lib/node/processes.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.terminate=void 0;var cp=require("child_process"),path_1=require("path"),isWindows=process.platform==="win32",isMacintosh=process.platform==="darwin",isLinux=process.platform==="linux";function terminate(process2,cwd){if(isWindows)try{let options={stdio:["pipe","pipe","ignore"]};return cwd&&(options.cwd=cwd),cp.execFileSync("taskkill",["/T","/F","/PID",process2.pid.toString()],options),!0}catch{return!1}else if(isLinux||isMacintosh)try{var cmd=path_1.join(__dirname,"terminateProcess.sh"),result=cp.spawnSync(cmd,[process2.pid.toString()]);return!result.error}catch{return!1}else return process2.kill("SIGKILL"),!0}exports.terminate=terminate}});var require_node4=__commonJS({"../node_modules/vscode-languageserver-protocol/node.js"(exports,module2){"use strict";module2.exports=require_main3()}});var require_api4=__commonJS({"../node_modules/vscode-languageclient/lib/common/api.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]}),__exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p)&&__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:!0});__exportStar(require_main3(),exports);__exportStar(require_client2(),exports);__exportStar(require_commonClient(),exports)}});var require_main4=__commonJS({"../node_modules/vscode-languageclient/lib/node/main.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]}),__exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p)&&__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:!0});exports.SettingMonitor=exports.LanguageClient=exports.TransportKind=void 0;var cp=require("child_process"),fs=require("fs"),path4=require("path"),SemVer=require_semver2(),vscode_1=require("vscode"),Is=require_is2(),commonClient_1=require_commonClient(),client_1=require_client2(),processes_1=require_processes(),node_1=require_node4();__exportStar(require_node4(),exports);__exportStar(require_api4(),exports);var REQUIRED_VSCODE_VERSION="^1.52.0",Executable;(function(Executable2){function is(value){return Is.string(value.command)}Executable2.is=is})(Executable||(Executable={}));var TransportKind2;(function(TransportKind3){TransportKind3[TransportKind3.stdio=0]="stdio",TransportKind3[TransportKind3.ipc=1]="ipc",TransportKind3[TransportKind3.pipe=2]="pipe",TransportKind3[TransportKind3.socket=3]="socket"})(TransportKind2=exports.TransportKind||(exports.TransportKind={}));var Transport;(function(Transport2){function isSocket(value){let candidate=value;return candidate&&candidate.kind===TransportKind2.socket&&Is.number(candidate.port)}Transport2.isSocket=isSocket})(Transport||(Transport={}));var NodeModule;(function(NodeModule2){function is(value){return Is.string(value.module)}NodeModule2.is=is})(NodeModule||(NodeModule={}));var StreamInfo;(function(StreamInfo2){function is(value){let candidate=value;return candidate&&candidate.writer!==void 0&&candidate.reader!==void 0}StreamInfo2.is=is})(StreamInfo||(StreamInfo={}));var ChildProcessInfo;(function(ChildProcessInfo2){function is(value){let candidate=value;return candidate&&candidate.process!==void 0&&typeof candidate.detached=="boolean"}ChildProcessInfo2.is=is})(ChildProcessInfo||(ChildProcessInfo={}));var LanguageClient2=class extends commonClient_1.CommonLanguageClient{constructor(arg1,arg2,arg3,arg4,arg5){let id,name,serverOptions,clientOptions,forceDebug;Is.string(arg2)?(id=arg1,name=arg2,serverOptions=arg3,clientOptions=arg4,forceDebug=!!arg5):(id=arg1.toLowerCase(),name=arg1,serverOptions=arg2,clientOptions=arg3,forceDebug=arg4),forceDebug===void 0&&(forceDebug=!1);super(id,name,clientOptions);this._serverOptions=serverOptions,this._forceDebug=forceDebug;try{this.checkVersion()}catch(error){throw Is.string(error.message)&&this.outputChannel.appendLine(error.message),error}}checkVersion(){let codeVersion=SemVer.parse(vscode_1.version);if(!codeVersion)throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);if(codeVersion.prerelease&&codeVersion.prerelease.length>0&&(codeVersion.prerelease=[]),!SemVer.satisfies(codeVersion,REQUIRED_VSCODE_VERSION))throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let toCheck=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(toCheck),this._isDetached=void 0}})}checkProcessDied(childProcess){!childProcess||setTimeout(()=>{try{process.kill(childProcess.pid,0),processes_1.terminate(childProcess)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(params){super.fillInitializeParams(params),params.processId===null&&(params.processId=process.pid)}createMessageTransports(encoding){function getEnvironment(env4,fork){if(!env4&&!fork)return;let result=Object.create(null);return Object.keys(process.env).forEach(key=>result[key]=process.env[key]),fork&&(result.ELECTRON_RUN_AS_NODE="1",result.ELECTRON_NO_ASAR="1"),env4&&Object.keys(env4).forEach(key=>result[key]=env4[key]),result}let debugStartWith=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],debugEquals=["--debug","--debug-brk","--inspect","--inspect-brk"];function startedInDebugMode(){let args=process.execArgv;return args?args.some(arg=>debugStartWith.some(value=>arg.startsWith(value))||debugEquals.some(value=>arg===value)):!1}function assertStdio(process2){if(process2.stdin===null||process2.stdout===null||process2.stderr===null)throw new Error("Process created without stdio streams")}let server=this._serverOptions;if(Is.func(server))return server().then(result=>{if(client_1.MessageTransports.is(result))return this._isDetached=!!result.detached,result;if(StreamInfo.is(result))return this._isDetached=!!result.detached,{reader:new node_1.StreamMessageReader(result.reader),writer:new node_1.StreamMessageWriter(result.writer)};{let cp2;return ChildProcessInfo.is(result)?(cp2=result.process,this._isDetached=result.detached):(cp2=result,this._isDetached=!1),cp2.stderr.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),{reader:new node_1.StreamMessageReader(cp2.stdout),writer:new node_1.StreamMessageWriter(cp2.stdin)}}});let json,runDebug=server;return runDebug.run||runDebug.debug?this._forceDebug||startedInDebugMode()?json=runDebug.debug:json=runDebug.run:json=server,this._getServerWorkingDir(json.options).then(serverWorkingDir=>{if(NodeModule.is(json)&&json.module){let node=json,transport=node.transport||TransportKind2.stdio;if(node.runtime){let args=[],options=node.options||Object.create(null);options.execArgv&&options.execArgv.forEach(element=>args.push(element)),args.push(node.module),node.args&&node.args.forEach(element=>args.push(element));let execOptions=Object.create(null);execOptions.cwd=serverWorkingDir,execOptions.env=getEnvironment(options.env,!1);let runtime=this._getRuntimePath(node.runtime,serverWorkingDir),pipeName;if(transport===TransportKind2.ipc?(execOptions.stdio=[null,null,null,"ipc"],args.push("--node-ipc")):transport===TransportKind2.stdio?args.push("--stdio"):transport===TransportKind2.pipe?(pipeName=node_1.generateRandomPipeName(),args.push(`--pipe=${pipeName}`)):Transport.isSocket(transport)&&args.push(`--socket=${transport.port}`),args.push(`--clientProcessId=${process.pid.toString()}`),transport===TransportKind2.ipc||transport===TransportKind2.stdio){let serverProcess=cp.spawn(runtime,args,execOptions);return!serverProcess||!serverProcess.pid?Promise.reject(`Launching server using runtime ${runtime} failed.`):(this._serverProcess=serverProcess,serverProcess.stderr.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),transport===TransportKind2.ipc?(serverProcess.stdout.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),Promise.resolve({reader:new node_1.IPCMessageReader(serverProcess),writer:new node_1.IPCMessageWriter(serverProcess)})):Promise.resolve({reader:new node_1.StreamMessageReader(serverProcess.stdout),writer:new node_1.StreamMessageWriter(serverProcess.stdin)}))}else{if(transport===TransportKind2.pipe)return node_1.createClientPipeTransport(pipeName).then(transport2=>{let process2=cp.spawn(runtime,args,execOptions);return!process2||!process2.pid?Promise.reject(`Launching server using runtime ${runtime} failed.`):(this._serverProcess=process2,process2.stderr.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),process2.stdout.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),transport2.onConnected().then(protocol=>({reader:protocol[0],writer:protocol[1]})))});if(Transport.isSocket(transport))return node_1.createClientSocketTransport(transport.port).then(transport2=>{let process2=cp.spawn(runtime,args,execOptions);return!process2||!process2.pid?Promise.reject(`Launching server using runtime ${runtime} failed.`):(this._serverProcess=process2,process2.stderr.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),process2.stdout.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),transport2.onConnected().then(protocol=>({reader:protocol[0],writer:protocol[1]})))})}}else{let pipeName;return new Promise((resolve,_reject)=>{let args=node.args&&node.args.slice()||[];transport===TransportKind2.ipc?args.push("--node-ipc"):transport===TransportKind2.stdio?args.push("--stdio"):transport===TransportKind2.pipe?(pipeName=node_1.generateRandomPipeName(),args.push(`--pipe=${pipeName}`)):Transport.isSocket(transport)&&args.push(`--socket=${transport.port}`),args.push(`--clientProcessId=${process.pid.toString()}`);let options=node.options||Object.create(null);if(options.env=getEnvironment(options.env,!0),options.execArgv=options.execArgv||[],options.cwd=serverWorkingDir,options.silent=!0,transport===TransportKind2.ipc||transport===TransportKind2.stdio){let sp=cp.fork(node.module,args||[],options);assertStdio(sp),this._serverProcess=sp,sp.stderr.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),transport===TransportKind2.ipc?(sp.stdout.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),resolve({reader:new node_1.IPCMessageReader(this._serverProcess),writer:new node_1.IPCMessageWriter(this._serverProcess)})):resolve({reader:new node_1.StreamMessageReader(sp.stdout),writer:new node_1.StreamMessageWriter(sp.stdin)})}else transport===TransportKind2.pipe?node_1.createClientPipeTransport(pipeName).then(transport2=>{let sp=cp.fork(node.module,args||[],options);assertStdio(sp),this._serverProcess=sp,sp.stderr.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),sp.stdout.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),transport2.onConnected().then(protocol=>{resolve({reader:protocol[0],writer:protocol[1]})})}):Transport.isSocket(transport)&&node_1.createClientSocketTransport(transport.port).then(transport2=>{let sp=cp.fork(node.module,args||[],options);assertStdio(sp),this._serverProcess=sp,sp.stderr.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),sp.stdout.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),transport2.onConnected().then(protocol=>{resolve({reader:protocol[0],writer:protocol[1]})})})})}}else if(Executable.is(json)&&json.command){let command=json,args=command.args||[],options=Object.assign({},command.options);options.cwd=options.cwd||serverWorkingDir;let serverProcess=cp.spawn(command.command,args,options);return!serverProcess||!serverProcess.pid?Promise.reject(`Launching server using command ${command.command} failed.`):(serverProcess.stderr.on("data",data=>this.outputChannel.append(Is.string(data)?data:data.toString(encoding))),this._serverProcess=serverProcess,this._isDetached=!!options.detached,Promise.resolve({reader:new node_1.StreamMessageReader(serverProcess.stdout),writer:new node_1.StreamMessageWriter(serverProcess.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(server,null,4)))})}_getRuntimePath(runtime,serverWorkingDirectory){if(path4.isAbsolute(runtime))return runtime;let mainRootPath=this._mainGetRootPath();if(mainRootPath!==void 0){let result=path4.join(mainRootPath,runtime);if(fs.existsSync(result))return result}if(serverWorkingDirectory!==void 0){let result=path4.join(serverWorkingDirectory,runtime);if(fs.existsSync(result))return result}return runtime}_mainGetRootPath(){let folders=vscode_1.workspace.workspaceFolders;if(!folders||folders.length===0)return;let folder=folders[0];if(folder.uri.scheme==="file")return folder.uri.fsPath}_getServerWorkingDir(options){let cwd=options&&options.cwd;return cwd||(cwd=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),cwd?new Promise(s=>{fs.lstat(cwd,(err,stats)=>{s(!err&&stats.isDirectory()?cwd:void 0)})}):Promise.resolve(void 0)}getLocale(){let envValue=process.env.VSCODE_NLS_CONFIG;if(envValue===void 0)return"en";let config;try{config=JSON.parse(envValue)}catch{}return config===void 0||typeof config.locale!="string"?"en":config.locale}};exports.LanguageClient=LanguageClient2;var SettingMonitor=class{constructor(_client,_setting){this._client=_client,this._setting=_setting,this._listeners=[]}start(){return vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new vscode_1.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let index=this._setting.indexOf("."),primary=index>=0?this._setting.substr(0,index):this._setting,rest=index>=0?this._setting.substr(index+1):void 0,enabled=rest?vscode_1.workspace.getConfiguration(primary).get(rest,!1):vscode_1.workspace.getConfiguration(primary);enabled&&this._client.needsStart()?this._client.start():!enabled&&this._client.needsStop()&&this._client.stop()}};exports.SettingMonitor=SettingMonitor}});var require_node5=__commonJS({"../node_modules/vscode-languageclient/node.js"(exports,module2){"use strict";module2.exports=require_main4()}});var extension_exports={};__export(extension_exports,{activate:()=>activate,deactivate:()=>deactivate});var import_vscode=require("vscode"),PREVIOUSLY_SHOWN_TELEMETRY_LABEL="previouslyShownTelemetryMessage";async function showAnalyticsAllowPopup({context}){if(await context.globalState.update("shownTelemetryMessage",void 0),context.globalState.get(PREVIOUSLY_SHOWN_TELEMETRY_LABEL)===!0)return;let isAccepted=await import_vscode.window.showInformationMessage("Help us improve the Solidity by Nomic Foundation extension with anonymous crash reports & basic usage data?",{modal:!0},"Accept","Decline")==="Accept";await import_vscode.workspace.getConfiguration("solidity").update("telemetry",isAccepted,import_vscode.ConfigurationTarget.Global),await context.globalState.update(PREVIOUSLY_SHOWN_TELEMETRY_LABEL,!0)}var import_vscode2=require("vscode"),CONFLICTING_EXTENSION_ID="juanblanco.solidity",CONFLICTING_EXTENSION_NAME="solidity";async function warnOnOtherSolidityExtensions({logger}){if(import_vscode2.extensions.getExtension(CONFLICTING_EXTENSION_ID)!==void 0)try{await import_vscode2.window.showWarningMessage(`Both this extension and the \`${CONFLICTING_EXTENSION_NAME}\` (${CONFLICTING_EXTENSION_ID}) extension are enabled. They have conflicting functionality. Disable one of them.`,"Okay")}catch(err){logger.error(err)}}var import_path=__toESM(require("path")),import_vscode3=__toESM(require("vscode"));async function indexHardhatProjects(state){let hardhatConfigs=await import_vscode3.default.workspace.findFiles("**/hardhat.config.{ts,js}","**/node_modules/**");state.hardhatProjects=hardhatConfigs.map(hardhatConfig=>import_path.default.dirname(hardhatConfig.fsPath))}var vscode6=__toESM(require("vscode"));var import_child_process=require("child_process"),import_vscode4=__toESM(require("vscode"));function isHardhatInstalled(configPath){try{return require.resolve("hardhat",{paths:[configPath]}),!0}catch{return!1}}function getHardhatCLIPath(configPath){try{return require.resolve("hardhat/internal/cli/cli",{paths:[configPath]})}catch{throw new Error("Hardhat CLI not found")}}var vscode2=__toESM(require("vscode"));var openNewDocument=async text=>{let document2=await vscode2.workspace.openTextDocument({language:"solidity"}),editor=await vscode2.window.showTextDocument(document2);return await editor.edit(edit=>edit.insert(new vscode2.Position(0,0),text)),editor},withProgressNotification=async(title,callback)=>vscode2.window.withProgress({location:vscode2.ProgressLocation.Notification,cancellable:!1,title},callback),ensureHardhatIsInstalled=async hardhatDir=>isHardhatInstalled(hardhatDir)?!0:(await vscode2.window.showErrorMessage("Hardhat installation not found. Try installing the project's dependencies."),!1);var vscode3=__toESM(require("vscode")),findHardhatDirForFile=(state,filePath)=>state.hardhatProjects.find(dir=>filePath.startsWith(dir)),ensureCurrentHardhatDir=async state=>{let currentFile=getCurrentOpenFile()?.uri.fsPath,currentHardhatDir;return currentFile===void 0&&state.hardhatProjects.length===1?currentHardhatDir=state.hardhatProjects[0]:currentFile===void 0?await vscode3.window.showErrorMessage("Multiple hardhat projects found. Please open a project's file and try again."):(currentHardhatDir=findHardhatDirForFile(state,currentFile),currentHardhatDir===void 0&&await vscode3.window.showErrorMessage("Current file doesn't belong to a hardhat project.")),currentHardhatDir},getCurrentOpenFile=()=>vscode3.window.activeTextEditor?.document;var Command=class{constructor(state){this.state=state}};var HardhatTaskCommand=class extends Command{async execute(){let currentHardhatDir=await ensureCurrentHardhatDir(this.state);if(currentHardhatDir===void 0||!await ensureHardhatIsInstalled(currentHardhatDir)||!await this.beforeExecute())return;let cliPath=getHardhatCLIPath(currentHardhatDir);this.state.outputChannel.appendLine(`Running 'hardhat ${this.hardhatArgs().join(" ")}'
`),await withProgressNotification(this.progressLabel(),async()=>new Promise(resolve=>{let childProcess=(0,import_child_process.spawn)("node",[cliPath,...this.hardhatArgs()],{cwd:currentHardhatDir});childProcess.stdout.on("data",data=>{this.onStdout(data.toString())}),childProcess.stderr.on("data",data=>{this.onStderr(data.toString())}),childProcess.on("close",async _status=>{this.onClose(_status),resolve(_status)})}))!==0&&(this.state.outputChannel.show(),await import_vscode4.default.window.showErrorMessage("Solidity command errored, please see output logs."))}async beforeExecute(){return!0}onStdout(data){this.state.outputChannel.append(data)}onStderr(data){this.state.outputChannel.append(data)}onClose(_status){}};var CompileCommand=class extends HardhatTaskCommand{name(){return"solidity.hardhat.compile"}hardhatArgs(){return["compile"]}progressLabel(){return"Compiling the project"}};var import_vscode5=__toESM(require("vscode"));var FlattenCurrentFileCommand=class extends HardhatTaskCommand{constructor(){super(...arguments);this.buffer=[]}name(){return"solidity.hardhat.flattenCurrentFile"}hardhatArgs(){let currentFile=getCurrentOpenFile();return["flatten",currentFile?.uri.fsPath??""]}progressLabel(){return"Flattening file"}onStdout(data){this.buffer.push(data.toString())}async onClose(_status){let flattened=this.buffer.join("");typeof flattened!="string"||flattened.trim().length===0||await openNewDocument(flattened)}async beforeExecute(){this.buffer=[];let currentFile=getCurrentOpenFile();return currentFile===void 0?!1:currentFile.isDirty?(await import_vscode5.default.window.showWarningMessage("Please save your file before flattening"),!1):!0}};var CleanCommand=class extends HardhatTaskCommand{name(){return"solidity.hardhat.clean"}hardhatArgs(){return["clean"]}progressLabel(){return"Cleaning artifacts and cache"}};var commandClasses=[CompileCommand,FlattenCurrentFileCommand,CleanCommand];async function setupCommands(state){for(let commandClass of commandClasses){let command=new commandClass(state),disposable=vscode6.commands.registerCommand(command.name(),(...args)=>command.execute(...args));state.context.subscriptions.push(disposable)}}var path2=__toESM(require("path")),import_vscode7=require("vscode");var Sentry=__toESM(require_dist7());var import_vscode6=require("vscode");function isGlobalTelemetryEnabled(){return import_vscode6.env.isTelemetryEnabled}function isHardhatTelemetryEnabled(){return import_vscode6.workspace.getConfiguration("solidity").get("telemetry")??!1}function isTelemetryEnabled(){return isGlobalTelemetryEnabled()&&isHardhatTelemetryEnabled()}var SENTRY_CLOSE_TIMEOUT=2e3,SentryClientTelemetry=class{constructor(dsn){this.dsn=dsn,this.extensionState=null}init(extensionState2){this.extensionState=extensionState2,Sentry.init({dsn:this.dsn,tracesSampleRate:this.extensionState.env==="development"?1:.001,release:`${this.extensionState.name}@${this.extensionState.version}`,environment:this.extensionState.env,initialScope:{user:{id:this.extensionState.machineId},tags:{component:"ext"}},integrations:defaults=>defaults.filter(integration=>integration.name!=="OnUncaughtException"&&integration.name!=="OnUnhandledRejection"),beforeSend:event=>isTelemetryEnabled()?event:null})}captureException(err){Sentry.captureException(err)}close(){return Sentry.close(SENTRY_CLOSE_TIMEOUT)}};var Logger=class{constructor(outputChannel,telemetry){this.outputChannel=outputChannel,this.telemetry=telemetry}log(text){this.outputChannel.appendLine(text)}info(text){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${text}`)}error(err){this.telemetry.captureException(err);let message=err instanceof Error?err.message:String(err);this.outputChannel.appendLine(`[Error  - ${new Date().toLocaleTimeString()}] ${message}`)}};function setupExtensionState(context,{sentryDsn}){let environment=process.env.VSCODE_NODE_ENV==="development"?process.env.VSCODE_NODE_ENV:"production",serverModulePath=context.asAbsolutePath(environment==="development"?path2.join("../node_modules/@nomicfoundation/solidity-language-server/out/index.js"):path2.join("./server/out/index.js")),outputChannel=import_vscode7.window.createOutputChannel("Solidity"),commandsOutputChannel=import_vscode7.window.createOutputChannel("Solidity Commands"),telemetry=new SentryClientTelemetry(sentryDsn),logger=new Logger(outputChannel,telemetry),extensionState2={context,env:environment,version:context.extension.packageJSON.version,name:context.extension.packageJSON.name,serverModulePath,machineId:import_vscode7.env.machineId,client:null,listenerDisposables:[],projectsValidationStatus:{},telemetryEnabled:isTelemetryEnabled(),projectStatusItems:[],telemetry,outputChannel,commandsOutputChannel,logger,hardhatProjects:[]};return telemetry.init(extensionState2),extensionState2}var import_vscode10=require("vscode"),import_node=__toESM(require_node5());var import_vscode8=require("vscode"),INDEXING_JOB_ID="indexing";function setupIndexingHooks(extensionState2,client){let indexingStatusItem=setupIndexingLanguageStatusItem();client.onReady().then(()=>{indexingStatusItem.dispose();let fileIndexedDisposable=client.onNotification("custom/file-indexed",({uri,project})=>{let statusItem=findOrCreateProjectStatusItem(extensionState2,uri);statusItem.severity=import_vscode8.LanguageStatusSeverity.Information,statusItem.text=`Project: ${project.frameworkName}`,project.configPath!==void 0&&(statusItem.command={title:"Open config file",command:"vscode.open",arguments:[import_vscode8.Uri.file(project.configPath)]})});extensionState2.listenerDisposables.push(fileIndexedDisposable)}).catch(reason=>extensionState2.logger.error(reason))}function findOrCreateProjectStatusItem(extensionState2,uri){let foundStatusItem=extensionState2.projectStatusItems.find(item=>item.id===`project-${uri}`);if(foundStatusItem!==void 0)return foundStatusItem;let statusItem=import_vscode8.languages.createLanguageStatusItem(`project-${uri}`,{language:"solidity",pattern:uri});return extensionState2.projectStatusItems.push(statusItem),statusItem}function setupIndexingLanguageStatusItem(){let statusItem=import_vscode8.languages.createLanguageStatusItem(INDEXING_JOB_ID,{language:"solidity"});return statusItem.severity=import_vscode8.LanguageStatusSeverity.Information,statusItem.name="Indexing",statusItem.text="Scanning for sol files",statusItem.detail=void 0,statusItem.busy=!0,statusItem}var import_vscode9=require("vscode");function setupValidationJobHooks(extensionState2,client){return client.onReady().then(()=>(import_vscode9.window.onDidChangeActiveTextEditor(e=>{let uri=e?.document.uri.toString(),version=e?.document.version;uri!==void 0&&version!==void 0&&uri.endsWith(".sol")&&client.sendNotification("textDocument/didChange",{textDocument:{uri,version},contentChanges:[{range:{start:{line:0,character:0},end:{line:0,character:0}},rangeLength:1,text:""}]})}),client.onNotification("custom/validation-job-status",notification=>{updateValidationStatusItem(extensionState2,notification)})))}function updateValidationStatusItem(extensionState2,notification){let statusItem;return notification.projectBasePath in extensionState2.projectsValidationStatus?statusItem=extensionState2.projectsValidationStatus[notification.projectBasePath]:(statusItem=import_vscode9.languages.createLanguageStatusItem(`validation:${notification.projectBasePath}`,{language:"solidity",pattern:`${notification.projectBasePath}/**/*.sol`}),extensionState2.projectsValidationStatus[notification.projectBasePath]=statusItem),statusItem.severity=notification.validationRun?import_vscode9.LanguageStatusSeverity.Information:import_vscode9.LanguageStatusSeverity.Error,statusItem.name="Validation",statusItem.text=notification.validationRun?notification.version:"Validation blocked",statusItem.detail=notification.validationRun?"Solc Version":notification.displayText,statusItem.busy=!1,!notification.validationRun&&notification.errorFile!==void 0?statusItem.command={title:"Open file",command:"vscode.open",arguments:[notification.errorFile]}:statusItem.command=void 0,statusItem}function setupLanguageServerHooks(extensionState2){startLanguageServer(extensionState2)}var startLanguageServer=extensionState2=>{let{logger}=extensionState2,debugOptions={execArgv:["--nolazy",`--inspect=${6009}`]},serverOptions={run:{module:extensionState2.serverModulePath,transport:import_node.TransportKind.ipc},debug:{module:extensionState2.serverModulePath,transport:import_node.TransportKind.ipc,options:debugOptions}},clientOptions={documentSelector:[{scheme:"file",language:"solidity",pattern:"**/*.sol"}],synchronize:{fileEvents:[import_vscode10.workspace.createFileSystemWatcher("**/hardhat.config.{ts,js}"),import_vscode10.workspace.createFileSystemWatcher("**/{truffle-config,truffle}.js"),import_vscode10.workspace.createFileSystemWatcher("**/foundry.toml"),import_vscode10.workspace.createFileSystemWatcher("**/ape-config.yaml"),import_vscode10.workspace.createFileSystemWatcher("**/remappings.txt"),import_vscode10.workspace.createFileSystemWatcher("**/*.sol")]},diagnosticCollectionName:"solidity-language-server",outputChannel:extensionState2.outputChannel,initializationOptions:{extensionName:extensionState2.name,extensionVersion:extensionState2.version,env:extensionState2.env,telemetryEnabled:extensionState2.telemetryEnabled,machineId:extensionState2.machineId,extensionConfig:import_vscode10.workspace.getConfiguration("solidity")}};logger.info("Client starting");let client=new import_node.LanguageClient("solidity-language-server","Solidity Language Server",serverOptions,clientOptions);setupIndexingHooks(extensionState2,client),setupValidationJobHooks(extensionState2,client).then(disposable=>extensionState2.listenerDisposables.push(disposable)).catch(err=>extensionState2.logger.error(err));let notifyTelemetryChanged=()=>{let telemetryEnabled=isTelemetryEnabled();extensionState2.telemetryEnabled=telemetryEnabled,client.sendNotification("custom/didChangeTelemetryEnabled",{enabled:telemetryEnabled})},globalTelemetryChangeDisposable=import_vscode10.env.onDidChangeTelemetryEnabled(notifyTelemetryChanged),configChangedDisposable=import_vscode10.workspace.onDidChangeConfiguration(()=>{notifyTelemetryChanged(),client.sendNotification("custom/didChangeExtensionConfig",import_vscode10.workspace.getConfiguration("solidity"))});extensionState2.listenerDisposables.push(globalTelemetryChangeDisposable),extensionState2.listenerDisposables.push(configChangedDisposable),client.start(),extensionState2.client=client};var vscode8=__toESM(require("vscode"));var import_path2=__toESM(require("path")),vscode7=__toESM(require("vscode")),import_vscode11=require("vscode");var TASKS=[{name:"compile",command:"compile",detail:"Compile hardhat project",group:vscode7.TaskGroup.Build},{name:"test",command:"test",detail:"Run hardhat tests",group:vscode7.TaskGroup.Test},{name:"clean",command:"clean",detail:"Clear hardhat cache and artifacts",group:vscode7.TaskGroup.Clean}],TASK_TYPE="hardhat",SOURCE="hardhat",HardhatTaskProvider=class{constructor(state){this.state=state}async resolveTask(_task,_token){}async provideTasks(){let tasks2=[],sortedWorkspaceFolders=(vscode7.workspace.workspaceFolders||[]).map(f=>f).sort((a,b)=>b.uri.fsPath.length-a.uri.fsPath.length);for(let taskDef of TASKS)for(let projectDir of this.state.hardhatProjects){if(!isHardhatInstalled(projectDir))continue;let workspaceFolder=sortedWorkspaceFolders.find(folder=>projectDir.startsWith(folder.uri.fsPath));if(workspaceFolder===void 0)continue;let relativePathInWorkspace=import_path2.default.relative(workspaceFolder.uri.fsPath,projectDir),taskName=taskDef.name.concat(relativePathInWorkspace.length>0?` - ${relativePathInWorkspace}`:""),task=new import_vscode11.Task({type:TASK_TYPE,task:taskDef.name},workspaceFolder,taskName,SOURCE,new vscode7.ShellExecution("npx",["hardhat",taskDef.command],{cwd:projectDir}));task.detail=taskDef.detail,task.group=taskDef.group,tasks2.push(task)}return tasks2}};function setupTaskProvider(state){let taskProvider=new HardhatTaskProvider(state),disposable=vscode8.tasks.registerTaskProvider("hardhat",taskProvider);return state.context.subscriptions.push(disposable),disposable}var import_vscode12=__toESM(require("vscode"));function setupWorkspaceHooks(state){state.listenerDisposables.push(import_vscode12.default.workspace.onDidOpenTextDocument(onDidOpenTextDocument(state))),state.listenerDisposables.push(import_vscode12.default.workspace.onDidChangeWorkspaceFolders(onDidChangeWorkspaceFolders(state)))}function onDidOpenTextDocument(state){return async e=>{let folder=findHardhatDirForFile(state,e.uri.fsPath);await import_vscode12.default.commands.executeCommand("setContext","solidity.inHardhatProject",folder!==void 0)}}function onDidChangeWorkspaceFolders(state){return async()=>{await indexHardhatProjects(state)}}var extensionState=null,SENTRY_DSN="https://9d1e887190db400791c77d9bb5a154fd@o385026.ingest.sentry.io/5469451";async function activate(context){extensionState=setupExtensionState(context,{sentryDsn:SENTRY_DSN});let{logger}=extensionState;return logger.info("Solidity by Nomic Foundation Starting ..."),logger.info(`env: ${extensionState.env}`),await indexHardhatProjects(extensionState),setupLanguageServerHooks(extensionState),setupTaskProvider(extensionState),await setupCommands(extensionState),setupWorkspaceHooks(extensionState),showAnalyticsAllowPopup(extensionState),warnOnOtherSolidityExtensions(extensionState),{isReady:()=>!!extensionState?.client?.initializeResult}}function deactivate(){if(!extensionState)return;extensionState.listenerDisposables.forEach(disposable=>disposable.dispose());let clientStopPromise=extensionState.client!==null?extensionState.client.stop():Promise.resolve(),telemetryClosePromise=extensionState.telemetry.close();return Promise.all([clientStopPromise,telemetryClosePromise])}module.exports=__toCommonJS(extension_exports);0&&(module.exports={activate,deactivate});
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
